<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1'>
	<title>1k</title>
  <meta name="description" content="Unstoppable Notes">


  <link rel='icon' type='image/png' href='/favicon.png'>
	
          <!-- inline pub/build/bundle.css -->
          <style>@charset "UTF-8";/*!
 * Pico.css v1.5.3 (https://picocss.com)
 * Copyright 2019-2022 - Licensed under MIT
 */:root{--font-family:system-ui,-apple-system,"Segoe UI","Roboto","Ubuntu","Cantarell","Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--line-height:1.5;--font-weight:400;--font-size:16px;--border-radius:0.25rem;--border-width:1px;--outline-width:3px;--spacing:1rem;--typography-spacing-vertical:1.5rem;--block-spacing-vertical:calc(var(--spacing) * 2);--block-spacing-horizontal:var(--spacing);--grid-spacing-vertical:0;--grid-spacing-horizontal:var(--spacing);--form-element-spacing-vertical:0.75rem;--form-element-spacing-horizontal:1rem;--nav-element-spacing-vertical:1rem;--nav-element-spacing-horizontal:0.5rem;--nav-link-spacing-vertical:0.5rem;--nav-link-spacing-horizontal:0.5rem;--form-label-font-weight:var(--font-weight);--transition:0.2s ease-in-out}@media (min-width:576px){:root{--font-size:17px}}@media (min-width:768px){:root{--font-size:18px}}@media (min-width:992px){:root{--font-size:19px}}@media (min-width:1200px){:root{--font-size:20px}}@media (min-width:576px){body>footer,body>header,body>main,section{--block-spacing-vertical:calc(var(--spacing) * 2.5)}}@media (min-width:768px){body>footer,body>header,body>main,section{--block-spacing-vertical:calc(var(--spacing) * 3)}}@media (min-width:992px){body>footer,body>header,body>main,section{--block-spacing-vertical:calc(var(--spacing) * 3.5)}}@media (min-width:1200px){body>footer,body>header,body>main,section{--block-spacing-vertical:calc(var(--spacing) * 4)}}@media (min-width:576px){article{--block-spacing-horizontal:calc(var(--spacing) * 1.25)}}@media (min-width:768px){article{--block-spacing-horizontal:calc(var(--spacing) * 1.5)}}@media (min-width:992px){article{--block-spacing-horizontal:calc(var(--spacing) * 1.75)}}@media (min-width:1200px){article{--block-spacing-horizontal:calc(var(--spacing) * 2)}}dialog>article{--block-spacing-vertical:calc(var(--spacing) * 2);--block-spacing-horizontal:var(--spacing)}@media (min-width:576px){dialog>article{--block-spacing-vertical:calc(var(--spacing) * 2.5);--block-spacing-horizontal:calc(var(--spacing) * 1.25)}}@media (min-width:768px){dialog>article{--block-spacing-vertical:calc(var(--spacing) * 3);--block-spacing-horizontal:calc(var(--spacing) * 1.5)}}a{--text-decoration:none}a.contrast,a.secondary{--text-decoration:underline}small{--font-size:0.875em}h1,h2,h3,h4,h5,h6{--font-weight:700}h1{--font-size:2rem;--typography-spacing-vertical:3rem}h2{--font-size:1.75rem;--typography-spacing-vertical:2.625rem}h3{--font-size:1.5rem;--typography-spacing-vertical:2.25rem}h4{--font-size:1.25rem;--typography-spacing-vertical:1.874rem}h5{--font-size:1.125rem;--typography-spacing-vertical:1.6875rem}[type=checkbox],[type=radio]{--border-width:2px}[type=checkbox][role=switch]{--border-width:3px}tfoot td,tfoot th,thead td,thead th{--border-width:3px}:not(thead):not(tfoot)>*>td{--font-size:0.875em}code,kbd,pre,samp{--font-family:"Menlo","Consolas","Roboto Mono","Ubuntu Monospace","Noto Mono","Oxygen Mono","Liberation Mono",monospace,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}kbd{--font-weight:bolder}:root:not([data-theme=dark]),[data-theme=light]{color-scheme:light;--background-color:#fff;--color:hsl(205deg, 20%, 32%);--h1-color:hsl(205deg, 30%, 15%);--h2-color:#24333e;--h3-color:hsl(205deg, 25%, 23%);--h4-color:#374956;--h5-color:hsl(205deg, 20%, 32%);--h6-color:#4d606d;--muted-color:hsl(205deg, 10%, 50%);--muted-border-color:hsl(205deg, 20%, 94%);--primary:hsl(195deg, 85%, 41%);--primary-hover:hsl(195deg, 90%, 32%);--primary-focus:rgba(16, 149, 193, 0.125);--primary-inverse:#fff;--secondary:hsl(205deg, 15%, 41%);--secondary-hover:hsl(205deg, 20%, 32%);--secondary-focus:rgba(89, 107, 120, 0.125);--secondary-inverse:#fff;--contrast:hsl(205deg, 30%, 15%);--contrast-hover:#000;--contrast-focus:rgba(89, 107, 120, 0.125);--contrast-inverse:#fff;--mark-background-color:#fff2ca;--mark-color:#543a26;--ins-color:#388e3c;--del-color:#c62828;--blockquote-border-color:var(--muted-border-color);--blockquote-footer-color:var(--muted-color);--button-box-shadow:0 0 0 rgba(0, 0, 0, 0);--button-hover-box-shadow:0 0 0 rgba(0, 0, 0, 0);--form-element-background-color:transparent;--form-element-border-color:hsl(205deg, 14%, 68%);--form-element-color:var(--color);--form-element-placeholder-color:var(--muted-color);--form-element-active-background-color:transparent;--form-element-active-border-color:var(--primary);--form-element-focus-color:var(--primary-focus);--form-element-disabled-background-color:hsl(205deg, 18%, 86%);--form-element-disabled-border-color:hsl(205deg, 14%, 68%);--form-element-disabled-opacity:0.5;--form-element-invalid-border-color:#c62828;--form-element-invalid-active-border-color:#d32f2f;--form-element-invalid-focus-color:rgba(211, 47, 47, 0.125);--form-element-valid-border-color:#388e3c;--form-element-valid-active-border-color:#43a047;--form-element-valid-focus-color:rgba(67, 160, 71, 0.125);--switch-background-color:hsl(205deg, 16%, 77%);--switch-color:var(--primary-inverse);--switch-checked-background-color:var(--primary);--range-border-color:hsl(205deg, 18%, 86%);--range-active-border-color:hsl(205deg, 16%, 77%);--range-thumb-border-color:var(--background-color);--range-thumb-color:var(--secondary);--range-thumb-hover-color:var(--secondary-hover);--range-thumb-active-color:var(--primary);--table-border-color:var(--muted-border-color);--table-row-stripped-background-color:#f6f8f9;--code-background-color:hsl(205deg, 20%, 94%);--code-color:var(--muted-color);--code-kbd-background-color:var(--contrast);--code-kbd-color:var(--contrast-inverse);--code-tag-color:hsl(330deg, 40%, 50%);--code-property-color:hsl(185deg, 40%, 40%);--code-value-color:hsl(40deg, 20%, 50%);--code-comment-color:hsl(205deg, 14%, 68%);--accordion-border-color:var(--muted-border-color);--accordion-close-summary-color:var(--color);--accordion-open-summary-color:var(--muted-color);--card-background-color:var(--background-color);--card-border-color:var(--muted-border-color);--card-box-shadow:0.0145rem 0.029rem 0.174rem rgba(27, 40, 50, 0.01698),0.0335rem 0.067rem 0.402rem rgba(27, 40, 50, 0.024),0.0625rem 0.125rem 0.75rem rgba(27, 40, 50, 0.03),0.1125rem 0.225rem 1.35rem rgba(27, 40, 50, 0.036),0.2085rem 0.417rem 2.502rem rgba(27, 40, 50, 0.04302),0.5rem 1rem 6rem rgba(27, 40, 50, 0.06),0 0 0 0.0625rem rgba(27, 40, 50, 0.015);--card-sectionning-background-color:#fbfbfc;--dropdown-background-color:#fbfbfc;--dropdown-border-color:#e1e6eb;--dropdown-box-shadow:var(--card-box-shadow);--dropdown-color:var(--color);--dropdown-hover-background-color:hsl(205deg, 20%, 94%);--modal-overlay-background-color:rgba(213, 220, 226, 0.8);--progress-background-color:hsl(205deg, 18%, 86%);--progress-color:var(--primary);--loading-spinner-opacity:0.5;--tooltip-background-color:var(--contrast);--tooltip-color:var(--contrast-inverse);--icon-checkbox:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFF' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(65, 84, 98, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron-button:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron-button-inverse:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-close:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(115, 130, 140, 0.999)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");--icon-date:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(65, 84, 98, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");--icon-invalid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(198, 40, 40, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");--icon-minus:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFF' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E");--icon-search:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(65, 84, 98, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");--icon-time:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(65, 84, 98, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpolyline points='12 6 12 12 16 14'%3E%3C/polyline%3E%3C/svg%3E");--icon-valid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(56, 142, 60, 0.999)' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E")}@media only screen and (prefers-color-scheme:dark){:root:not([data-theme=light]){color-scheme:dark;--background-color:#11191f;--color:hsl(205deg, 16%, 77%);--h1-color:hsl(205deg, 20%, 94%);--h2-color:#e1e6eb;--h3-color:hsl(205deg, 18%, 86%);--h4-color:#c8d1d8;--h5-color:hsl(205deg, 16%, 77%);--h6-color:#afbbc4;--muted-color:hsl(205deg, 10%, 50%);--muted-border-color:#1f2d38;--primary:hsl(195deg, 85%, 41%);--primary-hover:hsl(195deg, 80%, 50%);--primary-focus:rgba(16, 149, 193, 0.25);--primary-inverse:#fff;--secondary:hsl(205deg, 15%, 41%);--secondary-hover:hsl(205deg, 10%, 50%);--secondary-focus:rgba(115, 130, 140, 0.25);--secondary-inverse:#fff;--contrast:hsl(205deg, 20%, 94%);--contrast-hover:#fff;--contrast-focus:rgba(115, 130, 140, 0.25);--contrast-inverse:#000;--mark-background-color:#d1c284;--mark-color:#11191f;--ins-color:#388e3c;--del-color:#c62828;--blockquote-border-color:var(--muted-border-color);--blockquote-footer-color:var(--muted-color);--button-box-shadow:0 0 0 rgba(0, 0, 0, 0);--button-hover-box-shadow:0 0 0 rgba(0, 0, 0, 0);--form-element-background-color:#11191f;--form-element-border-color:#374956;--form-element-color:var(--color);--form-element-placeholder-color:var(--muted-color);--form-element-active-background-color:var(--form-element-background-color);--form-element-active-border-color:var(--primary);--form-element-focus-color:var(--primary-focus);--form-element-disabled-background-color:hsl(205deg, 25%, 23%);--form-element-disabled-border-color:hsl(205deg, 20%, 32%);--form-element-disabled-opacity:0.5;--form-element-invalid-border-color:#b71c1c;--form-element-invalid-active-border-color:#c62828;--form-element-invalid-focus-color:rgba(198, 40, 40, 0.25);--form-element-valid-border-color:#2e7d32;--form-element-valid-active-border-color:#388e3c;--form-element-valid-focus-color:rgba(56, 142, 60, 0.25);--switch-background-color:#374956;--switch-color:var(--primary-inverse);--switch-checked-background-color:var(--primary);--range-border-color:#24333e;--range-active-border-color:hsl(205deg, 25%, 23%);--range-thumb-border-color:var(--background-color);--range-thumb-color:var(--secondary);--range-thumb-hover-color:var(--secondary-hover);--range-thumb-active-color:var(--primary);--table-border-color:var(--muted-border-color);--table-row-stripped-background-color:rgba(115, 130, 140, 0.05);--code-background-color:#18232c;--code-color:var(--muted-color);--code-kbd-background-color:var(--contrast);--code-kbd-color:var(--contrast-inverse);--code-tag-color:hsl(330deg, 30%, 50%);--code-property-color:hsl(185deg, 30%, 50%);--code-value-color:hsl(40deg, 10%, 50%);--code-comment-color:#4d606d;--accordion-border-color:var(--muted-border-color);--accordion-active-summary-color:var(--primary);--accordion-close-summary-color:var(--color);--accordion-open-summary-color:var(--muted-color);--card-background-color:#141e26;--card-border-color:var(--card-background-color);--card-box-shadow:0.0145rem 0.029rem 0.174rem rgba(0, 0, 0, 0.01698),0.0335rem 0.067rem 0.402rem rgba(0, 0, 0, 0.024),0.0625rem 0.125rem 0.75rem rgba(0, 0, 0, 0.03),0.1125rem 0.225rem 1.35rem rgba(0, 0, 0, 0.036),0.2085rem 0.417rem 2.502rem rgba(0, 0, 0, 0.04302),0.5rem 1rem 6rem rgba(0, 0, 0, 0.06),0 0 0 0.0625rem rgba(0, 0, 0, 0.015);--card-sectionning-background-color:#18232c;--dropdown-background-color:hsl(205deg, 30%, 15%);--dropdown-border-color:#24333e;--dropdown-box-shadow:var(--card-box-shadow);--dropdown-color:var(--color);--dropdown-hover-background-color:rgba(36, 51, 62, 0.75);--modal-overlay-background-color:rgba(36, 51, 62, 0.9);--progress-background-color:#24333e;--progress-color:var(--primary);--loading-spinner-opacity:0.5;--tooltip-background-color:var(--contrast);--tooltip-color:var(--contrast-inverse);--icon-checkbox:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFF' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron-button:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron-button-inverse:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(0, 0, 0, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-close:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(115, 130, 140, 0.999)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");--icon-date:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");--icon-invalid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(183, 28, 28, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");--icon-minus:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFF' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E");--icon-search:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");--icon-time:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpolyline points='12 6 12 12 16 14'%3E%3C/polyline%3E%3C/svg%3E");--icon-valid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(46, 125, 50, 0.999)' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E")}}[data-theme=dark]{color-scheme:dark;--background-color:#11191f;--color:hsl(205deg, 16%, 77%);--h1-color:hsl(205deg, 20%, 94%);--h2-color:#e1e6eb;--h3-color:hsl(205deg, 18%, 86%);--h4-color:#c8d1d8;--h5-color:hsl(205deg, 16%, 77%);--h6-color:#afbbc4;--muted-color:hsl(205deg, 10%, 50%);--muted-border-color:#1f2d38;--primary:hsl(195deg, 85%, 41%);--primary-hover:hsl(195deg, 80%, 50%);--primary-focus:rgba(16, 149, 193, 0.25);--primary-inverse:#fff;--secondary:hsl(205deg, 15%, 41%);--secondary-hover:hsl(205deg, 10%, 50%);--secondary-focus:rgba(115, 130, 140, 0.25);--secondary-inverse:#fff;--contrast:hsl(205deg, 20%, 94%);--contrast-hover:#fff;--contrast-focus:rgba(115, 130, 140, 0.25);--contrast-inverse:#000;--mark-background-color:#d1c284;--mark-color:#11191f;--ins-color:#388e3c;--del-color:#c62828;--blockquote-border-color:var(--muted-border-color);--blockquote-footer-color:var(--muted-color);--button-box-shadow:0 0 0 rgba(0, 0, 0, 0);--button-hover-box-shadow:0 0 0 rgba(0, 0, 0, 0);--form-element-background-color:#11191f;--form-element-border-color:#374956;--form-element-color:var(--color);--form-element-placeholder-color:var(--muted-color);--form-element-active-background-color:var(--form-element-background-color);--form-element-active-border-color:var(--primary);--form-element-focus-color:var(--primary-focus);--form-element-disabled-background-color:hsl(205deg, 25%, 23%);--form-element-disabled-border-color:hsl(205deg, 20%, 32%);--form-element-disabled-opacity:0.5;--form-element-invalid-border-color:#b71c1c;--form-element-invalid-active-border-color:#c62828;--form-element-invalid-focus-color:rgba(198, 40, 40, 0.25);--form-element-valid-border-color:#2e7d32;--form-element-valid-active-border-color:#388e3c;--form-element-valid-focus-color:rgba(56, 142, 60, 0.25);--switch-background-color:#374956;--switch-color:var(--primary-inverse);--switch-checked-background-color:var(--primary);--range-border-color:#24333e;--range-active-border-color:hsl(205deg, 25%, 23%);--range-thumb-border-color:var(--background-color);--range-thumb-color:var(--secondary);--range-thumb-hover-color:var(--secondary-hover);--range-thumb-active-color:var(--primary);--table-border-color:var(--muted-border-color);--table-row-stripped-background-color:rgba(115, 130, 140, 0.05);--code-background-color:#18232c;--code-color:var(--muted-color);--code-kbd-background-color:var(--contrast);--code-kbd-color:var(--contrast-inverse);--code-tag-color:hsl(330deg, 30%, 50%);--code-property-color:hsl(185deg, 30%, 50%);--code-value-color:hsl(40deg, 10%, 50%);--code-comment-color:#4d606d;--accordion-border-color:var(--muted-border-color);--accordion-active-summary-color:var(--primary);--accordion-close-summary-color:var(--color);--accordion-open-summary-color:var(--muted-color);--card-background-color:#141e26;--card-border-color:var(--card-background-color);--card-box-shadow:0.0145rem 0.029rem 0.174rem rgba(0, 0, 0, 0.01698),0.0335rem 0.067rem 0.402rem rgba(0, 0, 0, 0.024),0.0625rem 0.125rem 0.75rem rgba(0, 0, 0, 0.03),0.1125rem 0.225rem 1.35rem rgba(0, 0, 0, 0.036),0.2085rem 0.417rem 2.502rem rgba(0, 0, 0, 0.04302),0.5rem 1rem 6rem rgba(0, 0, 0, 0.06),0 0 0 0.0625rem rgba(0, 0, 0, 0.015);--card-sectionning-background-color:#18232c;--dropdown-background-color:hsl(205deg, 30%, 15%);--dropdown-border-color:#24333e;--dropdown-box-shadow:var(--card-box-shadow);--dropdown-color:var(--color);--dropdown-hover-background-color:rgba(36, 51, 62, 0.75);--modal-overlay-background-color:rgba(36, 51, 62, 0.9);--progress-background-color:#24333e;--progress-color:var(--primary);--loading-spinner-opacity:0.5;--tooltip-background-color:var(--contrast);--tooltip-color:var(--contrast-inverse);--icon-checkbox:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFF' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron-button:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-chevron-button-inverse:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(0, 0, 0, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");--icon-close:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(115, 130, 140, 0.999)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");--icon-date:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");--icon-invalid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(183, 28, 28, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");--icon-minus:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FFF' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E");--icon-search:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");--icon-time:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(162, 175, 185, 0.999)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpolyline points='12 6 12 12 16 14'%3E%3C/polyline%3E%3C/svg%3E");--icon-valid:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgba(46, 125, 50, 0.999)' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E")}*,::after,::before{box-sizing:border-box;background-repeat:no-repeat}::after,::before{text-decoration:inherit;vertical-align:inherit}:where(:root){-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;text-rendering:optimizeLegibility;background-color:var(--background-color);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);line-height:var(--line-height);font-family:var(--font-family);overflow-wrap:break-word;cursor:default;-moz-tab-size:4;-o-tab-size:4;tab-size:4}main{display:block}body{width:100%;margin:0}body>footer,body>header,body>main{width:100%;margin-right:auto;margin-left:auto;padding:var(--block-spacing-vertical) 0}.container,.container-fluid{width:100%;margin-right:auto;margin-left:auto;padding-right:var(--spacing);padding-left:var(--spacing)}@media (min-width:576px){.container{max-width:510px;padding-right:0;padding-left:0}}@media (min-width:768px){.container{max-width:700px}}@media (min-width:992px){.container{max-width:920px}}@media (min-width:1200px){.container{max-width:1130px}}section{margin-bottom:var(--block-spacing-vertical)}.grid{grid-column-gap:var(--grid-spacing-horizontal);grid-row-gap:var(--grid-spacing-vertical);display:grid;grid-template-columns:1fr;margin:0}@media (min-width:992px){.grid{grid-template-columns:repeat(auto-fit,minmax(0%,1fr))}}.grid>*{min-width:0}figure{display:block;margin:0;padding:0;overflow-x:auto}figure figcaption{padding:calc(var(--spacing) * .5) 0;color:var(--muted-color)}b,strong{font-weight:bolder}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}address,blockquote,dl,figure,form,ol,p,pre,table,ul{margin-top:0;margin-bottom:var(--typography-spacing-vertical);color:var(--color);font-style:normal;font-weight:var(--font-weight);font-size:var(--font-size)}[role=link],a{--color:var(--primary);--background-color:transparent;outline:0;background-color:var(--background-color);color:var(--color);-webkit-text-decoration:var(--text-decoration);text-decoration:var(--text-decoration);transition:background-color var(--transition),color var(--transition),box-shadow var(--transition),-webkit-text-decoration var(--transition);transition:background-color var(--transition),color var(--transition),text-decoration var(--transition),box-shadow var(--transition);transition:background-color var(--transition),color var(--transition),text-decoration var(--transition),box-shadow var(--transition),-webkit-text-decoration var(--transition)}[role=link]:is([aria-current],:hover,:active,:focus),a:is([aria-current],:hover,:active,:focus){--color:var(--primary-hover);--text-decoration:underline}[role=link]:focus,a:focus{--background-color:var(--primary-focus)}[role=link].secondary,a.secondary{--color:var(--secondary)}[role=link].secondary:is([aria-current],:hover,:active,:focus),a.secondary:is([aria-current],:hover,:active,:focus){--color:var(--secondary-hover)}[role=link].secondary:focus,a.secondary:focus{--background-color:var(--secondary-focus)}[role=link].contrast,a.contrast{--color:var(--contrast)}[role=link].contrast:is([aria-current],:hover,:active,:focus),a.contrast:is([aria-current],:hover,:active,:focus){--color:var(--contrast-hover)}[role=link].contrast:focus,a.contrast:focus{--background-color:var(--contrast-focus)}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:var(--typography-spacing-vertical);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);font-family:var(--font-family)}h1{--color:var(--h1-color)}h2{--color:var(--h2-color)}h3{--color:var(--h3-color)}h4{--color:var(--h4-color)}h5{--color:var(--h5-color)}h6{--color:var(--h6-color)}:where(address,blockquote,dl,figure,form,ol,p,pre,table,ul)~:is(h1,h2,h3,h4,h5,h6){margin-top:var(--typography-spacing-vertical)}.headings,hgroup{margin-bottom:var(--typography-spacing-vertical)}.headings>*,hgroup>*{margin-bottom:0}.headings>:last-child,hgroup>:last-child{--color:var(--muted-color);--font-weight:unset;font-size:1rem;font-family:unset}p{margin-bottom:var(--typography-spacing-vertical)}small{font-size:var(--font-size)}:where(dl,ol,ul){padding-right:0;padding-left:var(--spacing);-webkit-padding-start:var(--spacing);padding-inline-start:var(--spacing);-webkit-padding-end:0;padding-inline-end:0}:where(dl,ol,ul) li{margin-bottom:calc(var(--typography-spacing-vertical) * .25)}:where(dl,ol,ul) :is(dl,ol,ul){margin:0;margin-top:calc(var(--typography-spacing-vertical) * .25)}ul li{list-style:square}mark{padding:.125rem .25rem;background-color:var(--mark-background-color);color:var(--mark-color);vertical-align:baseline}blockquote{display:block;margin:var(--typography-spacing-vertical) 0;padding:var(--spacing);border-right:none;border-left:.25rem solid var(--blockquote-border-color);-webkit-border-start:0.25rem solid var(--blockquote-border-color);border-inline-start:0.25rem solid var(--blockquote-border-color);-webkit-border-end:none;border-inline-end:none}blockquote footer{margin-top:calc(var(--typography-spacing-vertical) * .5);color:var(--blockquote-footer-color)}abbr[title]{border-bottom:1px dotted;text-decoration:none;cursor:help}ins{color:var(--ins-color);text-decoration:none}del{color:var(--del-color)}::-moz-selection{background-color:var(--primary-focus)}::selection{background-color:var(--primary-focus)}:where(audio,canvas,iframe,img,svg,video){vertical-align:middle}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}:where(iframe){border-style:none}img{max-width:100%;height:auto;border-style:none}:where(svg:not([fill])){fill:currentColor}svg:not(:root){overflow:hidden}button{margin:0;overflow:visible;font-family:inherit;text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}button{display:block;width:100%;margin-bottom:var(--spacing)}[role=button]{display:inline-block;text-decoration:none}[role=button],button,input[type=button],input[type=reset],input[type=submit]{--background-color:var(--primary);--border-color:var(--primary);--color:var(--primary-inverse);--box-shadow:var(--button-box-shadow, 0 0 0 rgba(0, 0, 0, 0));padding:var(--form-element-spacing-vertical) var(--form-element-spacing-horizontal);border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:0;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);font-size:1rem;line-height:var(--line-height);text-align:center;cursor:pointer;transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}[role=button]:is([aria-current],:hover,:active,:focus),button:is([aria-current],:hover,:active,:focus),input[type=button]:is([aria-current],:hover,:active,:focus),input[type=reset]:is([aria-current],:hover,:active,:focus),input[type=submit]:is([aria-current],:hover,:active,:focus){--background-color:var(--primary-hover);--border-color:var(--primary-hover);--box-shadow:var(--button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0));--color:var(--primary-inverse)}[role=button]:focus,button:focus,input[type=button]:focus,input[type=reset]:focus,input[type=submit]:focus{--box-shadow:var(--button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0)),0 0 0 var(--outline-width) var(--primary-focus)}:is(button,input[type=submit],input[type=button],[role=button]).secondary,input[type=reset]{--background-color:var(--secondary);--border-color:var(--secondary);--color:var(--secondary-inverse);cursor:pointer}:is(button,input[type=submit],input[type=button],[role=button]).secondary:is([aria-current],:hover,:active,:focus),input[type=reset]:is([aria-current],:hover,:active,:focus){--background-color:var(--secondary-hover);--border-color:var(--secondary-hover);--color:var(--secondary-inverse)}:is(button,input[type=submit],input[type=button],[role=button]).secondary:focus,input[type=reset]:focus{--box-shadow:var(--button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0)),0 0 0 var(--outline-width) var(--secondary-focus)}:is(button,input[type=submit],input[type=button],[role=button]).contrast{--background-color:var(--contrast);--border-color:var(--contrast);--color:var(--contrast-inverse)}:is(button,input[type=submit],input[type=button],[role=button]).contrast:is([aria-current],:hover,:active,:focus){--background-color:var(--contrast-hover);--border-color:var(--contrast-hover);--color:var(--contrast-inverse)}:is(button,input[type=submit],input[type=button],[role=button]).contrast:focus{--box-shadow:var(--button-hover-box-shadow, 0 0 0 rgba(0, 0, 0, 0)),0 0 0 var(--outline-width) var(--contrast-focus)}:is(button,input[type=submit],input[type=button],[role=button]).outline,input[type=reset].outline{--background-color:transparent;--color:var(--primary)}:is(button,input[type=submit],input[type=button],[role=button]).outline:is([aria-current],:hover,:active,:focus),input[type=reset].outline:is([aria-current],:hover,:active,:focus){--background-color:transparent;--color:var(--primary-hover)}:is(button,input[type=submit],input[type=button],[role=button]).outline.secondary,input[type=reset].outline{--color:var(--secondary)}:is(button,input[type=submit],input[type=button],[role=button]).outline.secondary:is([aria-current],:hover,:active,:focus),input[type=reset].outline:is([aria-current],:hover,:active,:focus){--color:var(--secondary-hover)}:is(button,input[type=submit],input[type=button],[role=button]).outline.contrast{--color:var(--contrast)}:is(button,input[type=submit],input[type=button],[role=button]).outline.contrast:is([aria-current],:hover,:active,:focus){--color:var(--contrast-hover)}:where(button,[type=submit],[type=button],[type=reset],[role=button])[disabled],:where(fieldset[disabled]) :is(button,[type=submit],[type=button],[type=reset],[role=button]),a[role=button]:not([href]){opacity:.5;pointer-events:none}input,optgroup,select,textarea{margin:0;font-size:1rem;line-height:var(--line-height);font-family:inherit;letter-spacing:inherit}input{overflow:visible}select{text-transform:none}legend{max-width:100%;padding:0;color:inherit;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{padding:0}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{padding:0;border-style:none}:-moz-focusring{outline:0}:-moz-ui-invalid{box-shadow:none}::-ms-expand{display:none}[type=file],[type=range]{padding:0;border-width:0}input:not([type=checkbox]):not([type=radio]):not([type=range]){height:calc(1rem * var(--line-height) + var(--form-element-spacing-vertical) * 2 + var(--border-width) * 2)}fieldset{margin:0;margin-bottom:var(--spacing);padding:0;border:0}fieldset legend,label{display:block;margin-bottom:calc(var(--spacing) * .25);font-weight:var(--form-label-font-weight,var(--font-weight))}input:not([type=checkbox]):not([type=radio]),select,textarea{width:100%}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file]),select,textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--form-element-spacing-vertical) var(--form-element-spacing-horizontal)}input,select,textarea{--background-color:var(--form-element-background-color);--border-color:var(--form-element-border-color);--color:var(--form-element-color);--box-shadow:none;border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:0;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}:where(select,textarea):is(:active,:focus),input:not([type=submit]):not([type=button]):not([type=reset]):not([type=checkbox]):not([type=radio]):not([readonly]):is(:active,:focus){--background-color:var(--form-element-active-background-color)}:where(select,textarea):is(:active,:focus),input:not([type=submit]):not([type=button]):not([type=reset]):not([role=switch]):not([readonly]):is(:active,:focus){--border-color:var(--form-element-active-border-color)}input:not([type=submit]):not([type=button]):not([type=reset]):not([type=range]):not([type=file]):not([readonly]):focus,select:focus,textarea:focus{--box-shadow:0 0 0 var(--outline-width) var(--form-element-focus-color)}:where(fieldset[disabled]) :is(input:not([type=submit]):not([type=button]):not([type=reset]),select,textarea),input:not([type=submit]):not([type=button]):not([type=reset])[disabled],select[disabled],textarea[disabled]{--background-color:var(--form-element-disabled-background-color);--border-color:var(--form-element-disabled-border-color);opacity:var(--form-element-disabled-opacity);pointer-events:none}:where(input,select,textarea):not([type=checkbox]):not([type=radio])[aria-invalid]{padding-right:calc(var(--form-element-spacing-horizontal) + 1.5rem)!important;padding-left:var(--form-element-spacing-horizontal);-webkit-padding-start:var(--form-element-spacing-horizontal)!important;padding-inline-start:var(--form-element-spacing-horizontal)!important;-webkit-padding-end:calc(var(--form-element-spacing-horizontal) + 1.5rem)!important;padding-inline-end:calc(var(--form-element-spacing-horizontal) + 1.5rem)!important;background-position:center right .75rem;background-size:1rem auto;background-repeat:no-repeat}:where(input,select,textarea):not([type=checkbox]):not([type=radio])[aria-invalid=false]{background-image:var(--icon-valid)}:where(input,select,textarea):not([type=checkbox]):not([type=radio])[aria-invalid=true]{background-image:var(--icon-invalid)}:where(input,select,textarea)[aria-invalid=false]{--border-color:var(--form-element-valid-border-color)}:where(input,select,textarea)[aria-invalid=false]:is(:active,:focus){--border-color:var(--form-element-valid-active-border-color)!important;--box-shadow:0 0 0 var(--outline-width) var(--form-element-valid-focus-color)!important}:where(input,select,textarea)[aria-invalid=true]{--border-color:var(--form-element-invalid-border-color)}:where(input,select,textarea)[aria-invalid=true]:is(:active,:focus){--border-color:var(--form-element-invalid-active-border-color)!important;--box-shadow:0 0 0 var(--outline-width) var(--form-element-invalid-focus-color)!important}[dir=rtl] :where(input,select,textarea):not([type=checkbox]):not([type=radio])[aria-invalid=false],[dir=rtl] :where(input,select,textarea):not([type=checkbox]):not([type=radio])[aria-invalid=true],[dir=rtl] :where(input,select,textarea):not([type=checkbox]):not([type=radio])[aria-invalid]{background-position:center left .75rem}input::-webkit-input-placeholder,input::placeholder,select:invalid,textarea::-webkit-input-placeholder,textarea::placeholder{color:var(--form-element-placeholder-color);opacity:1}input:not([type=checkbox]):not([type=radio]),select,textarea{margin-bottom:var(--spacing)}select::-ms-expand{border:0;background-color:transparent}select:not([multiple]):not([size]){padding-right:calc(var(--form-element-spacing-horizontal) + 1.5rem);padding-left:var(--form-element-spacing-horizontal);-webkit-padding-start:var(--form-element-spacing-horizontal);padding-inline-start:var(--form-element-spacing-horizontal);-webkit-padding-end:calc(var(--form-element-spacing-horizontal) + 1.5rem);padding-inline-end:calc(var(--form-element-spacing-horizontal) + 1.5rem);background-image:var(--icon-chevron);background-position:center right .75rem;background-size:1rem auto;background-repeat:no-repeat}[dir=rtl] select:not([multiple]):not([size]){background-position:center left .75rem}:where(input,select,textarea)+small{display:block;width:100%;margin-top:calc(var(--spacing) * -.75);margin-bottom:var(--spacing);color:var(--muted-color)}label>:where(input,select,textarea){margin-top:calc(var(--spacing) * .25)}[type=checkbox],[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:1.25em;height:1.25em;margin-top:-.125em;margin-right:.375em;margin-left:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:.375em;margin-inline-end:.375em;border-width:var(--border-width);font-size:inherit;vertical-align:middle;cursor:pointer}[type=checkbox]::-ms-check,[type=radio]::-ms-check{display:none}[type=checkbox]:checked,[type=checkbox]:checked:active,[type=checkbox]:checked:focus,[type=radio]:checked,[type=radio]:checked:active,[type=radio]:checked:focus{--background-color:var(--primary);--border-color:var(--primary);background-image:var(--icon-checkbox);background-position:center;background-size:.75em auto;background-repeat:no-repeat}[type=checkbox]~label,[type=radio]~label{display:inline-block;margin-right:.375em;margin-bottom:0;cursor:pointer}[type=checkbox]:indeterminate{--background-color:var(--primary);--border-color:var(--primary);background-image:var(--icon-minus);background-position:center;background-size:.75em auto;background-repeat:no-repeat}[type=radio]{border-radius:50%}[type=radio]:checked,[type=radio]:checked:active,[type=radio]:checked:focus{--background-color:var(--primary-inverse);border-width:.35em;background-image:none}[type=checkbox][role=switch]{--background-color:var(--switch-background-color);--border-color:var(--switch-background-color);--color:var(--switch-color);width:2.25em;height:1.25em;border:var(--border-width) solid var(--border-color);border-radius:1.25em;background-color:var(--background-color);line-height:1.25em}[type=checkbox][role=switch]:focus{--background-color:var(--switch-background-color);--border-color:var(--switch-background-color)}[type=checkbox][role=switch]:checked{--background-color:var(--switch-checked-background-color);--border-color:var(--switch-checked-background-color)}[type=checkbox][role=switch]:before{display:block;width:calc(1.25em - (var(--border-width) * 2));height:100%;border-radius:50%;background-color:var(--color);content:"";transition:margin .1s ease-in-out}[type=checkbox][role=switch]:checked{background-image:none}[type=checkbox][role=switch]:checked::before{margin-left:calc(1.125em - var(--border-width));-webkit-margin-start:calc(1.125em - var(--border-width));margin-inline-start:calc(1.125em - var(--border-width))}[type=checkbox]:checked[aria-invalid=false],[type=checkbox][aria-invalid=false],[type=checkbox][role=switch]:checked[aria-invalid=false],[type=checkbox][role=switch][aria-invalid=false],[type=radio]:checked[aria-invalid=false],[type=radio][aria-invalid=false]{--border-color:var(--form-element-valid-border-color)}[type=checkbox]:checked[aria-invalid=true],[type=checkbox][aria-invalid=true],[type=checkbox][role=switch]:checked[aria-invalid=true],[type=checkbox][role=switch][aria-invalid=true],[type=radio]:checked[aria-invalid=true],[type=radio][aria-invalid=true]{--border-color:var(--form-element-invalid-border-color)}[type=color]::-webkit-color-swatch-wrapper{padding:0}[type=color]::-moz-focus-inner{padding:0}[type=color]::-webkit-color-swatch{border:0;border-radius:calc(var(--border-radius) * .5)}[type=color]::-moz-color-swatch{border:0;border-radius:calc(var(--border-radius) * .5)}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=date],input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=datetime-local],input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=month],input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=time],input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=week]{--icon-position:0.75rem;--icon-width:1rem;padding-right:calc(var(--icon-width) + var(--icon-position));background-image:var(--icon-date);background-position:center right var(--icon-position);background-size:var(--icon-width) auto;background-repeat:no-repeat}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=time]{background-image:var(--icon-time)}[type=date]::-webkit-calendar-picker-indicator,[type=datetime-local]::-webkit-calendar-picker-indicator,[type=month]::-webkit-calendar-picker-indicator,[type=time]::-webkit-calendar-picker-indicator,[type=week]::-webkit-calendar-picker-indicator{width:var(--icon-width);margin-right:calc(var(--icon-width) * -1);margin-left:var(--icon-position);opacity:0}[dir=rtl] :is([type=date],[type=datetime-local],[type=month],[type=time],[type=week]){text-align:right}[type=file]{--color:var(--muted-color);padding:calc(var(--form-element-spacing-vertical) * .5) 0;border:0;border-radius:0;background:0 0}[type=file]::-webkit-file-upload-button{--background-color:var(--secondary);--border-color:var(--secondary);--color:var(--secondary-inverse);margin-right:calc(var(--spacing)/ 2);margin-left:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:calc(var(--spacing)/ 2);margin-inline-end:calc(var(--spacing)/ 2);padding:calc(var(--form-element-spacing-vertical) * .5) calc(var(--form-element-spacing-horizontal) * .5);border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:0;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);font-size:1rem;line-height:var(--line-height);text-align:center;cursor:pointer;-webkit-transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition);transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}[type=file]::file-selector-button{--background-color:var(--secondary);--border-color:var(--secondary);--color:var(--secondary-inverse);margin-right:calc(var(--spacing)/ 2);margin-left:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:calc(var(--spacing)/ 2);margin-inline-end:calc(var(--spacing)/ 2);padding:calc(var(--form-element-spacing-vertical) * .5) calc(var(--form-element-spacing-horizontal) * .5);border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:0;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);font-size:1rem;line-height:var(--line-height);text-align:center;cursor:pointer;transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}[type=file]::-webkit-file-upload-button:is(:hover,:active,:focus){--background-color:var(--secondary-hover);--border-color:var(--secondary-hover)}[type=file]::file-selector-button:is(:hover,:active,:focus){--background-color:var(--secondary-hover);--border-color:var(--secondary-hover)}[type=file]::-webkit-file-upload-button{--background-color:var(--secondary);--border-color:var(--secondary);--color:var(--secondary-inverse);margin-right:calc(var(--spacing)/ 2);margin-left:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:calc(var(--spacing)/ 2);margin-inline-end:calc(var(--spacing)/ 2);padding:calc(var(--form-element-spacing-vertical) * .5) calc(var(--form-element-spacing-horizontal) * .5);border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:0;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);font-size:1rem;line-height:var(--line-height);text-align:center;cursor:pointer;-webkit-transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition);transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}[type=file]::-webkit-file-upload-button:is(:hover,:active,:focus){--background-color:var(--secondary-hover);--border-color:var(--secondary-hover)}[type=file]::-ms-browse{--background-color:var(--secondary);--border-color:var(--secondary);--color:var(--secondary-inverse);margin-right:calc(var(--spacing)/ 2);margin-left:0;margin-inline-start:0;margin-inline-end:calc(var(--spacing)/ 2);padding:calc(var(--form-element-spacing-vertical) * .5) calc(var(--form-element-spacing-horizontal) * .5);border:var(--border-width) solid var(--border-color);border-radius:var(--border-radius);outline:0;background-color:var(--background-color);box-shadow:var(--box-shadow);color:var(--color);font-weight:var(--font-weight);font-size:1rem;line-height:var(--line-height);text-align:center;cursor:pointer;-ms-transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition);transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}[type=file]::-ms-browse:is(:hover,:active,:focus){--background-color:var(--secondary-hover);--border-color:var(--secondary-hover)}[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:1.25rem;background:0 0}[type=range]::-webkit-slider-runnable-track{width:100%;height:.25rem;border-radius:var(--border-radius);background-color:var(--range-border-color);-webkit-transition:background-color var(--transition),box-shadow var(--transition);transition:background-color var(--transition),box-shadow var(--transition)}[type=range]::-moz-range-track{width:100%;height:.25rem;border-radius:var(--border-radius);background-color:var(--range-border-color);-moz-transition:background-color var(--transition),box-shadow var(--transition);transition:background-color var(--transition),box-shadow var(--transition)}[type=range]::-ms-track{width:100%;height:.25rem;border-radius:var(--border-radius);background-color:var(--range-border-color);-ms-transition:background-color var(--transition),box-shadow var(--transition);transition:background-color var(--transition),box-shadow var(--transition)}[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:1.25rem;height:1.25rem;margin-top:-.5rem;border:2px solid var(--range-thumb-border-color);border-radius:50%;background-color:var(--range-thumb-color);cursor:pointer;-webkit-transition:background-color var(--transition),transform var(--transition);transition:background-color var(--transition),transform var(--transition)}[type=range]::-moz-range-thumb{-webkit-appearance:none;width:1.25rem;height:1.25rem;margin-top:-.5rem;border:2px solid var(--range-thumb-border-color);border-radius:50%;background-color:var(--range-thumb-color);cursor:pointer;-moz-transition:background-color var(--transition),transform var(--transition);transition:background-color var(--transition),transform var(--transition)}[type=range]::-ms-thumb{-webkit-appearance:none;width:1.25rem;height:1.25rem;margin-top:-.5rem;border:2px solid var(--range-thumb-border-color);border-radius:50%;background-color:var(--range-thumb-color);cursor:pointer;-ms-transition:background-color var(--transition),transform var(--transition);transition:background-color var(--transition),transform var(--transition)}[type=range]:focus,[type=range]:hover{--range-border-color:var(--range-active-border-color);--range-thumb-color:var(--range-thumb-hover-color)}[type=range]:active{--range-thumb-color:var(--range-thumb-active-color)}[type=range]:active::-webkit-slider-thumb{transform:scale(1.25)}[type=range]:active::-moz-range-thumb{transform:scale(1.25)}[type=range]:active::-ms-thumb{transform:scale(1.25)}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=search]{-webkit-padding-start:calc(var(--form-element-spacing-horizontal) + 1.75rem);padding-inline-start:calc(var(--form-element-spacing-horizontal) + 1.75rem);border-radius:5rem;background-image:var(--icon-search);background-position:center left 1.125rem;background-size:1rem auto;background-repeat:no-repeat}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=search][aria-invalid]{-webkit-padding-start:calc(var(--form-element-spacing-horizontal) + 1.75rem)!important;padding-inline-start:calc(var(--form-element-spacing-horizontal) + 1.75rem)!important;background-position:center left 1.125rem,center right .75rem}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=search][aria-invalid=false]{background-image:var(--icon-search),var(--icon-valid)}input:not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=search][aria-invalid=true]{background-image:var(--icon-search),var(--icon-invalid)}[type=search]::-webkit-search-cancel-button{-webkit-appearance:none;display:none}[dir=rtl] :where(input):not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=search]{background-position:center right 1.125rem}[dir=rtl] :where(input):not([type=checkbox]):not([type=radio]):not([type=range]):not([type=file])[type=search][aria-invalid]{background-position:center right 1.125rem,center left .75rem}:where(table){width:100%;border-collapse:collapse;border-spacing:0;text-indent:0}td,th{padding:calc(var(--spacing)/ 2) var(--spacing);border-bottom:var(--border-width) solid var(--table-border-color);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);text-align:left;text-align:start}tfoot td,tfoot th{border-top:var(--border-width) solid var(--table-border-color);border-bottom:0}table[role=grid] tbody tr:nth-child(odd){background-color:var(--table-row-stripped-background-color)}code,kbd,pre,samp{font-size:.875em;font-family:var(--font-family)}pre{-ms-overflow-style:scrollbar;overflow:auto}code,kbd,pre{border-radius:var(--border-radius);background:var(--code-background-color);color:var(--code-color);font-weight:var(--font-weight);line-height:initial}code,kbd{display:inline-block;padding:.375rem .5rem}pre{display:block;margin-bottom:var(--spacing);overflow-x:auto}pre>code{display:block;padding:var(--spacing);background:0 0;font-size:14px;line-height:var(--line-height)}code b{color:var(--code-tag-color);font-weight:var(--font-weight)}code i{color:var(--code-property-color);font-style:normal}code u{color:var(--code-value-color);text-decoration:none}code em{color:var(--code-comment-color);font-style:normal}kbd{background-color:var(--code-kbd-background-color);color:var(--code-kbd-color);vertical-align:baseline}hr{height:0;border:0;border-top:1px solid var(--muted-border-color);color:inherit}[hidden],template{display:none!important}canvas{display:inline-block}details{display:block;margin-bottom:var(--spacing);padding-bottom:var(--spacing);border-bottom:var(--border-width) solid var(--accordion-border-color)}details summary{line-height:1rem;list-style-type:none;cursor:pointer;transition:color var(--transition)}details summary:not([role]){color:var(--accordion-close-summary-color)}details summary::-webkit-details-marker{display:none}details summary::marker{display:none}details summary::-moz-list-bullet{list-style-type:none}details summary::after{display:block;width:1rem;height:1rem;-webkit-margin-start:calc(var(--spacing,1rem) * 0.5);margin-inline-start:calc(var(--spacing,1rem) * .5);float:right;transform:rotate(-90deg);background-image:var(--icon-chevron);background-position:right center;background-size:1rem auto;background-repeat:no-repeat;content:"";transition:transform var(--transition)}details summary:focus{outline:0}details summary:focus:not([role=button]){color:var(--accordion-active-summary-color)}details summary[role=button]{width:100%;text-align:left}details summary[role=button]::after{height:calc(1rem * var(--line-height,1.5));background-image:var(--icon-chevron-button)}details summary[role=button]:not(.outline).contrast::after{background-image:var(--icon-chevron-button-inverse)}details[open]>summary{margin-bottom:calc(var(--spacing))}details[open]>summary:not([role]):not(:focus){color:var(--accordion-open-summary-color)}details[open]>summary::after{transform:rotate(0)}[dir=rtl] details summary{text-align:right}[dir=rtl] details summary::after{float:left;background-position:left center}article{margin:var(--block-spacing-vertical) 0;padding:var(--block-spacing-vertical) var(--block-spacing-horizontal);border-radius:var(--border-radius);background:var(--card-background-color);box-shadow:var(--card-box-shadow)}article>footer,article>header{margin-right:calc(var(--block-spacing-horizontal) * -1);margin-left:calc(var(--block-spacing-horizontal) * -1);padding:calc(var(--block-spacing-vertical) * .66) var(--block-spacing-horizontal);background-color:var(--card-sectionning-background-color)}article>header{margin-top:calc(var(--block-spacing-vertical) * -1);margin-bottom:var(--block-spacing-vertical);border-bottom:var(--border-width) solid var(--card-border-color);border-top-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius)}article>footer{margin-top:var(--block-spacing-vertical);margin-bottom:calc(var(--block-spacing-vertical) * -1);border-top:var(--border-width) solid var(--card-border-color);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:var(--border-radius)}:root{--scrollbar-width:0px}dialog{display:flex;z-index:999;position:fixed;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;width:inherit;min-width:100%;height:inherit;min-height:100%;padding:var(--spacing);border:0;background-color:var(--modal-overlay-background-color);color:var(--color)}dialog article{max-height:calc(100vh - var(--spacing) * 2);overflow:auto}@media (min-width:576px){dialog article{max-width:510px}}@media (min-width:768px){dialog article{max-width:700px}}dialog article>footer,dialog article>header{padding:calc(var(--block-spacing-vertical) * .5) var(--block-spacing-horizontal)}dialog article>header .close{margin:0;margin-left:var(--spacing);float:right}dialog article>footer{text-align:right}dialog article>footer [role=button]{margin-bottom:0}dialog article>footer [role=button]:not(:first-of-type){margin-left:calc(var(--spacing) * .5)}dialog article p:last-of-type{margin:0}dialog article .close{display:block;width:1rem;height:1rem;margin-top:calc(var(--block-spacing-vertical) * -.5);margin-bottom:var(--typography-spacing-vertical);margin-left:auto;background-image:var(--icon-close);background-position:center;background-size:auto 1rem;background-repeat:no-repeat;opacity:.5;transition:opacity var(--transition)}dialog article .close:is([aria-current],:hover,:active,:focus){opacity:1}dialog:not([open]),dialog[open=false]{display:none}.modal-is-open{padding-right:var(--scrollbar-width,0);overflow:hidden;pointer-events:none}.modal-is-open dialog{pointer-events:auto}:where(.modal-is-opening,.modal-is-closing) dialog,:where(.modal-is-opening,.modal-is-closing) dialog>article{-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}:where(.modal-is-opening,.modal-is-closing) dialog{-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-name:fadeIn;animation-name:fadeIn}:where(.modal-is-opening,.modal-is-closing) dialog>article{-webkit-animation-delay:.2s;animation-delay:.2s;-webkit-animation-name:slideInDown;animation-name:slideInDown}.modal-is-closing dialog,.modal-is-closing dialog>article{-webkit-animation-delay:0s;animation-delay:0s;animation-direction:reverse}@-webkit-keyframes fadeIn{from{background-color:transparent}to{background-color:var(--modal-overlay-background-color)}}@keyframes fadeIn{from{background-color:transparent}to{background-color:var(--modal-overlay-background-color)}}@-webkit-keyframes slideInDown{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slideInDown{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}:where(nav li)::before{float:left;content:"​"}nav,nav ul{display:flex}nav{justify-content:space-between}nav ol,nav ul{align-items:center;margin-bottom:0;padding:0;list-style:none}nav ol:first-of-type,nav ul:first-of-type{margin-left:calc(var(--nav-element-spacing-horizontal) * -1)}nav ol:last-of-type,nav ul:last-of-type{margin-right:calc(var(--nav-element-spacing-horizontal) * -1)}nav li{display:inline-block;margin:0;padding:var(--nav-element-spacing-vertical) var(--nav-element-spacing-horizontal)}nav li>*{--spacing:0}nav :where(a,[role=link]){display:inline-block;margin:calc(var(--nav-link-spacing-vertical) * -1) calc(var(--nav-link-spacing-horizontal) * -1);padding:var(--nav-link-spacing-vertical) var(--nav-link-spacing-horizontal);border-radius:var(--border-radius);text-decoration:none}nav :where(a,[role=link]):is([aria-current],:hover,:active,:focus){text-decoration:none}nav [role=button]{margin-right:inherit;margin-left:inherit;padding:var(--nav-link-spacing-vertical) var(--nav-link-spacing-horizontal)}aside li,aside nav,aside ol,aside ul{display:block}aside li{padding:calc(var(--nav-element-spacing-vertical) * .5) var(--nav-element-spacing-horizontal)}aside li a{display:block}aside li [role=button]{margin:inherit}progress{display:inline-block;vertical-align:baseline}progress{-webkit-appearance:none;-moz-appearance:none;display:inline-block;appearance:none;width:100%;height:.5rem;margin-bottom:calc(var(--spacing) * .5);overflow:hidden;border:0;border-radius:var(--border-radius);background-color:var(--progress-background-color);color:var(--progress-color)}progress::-webkit-progress-bar{border-radius:var(--border-radius);background:0 0}progress[value]::-webkit-progress-value{background-color:var(--progress-color)}progress::-moz-progress-bar{background-color:var(--progress-color)}@media (prefers-reduced-motion:no-preference){progress:indeterminate{background:var(--progress-background-color) linear-gradient(to right,var(--progress-color) 30%,var(--progress-background-color) 30%) top left/150% 150% no-repeat;-webkit-animation:progressIndeterminate 1s linear infinite;animation:progressIndeterminate 1s linear infinite}progress:indeterminate[value]::-webkit-progress-value{background-color:transparent}progress:indeterminate::-moz-progress-bar{background-color:transparent}}@media (prefers-reduced-motion:no-preference){[dir=rtl] progress:indeterminate{animation-direction:reverse}}@-webkit-keyframes progressIndeterminate{0%{background-position:200% 0}100%{background-position:-200% 0}}@keyframes progressIndeterminate{0%{background-position:200% 0}100%{background-position:-200% 0}}details[role=list],li[role=list]{position:relative}details[role=list] summary+ul,li[role=list]>ul{display:flex;z-index:99;position:absolute;top:auto;right:0;left:0;flex-direction:column;margin:0;padding:0;border:var(--border-width) solid var(--dropdown-border-color);border-radius:var(--border-radius);border-top-right-radius:0;border-top-left-radius:0;background-color:var(--dropdown-background-color);box-shadow:var(--card-box-shadow);color:var(--dropdown-color);white-space:nowrap}details[role=list] summary+ul li,li[role=list]>ul li{width:100%;margin-bottom:0;padding:calc(var(--form-element-spacing-vertical) * .5) var(--form-element-spacing-horizontal);list-style:none}details[role=list] summary+ul li:first-of-type,li[role=list]>ul li:first-of-type{margin-top:calc(var(--form-element-spacing-vertical) * .5)}details[role=list] summary+ul li:last-of-type,li[role=list]>ul li:last-of-type{margin-bottom:calc(var(--form-element-spacing-vertical) * .5)}details[role=list] summary+ul li a,li[role=list]>ul li a{display:block;margin:calc(var(--form-element-spacing-vertical) * -.5) calc(var(--form-element-spacing-horizontal) * -1);padding:calc(var(--form-element-spacing-vertical) * .5) var(--form-element-spacing-horizontal);overflow:hidden;color:var(--dropdown-color);text-decoration:none;text-overflow:ellipsis}details[role=list] summary+ul li a:hover,li[role=list]>ul li a:hover{background-color:var(--dropdown-hover-background-color)}details[role=list] summary::after,li[role=list]>a::after{display:block;width:1rem;height:calc(1rem * var(--line-height,1.5));-webkit-margin-start:0.5rem;margin-inline-start:.5rem;float:right;transform:rotate(0);background-position:right center;background-size:1rem auto;background-repeat:no-repeat;content:""}details[role=list]{padding:0;border-bottom:none}details[role=list] summary{margin-bottom:0}details[role=list] summary:not([role]){height:calc(1rem * var(--line-height) + var(--form-element-spacing-vertical) * 2 + var(--border-width) * 2);padding:var(--form-element-spacing-vertical) var(--form-element-spacing-horizontal);border:var(--border-width) solid var(--form-element-border-color);border-radius:var(--border-radius);background-color:var(--form-element-background-color);color:var(--form-element-placeholder-color);line-height:inherit;cursor:pointer;transition:background-color var(--transition),border-color var(--transition),color var(--transition),box-shadow var(--transition)}details[role=list] summary:not([role]):active,details[role=list] summary:not([role]):focus{border-color:var(--form-element-active-border-color);background-color:var(--form-element-active-background-color)}details[role=list] summary:not([role]):focus{box-shadow:0 0 0 var(--outline-width) var(--form-element-focus-color)}details[role=list][open] summary{border-bottom-right-radius:0;border-bottom-left-radius:0}details[role=list][open] summary::before{display:block;z-index:1;position:fixed;top:0;right:0;bottom:0;left:0;background:0 0;content:"";cursor:default}nav details[role=list] summary,nav li[role=list] a{display:flex;direction:ltr}nav details[role=list] summary+ul,nav li[role=list]>ul{min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;border-radius:var(--border-radius)}nav details[role=list] summary+ul li a,nav li[role=list]>ul li a{border-radius:0}nav details[role=list] summary,nav details[role=list] summary:not([role]){height:auto;padding:var(--nav-link-spacing-vertical) var(--nav-link-spacing-horizontal)}nav details[role=list][open] summary{border-radius:var(--border-radius)}nav details[role=list] summary+ul{margin-top:var(--outline-width);-webkit-margin-start:0;margin-inline-start:0}nav details[role=list] summary[role=link]{margin-bottom:calc(var(--nav-link-spacing-vertical) * -1);line-height:var(--line-height)}nav details[role=list] summary[role=link]+ul{margin-top:calc(var(--nav-link-spacing-vertical) + var(--outline-width));-webkit-margin-start:calc(var(--nav-link-spacing-horizontal) * -1);margin-inline-start:calc(var(--nav-link-spacing-horizontal) * -1)}li[role=list] a:active~ul,li[role=list] a:focus~ul,li[role=list]:hover>ul{display:flex}li[role=list]>ul{display:none;margin-top:calc(var(--nav-link-spacing-vertical) + var(--outline-width));-webkit-margin-start:calc(var(--nav-element-spacing-horizontal) - var(--nav-link-spacing-horizontal));margin-inline-start:calc(var(--nav-element-spacing-horizontal) - var(--nav-link-spacing-horizontal))}li[role=list]>a::after{background-image:var(--icon-chevron)}[aria-busy=true]{cursor:progress}[aria-busy=true]:not(input):not(select):not(textarea)::before{display:inline-block;width:1em;height:1em;border:.1875em solid currentColor;border-radius:1em;border-right-color:transparent;content:"";vertical-align:text-bottom;vertical-align:-.125em;-webkit-animation:spinner .75s linear infinite;animation:spinner .75s linear infinite;opacity:var(--loading-spinner-opacity)}[aria-busy=true]:not(input):not(select):not(textarea):not(:empty)::before{margin-right:calc(var(--spacing) * .5);margin-left:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:calc(var(--spacing) * .5);margin-inline-end:calc(var(--spacing) * .5)}[aria-busy=true]:not(input):not(select):not(textarea):empty{text-align:center}a[aria-busy=true],button[aria-busy=true],input[type=button][aria-busy=true],input[type=reset][aria-busy=true],input[type=submit][aria-busy=true]{pointer-events:none}@-webkit-keyframes spinner{to{transform:rotate(360deg)}}@keyframes spinner{to{transform:rotate(360deg)}}[data-tooltip]{position:relative}[data-tooltip]:not(a):not(button):not(input){border-bottom:1px dotted;text-decoration:none;cursor:help}[data-tooltip]::after,[data-tooltip]::before{display:block;z-index:99;position:absolute;bottom:100%;left:50%;padding:.25rem .5rem;overflow:hidden;transform:translate(-50%,-.25rem);border-radius:var(--border-radius);background:var(--tooltip-background-color);content:attr(data-tooltip);color:var(--tooltip-color);font-style:normal;font-weight:var(--font-weight);font-size:.875rem;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;opacity:0;pointer-events:none}[data-tooltip]::after{padding:0;transform:translate(-50%,0);border-top:.3rem solid;border-right:.3rem solid transparent;border-left:.3rem solid transparent;border-radius:0;background-color:transparent;content:"";color:var(--tooltip-background-color)}[data-tooltip]:focus::after,[data-tooltip]:focus::before,[data-tooltip]:hover::after,[data-tooltip]:hover::before{opacity:1}@media (hover:hover) and (pointer:fine){[data-tooltip]:focus::after,[data-tooltip]:focus::before,[data-tooltip]:hover::after,[data-tooltip]:hover::before{-webkit-animation-duration:.2s;animation-duration:.2s;-webkit-animation-name:slide;animation-name:slide}[data-tooltip]:focus::after,[data-tooltip]:hover::after{-webkit-animation-name:slideCaret;animation-name:slideCaret}}@-webkit-keyframes slide{from{transform:translate(-50%,.75rem);opacity:0}to{transform:translate(-50%,-.25rem);opacity:1}}@keyframes slide{from{transform:translate(-50%,.75rem);opacity:0}to{transform:translate(-50%,-.25rem);opacity:1}}@-webkit-keyframes slideCaret{from{opacity:0}50%{transform:translate(-50%,-.25rem);opacity:0}to{transform:translate(-50%,0);opacity:1}}@keyframes slideCaret{from{opacity:0}50%{transform:translate(-50%,-.25rem);opacity:0}to{transform:translate(-50%,0);opacity:1}}[aria-controls]{cursor:pointer}[aria-disabled=true],[disabled]{cursor:not-allowed}[aria-hidden=false][hidden]{display:initial}[aria-hidden=false][hidden]:not(:focus){clip:rect(0,0,0,0);position:absolute}[tabindex],a,area,button,input,label,select,summary,textarea{-ms-touch-action:manipulation}[dir=rtl]{direction:rtl}@media (prefers-reduced-motion:reduce){:not([aria-busy=true]),:not([aria-busy=true])::after,:not([aria-busy=true])::before{background-attachment:initial!important;-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-animation-delay:-1ms!important;animation-delay:-1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;scroll-behavior:auto!important;transition-delay:0s!important;transition-duration:0s!important}}
/*# sourceMappingURL=pico.min.css.map */</style>
        
  
          <!-- inline pub/global.css -->
          <style>.row{display:flex;flex-direction:row}.row-reverse{display:flex;flex-direction:row-reverse}.col,.column{display:flex;flex-direction:column}.column-reverse{display:flex;flex-direction:column-reverse}.wrap{flex-wrap:wrap}.wrap-reverse{flex-wrap:wrap-reverse}.nowrap{flex-wrap:nowrap}.space-around{justify-content:space-around}.space-between{justify-content:space-between}.start{justify-content:flex-start}.end{justify-content:flex-end}.center{justify-content:center}.xstart{align-items:flex-start}.xend{align-items:flex-end}.xcenter{align-items:center}.xbaseline{align-items:baseline}.xstrech{align-items:stretch}.grow1{flex-grow:1}.grow2{flex-grow:2}.grow3{flex-grow:3}.grow4{flex-grow:4}.text-center{text-align:center}.block{display:block}:root:not([data-theme=dark]),[data-theme=light]{--primary:#5e35b1;--primary-focus:rgba(94,53,177,.125);--primary-hover:#512da8;--primary-inverse:#fff}@media only screen and (prefers-color-scheme:dark){:root:not([data-theme=light]){--primary:#5e35b1;--primary-focus:rgba(94,53,177,.25);--primary-hover:#673ab7;--primary-inverse:#fff}}[data-theme=dark]{--primary:#5e35b1;--primary-focus:rgba(94,53,177,.25);--primary-hover:#673ab7;--primary-inverse:#fff}:root{--bone:#e8d8b0;--coal:#2c323b;--cobalt:#0064c8;--faded:#928374;--form-element-active-border-color:var(--primary);--form-element-focus-color:var(--primary-focus);--grass:#8ec07c;--moss:#98c379;--nav-height:2em;--orange:#fe8019;--purp:#c678dd;--red:#fb4934;--slate:#83a598;--switch-checked-background-color:var(--primary);--switch-color:var(--primary-inverse)}body{background-color:var(--background-color);min-height:100vh;width:100vw}main{display:grid;grid-template-areas:"west east";grid-template-columns:50vw 50vw;grid-template-rows:auto}home,message-preview,pitch,render{display:block}.east{grid-area:east}.west{grid-area:west}message-preview.container{max-width:700px!important}render{min-height:100vh}main[data-mirror=true]{grid-template-areas:"east west"}main.mode-show:not([data-mirror=true]){grid-template-columns:0 100vw}main.mode-show[data-mirror=true]{grid-template-columns:100vw 0}main.mode-show .west{display:none}@media(max-width:8in){main.mode-edit:not([data-mirror=true]){grid-template-columns:100vw 0}main.mode-edit[data-mirror=true]{grid-template-columns:0 100vw}main.mode-edit render{display:none}}@media(min-width:8in){main.mode-edit editor{min-width:50vw;position:fixed;top:0}main.mode-edit[data-mirror=true] editor{left:50vw}main.mode-edit dialog{left:0;min-width:50%;right:50%}main.mode-edit[data-mirror=true] dialog{left:50%;right:0}}.mode-edit #r-btn-resume.btn-round,.mode-edit #r-ghost-pad,[data-view=pitch] #r-btn-resume,main:not([data-view=discover]) discover,main:not([data-view=edit]):not([data-view=show]) editor,main:not([data-view=home]) home,main:not([data-view=pitch]) pitch,main:not([data-view=saved]) saved,main:not([data-view=settings]) settings,main[data-view=pitch] render,render:not([data-state=draft]) #r-btn-resume.btn-round,render:not([data-state=draft]) #r-ghost-pad{display:none}main render{box-shadow:-6px -25px 20px rgba(0,0,0,.4);z-index:20}body>main{padding:0}.pad,render{padding:var(--block-spacing-horizontal)}.hgap{margin:0 var(--block-spacing-horizontal)}.vgap{margin:var(--block-spacing-vertical) 0}.gap{margin:var(--block-spacing-vertical) var(--block-spacing-horizontal)}render-ctrls{display:block;margin-bottom:var(--block-spacing-vertical)}.btn-round{--size:2em;background:0;border-radius:50%;box-shadow:0 0 4px var(--primary);color:var(--primary);display:inline-block;font-weight:700;height:var(--size);margin:0 var(--block-spacing-horizontal) 0 0;padding:0;width:var(--size)}.btn-round:last-child{margin-right:unset}nav [role=list],nav [role=list]>[role=button],nav button,nav details[role=list][open] summary{border-radius:0;border-right:1px solid #000;display:block;text-align:center;width:100%}nav details[role=list] summary[role=button]{height:100%;line-height:2}nav.bottom [role=button],nav.bottom button{margin-bottom:0}[data-tooltip][role=button]{border-bottom:unset;cursor:pointer}main editor{height:100vh;position:sticky}#markdown-area{border:0;border-radius:0;height:80%;outline:0;resize:none}editor:not([data-state=draft]) #edit-options,editor:not([data-state=draft]) #edit-publish,editor:not([data-state=signed]) #edit-fork,editor:not([data-state=signed]) #edit-share,editor[data-state=draft] .no-draft{display:none}message-preview>h1:first-child,message-preview>h2:first-child,message-preview>h3:first-child{text-align:center}message-preview{overflow-x:hidden}main{position:relative}home{position:sticky}rant-list{display:block}rant-list rant icon{--size:1.9em;border:1px solid var(--primary);display:inline-block;font-size:calc(var(--size)*.8);height:var(--size);line-height:var(--size);margin-right:var(--block-spacing-horizontal);overflow:hidden;text-align:center;vertical-align:middle;width:var(--size)}rant-list rant .trash{background-image:var(--icon-close);background-position:center center;background-repeat:no-repeat}rant-list rant h4,rant-list rant h6{margin:0}rant-list rant .sample{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}rant-list rant{border-bottom:1px solid var(--primary);padding-bottom:var(--block-spacing-horizontal);padding-top:var(--block-spacing-horizontal)}rant-list rant:last-child{border-bottom:0}rant-list rant[data-id=new] h6{color:var(--primary)}ico{display:inline;filter:sepia(71%) saturate(300%) hue-rotate(217deg)}#r-btn-resume.btn-round{--size:3rem;background-color:var(--primary);left:calc(50vw - 1.5rem);opacity:.9;position:fixed;top:calc(100vh - var(--block-spacing-vertical) - var(--size))}#r-ghost-pad{line-height:3rem}.imgmoji{display:inline-block;font-size:6rem}.imgmoji:only-child{display:block;text-align:center}pre.pksig{background:0!important;text-align:center}td[align=right],th[align=right]{text-align:right}td[align=left],th[align=left]{text-align:left}td[align=center],th[align=center]{text-align:center}render[data-theme]{background-color:var(--background-color)}render[data-theme=ghostwriter]{--background-color:#f8f8ff;--code-background-color:var(--background-color);--code-color:var(--color);--color:#000;--font-family:"Times New Roman",serif;--h1-color:var(--color);--h2-color:var(--color);--h3-color:var(--color);--h4-color:var(--color);--h5-color:var(--color);background-color:var(--background-color)}render[data-theme=ghostwriter] #markdown-render>*,render[data-theme=ghostwriter] render-ctrls{animation:.3s ease-in 6s normal backwards blurin;font-family:var(--font-family)}render[data-theme=ghostwriter] #markdown-render>:first-child{animation:1.5s cubic-bezier(.55,.085,.68,.53) 0s 3 alternate backwards running blurin;font-family:Courier,monospace;font-size:3em;font-weight:100;margin-bottom:0;text-align:center;text-transform:capitalize}render[data-theme=ghostwriter] #markdown-render>:nth-child(2){animation:.8s ease-in-out 2s 3 alternate backwards blurin;font-weight:400;margin-top:0}render[data-theme=ghostwriter] #markdown-render>:nth-child(3){animation:5s linear 2.4s 1 both flicker}@keyframes blurin{0%{-webkit-filter:blur(9pt);filter:blur(9pt);opacity:0}to{-webkit-filter:blur(0);filter:blur(0);opacity:1}}@keyframes flicker{0%{opacity:0}10.1%,20.1%,30.1%,30.5%,45.1%,50%,55%,57.1%,60%,65.1%{-webkit-filter:blur(24px);filter:blur(24px);opacity:.7}10%,10.2%,20%,20.6%,30%,30.6%,45%,55.1%,57%,60.1%,65%,75.1%,77%,85.1%,86%{-webkit-filter:blur(24px);filter:blur(24px);opacity:0}75%,77.1%,85%,86.1%,to{-webkit-filter:blur(0);filter:blur(0);opacity:1}}render[data-theme=morpheus]{--background-color:#000;--code-background-color:var(--background-color);--code-color:var(--color);--color:#a0ff7e;--font-family:monospace,"Courier";--h1-color:var(--color);--h2-color:var(--color);--h3-color:var(--color);--h4-color:var(--color);--h5-color:var(--color);--nav-height:0;--primary:var(--color);background-color:var(--background-color)}render[data-theme=morpheus] #markdown-render>*,render[data-theme=morpheus] render-ctrls{animation:.5s ease-in 10s normal backwards blurin}render[data-theme=morpheus] #r-btn-resume{background-color:rgba(160,255,126,.1882);border:0}@keyframes morphsldwn{0%{height:100vh;top:0}to{height:calc(100vh - var(--nav-height));top:var(--nav-height)}}@keyframes morphblink{0%,49%{opacity:0}to,50%{opacity:.6}}@keyframes morphtypesim{0%{display:none;width:0}1%{display:initial;width:0}to{width:100%}}render[data-theme=morpheus] #markdown-render:before,render[data-theme=morpheus]:before{background:repeating-linear-gradient(0deg,transparent,transparent 2px,hsla(0,0%,100%,.2) 4px,hsla(0,0%,100%,.3) 7px,transparent 10px);content:" ";display:block;height:100vh;left:0;position:fixed;top:0;width:50%;z-index:1}render[data-theme=morpheus] #r-btn-resume,render[data-theme=morpheus] render-ctrls{z-index:20}render[data-theme=morpheus] #markdown-render:before{background:radial-gradient(transparent,#080f09 98%);z-index:16}.mode-show render[data-theme=morpheus] #markdown-render:before,.mode-show render[data-theme=morpheus]:before{width:100%}.mode-edit:not([data-mirror=true]) render[data-theme=morpheus] #markdown-render:before,.mode-edit:not([data-mirror=true]) render[data-theme=morpheus]:before{left:50%}@media(max-width:8in){.mode-edit render[data-theme=morpheus] #markdown-render:before,.mode-edit render[data-theme=morpheus]:before{width:100%}}render[data-theme=morpheus] #markdown-render>:nth-child(2):after{animation:2s ease-in-out 0s infinite both morphblink;background:var(--color);content:" ";display:inline-block;height:1em;width:.7rem}render[data-theme=morpheus] #markdown-render>:first-child{animation:2s linear 1s normal both morphtypesim;display:inline-block;font-size:2rem;font-weight:100;margin-bottom:0;overflow:hidden;text-align:left;white-space:nowrap}render[data-theme=morpheus] #markdown-render>:nth-child(2){animation:2s linear 5s normal both morphtypesim;display:inline-block;overflow:hidden;white-space:nowrap}render[data-theme=morpheus] #markdown-render>:nth-child(3){animation:3s linear 8s normal both morphtypesim;display:inline-block;overflow:hidden;white-space:nowrap}main.love-letter{background:pink}.love-letter #render{font-family:Comic Sans,monospace}[data-theme=decent]{--background-color:var(--grah);--bleak:var(--slat);--ca:var(--rust);--code-background-color:var(--bleak);--code-color:var(--subtle);--color:#bbbba9;--copp:#d08c6d;--font-family:system-ui,-apple-system,"Segoe UI","Roboto","Ubuntu","Cantarell","Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--grah:#2f383e;--h1-color:var(--primary);--h2-color:var(--lead);--h3-color:var(--leaf);--h4-color:var(--yell);--h5-color:var(--lead);--hr-color:var(--background);--lead:#73a8a2;--leaf:#9ab278;--primary:var(--viol);--rock:#818e85;--rust:#db797b;--slat:#2c323d;--strong-color:var(--subtle);--subtle:var(--rock);--viol:#cd94b0;--yell:#cbaf78}[data-theme=decent] a{color:var(--ca)}[data-theme=decent] h1,[data-theme=decent] h2,[data-theme=decent] h3,[data-theme=decent] h6{font-weight:300}[data-theme=decent] h1:first-child{font-size:2.5rem;margin-top:2rem;text-align:unset}[data-theme=decent] blockquote p,[data-theme=decent] em{color:var(--subtle)}[data-theme=decent] blockquote{border-left:5px solid var(--bleak)}[data-theme=decent] pre,[data-theme=decent] table thead{background-color:var(--bleak);border-radius:2px;font-size:.8em;line-height:1.25;overflow:auto;padding:1em;word-wrap:normal}[data-theme=decent] p strong{color:var(--strong-color)}[data-theme=decent] p code,render[data-theme=decent] li code{background-color:var(--bleak);border-radius:2px;color:var(--subtle);display:inline-block;font-size:.8em;margin:0 1px;padding:4px 6px}[data-theme=decent] hr{border:0;border-bottom:2px solid var(--hr-color);margin-bottom:5em;margin-left:0;margin-top:3em;max-width:25vw}[data-theme=decent] table{border:1px solid var(--bleak)}[data-theme=decent] table thead th{border:0;color:var(--leaf);font-weight:700}[data-theme=decent] table th,table td{border:0;padding:4px 6px}[data-theme=decent] table td{color:var(--color)}[data-theme=decent] table tr:nth-child(even) td{background-color:var(--bleak);color:var(--subtle)}[data-theme=decent] ico{filter:sepia(90%) saturate(0%)}</style>
        
	<script type="module">var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getAugmentedNamespace(e){var t=e.default;if("function"==typeof t){var a=function(){return t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),a}for(var t={},r={byteLength:function byteLength$7(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function toByteArray$1(e){var t,r,n=getLens(e),s=n[0],c=n[1],u=new o(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,s,c)),l=0,h=c>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===c&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},fromByteArray:function fromByteArray$1(e){for(var t,r=e.length,i=r%3,o=[],s=16383,c=0,u=r-i;c<u;c+=s)o.push(encodeChunk$1(e,c,c+s>u?u:c+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")}},n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=s.length;c<u;++c)n[c]=s[c],i[s.charCodeAt(c)]=c;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk$1(e,t,r){for(var i,o,s=[],c=t;c<r;c+=3)i=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;var l={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}l.read=function(e,t,r,n,i){var o,s,c=8*i-n-1,u=(1<<c)-1,l=u>>1,h=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-h)-1,p>>=-h,h+=c;h>0;o=256*o+e[t+f],f+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+f],f+=d,h-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=l}return(p?-1:1)*s*Math.pow(2,o-n)},l.write=function(e,t,r,n,i,o){var s,c,u,l=8*o-i-1,h=(1<<l)-1,f=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,A=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=h?(c=0,s=h):s+f>=1?(c=(t*u-1)*Math.pow(2,i),s+=f):(c=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&c,p+=A,c/=256,i-=8);for(s=s<<i|c,l+=i;l>0;e[r+p]=255&s,p+=A,s/=256,l-=8);e[r+p-A]|=128*y},
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
function(e){const t=r,n=l,i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=Buffer,e.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function createBuffer(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer.prototype),t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return function fromString(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|byteLength(e,t);let n=createBuffer(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function fromArrayView(e){if(isInstance(e,Uint8Array)){const t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);const i=function fromObject(e){if(Buffer.isBuffer(e)){const t=0|checked(e.length),r=createBuffer(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike(e){const t=e.length<0?0:0|checked(e.length),r=createBuffer(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,Buffer.prototype),n}function checked(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){let o,s=1,c=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,c/=2,u/=2,r/=2}function read(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<c;o++)if(read(e,o)===read(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>c&&(r=c-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(read(e,o+n)!==read(t,n)){r=!1;break}if(r)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(numberIsNaN(n))return s;e[r+s]=n}return s}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function asciiToBytes(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function utf16leToBytes(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function base64Slice(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function utf8Slice(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,c,u;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],c=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&c)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&c,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function decodeCodePointsArray(e){const t=e.length;if(t<=s)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=s));return r}(n)}e.kMaxLength=o,Buffer.TYPED_ARRAY_SUPPORT=function typedArraySupport(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(e,t,r){return function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function isBuffer(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function compare(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=Buffer.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(isInstance(t,Uint8Array))i+t.length>n.length?(Buffer.isBuffer(t)||(t=Buffer.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!Buffer.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){const e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(Buffer.prototype[i]=Buffer.prototype.inspect),Buffer.prototype.compare=function compare(e,t,r,n,i){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const c=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<c;++e)if(u[e]!==l[e]){o=u[e],s=l[e];break}return o<s?-1:s<o?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":case"latin1":case"binary":return asciiWrite(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const s=4096;function asciiSlice(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=h[e[n]];return i}function utf16leSlice(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function wrtBigUInt64LE(e,t,r,n,i){checkIntBI(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function wrtBigUInt64BE(e,t,r,n,i){checkIntBI(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,i,o){return t=+t,r>>>=0,o||checkIEEE754(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function writeDouble(e,t,r,i,o){return t=+t,r>>>=0,o||checkIEEE754(e,0,r,8),n.write(e,t,r,i,52,8),r+8}Buffer.prototype.slice=function slice(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,Buffer.prototype),n},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function readUInt8(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readBigUInt64LE=defineBigIntMethod((function readBigUInt64LE(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),Buffer.prototype.readBigUInt64BE=defineBigIntMethod((function readBigUInt64BE(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),Buffer.prototype.readIntLE=function readIntLE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){e>>>=0,t||checkOffset(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){e>>>=0,t||checkOffset(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readBigInt64LE=defineBigIntMethod((function readBigInt64LE(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),Buffer.prototype.readBigInt64BE=defineBigIntMethod((function readBigInt64BE(e){validateNumber(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||boundsError(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),Buffer.prototype.readFloatLE=function readFloatLE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),n.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),n.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return e>>>=0,t||checkOffset(e,8,this.length),n.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return e>>>=0,t||checkOffset(e,8,this.length),n.read(this,e,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeBigUInt64LE=defineBigIntMethod((function writeBigUInt64LE(e,t=0){return wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeBigUInt64BE=defineBigIntMethod((function writeBigUInt64BE(e,t=0){return wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeBigInt64LE=defineBigIntMethod((function writeBigInt64LE(e,t=0){return wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeBigInt64BE=defineBigIntMethod((function writeBigInt64BE(e,t=0){return wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},Buffer.prototype.fill=function fill(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=Buffer.isBuffer(e)?e:Buffer.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const c={};function E(e,t,r){c[e]=class NodeError extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function addNumericalSeparator(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function checkIntBI(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new c.ERR_OUT_OF_RANGE("value",i,e)}!function checkBounds(e,t,r){validateNumber(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||boundsError(t,e.length-(r+1))}(n,i,o)}function validateNumber(e,t){if("number"!=typeof e)throw new c.ERR_INVALID_ARG_TYPE(t,"number",e)}function boundsError(e,t,r){if(Math.floor(e)!==e)throw validateNumber(e,r),new c.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new c.ERR_BUFFER_OUT_OF_BOUNDS;throw new c.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}E("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),E("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),E("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=addNumericalSeparator(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=addNumericalSeparator(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const u=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(e){return t.toByteArray(function base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(u,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}const h=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function defineBigIntMethod(e){return"undefined"==typeof BigInt?BufferBigIntNotDefined:e}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}}(t);let h={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const f=/[&<>"']/,d=/[&<>"']/g,p=/[<>"']|&(?!#?\w+;)/,A=/[<>"']|&(?!#?\w+;)/g,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>y[e];function escape(e,t){if(t){if(f.test(e))return e.replace(d,getEscapeReplacement)}else if(p.test(e))return e.replace(A,getEscapeReplacement);return e}const b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape(e){return e.replace(b,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const m=/(^|[^\[])\^/g;function edit(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(t,n)=>(n=(n=n.source||n).replace(m,"$1"),e=e.replace(t,n),r),getRegex:()=>new RegExp(e,t)};return r}const I=/[^\w:]/g,w=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(e,t,r){if(e){let e;try{e=decodeURIComponent(unescape(r)).replace(I,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!w.test(r)&&(r=function resolveUrl(e,t){_[" "+e]||(B.test(e)?_[" "+e]=e+"/":_[" "+e]=rtrim(e,"/",!0));const r=-1===(e=_[" "+e]).indexOf(":");return"//"===t.substring(0,2)?r?t:e.replace(C,"$1")+t:"/"===t.charAt(0)?r?t:e.replace(S,"$1")+t:e+t}(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(e){return null}return r}const _={},B=/^[^:]+:\/*[^/]*$/,C=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/;const k={exec:function noopTest(){}};function merge(e){let t,r,n=1;for(;n<arguments.length;n++)for(r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function splitCells(e,t){const r=e.replace(/\|/g,((e,t,r)=>{let n=!1,i=t;for(;--i>=0&&"\\"===r[i];)n=!n;return n?"|":" |"})).split(/ \|/);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function rtrim(e,t,r){const n=e.length;if(0===n)return"";let i=0;for(;i<n;){const o=e.charAt(n-i-1);if(o!==t||r){if(o===t||!r)break;i++}else i++}return e.slice(0,n-i)}function checkSanitizeDeprecation(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function repeatString(e,t){if(t<1)return"";let r="";for(;t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e}function outputLink(e,t,r,n){const i=t.href,o=t.title?escape(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const e={type:"link",raw:r,href:i,title:o,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,e}return{type:"image",raw:r,href:i,title:o,text:escape(s)}}class Tokenizer{constructor(e){this.options=e||h}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rtrim(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],r=function indentCodeCompensation(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[r]=t;return r.length>=n.length?e.slice(n.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=rtrim(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,n,i,o,s,c,u,l,h,f,d,p,A=t[1].trim();const y=A.length>1,b={type:"list",raw:"",ordered:y,start:y?+A.slice(0,-1):"",loose:!1,items:[]};A=y?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=y?A:"[*+-]");const m=new RegExp(`^( {0,3}${A})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=m.exec(e))&&!this.rules.block.hr.test(e);){if(r=t[0],e=e.substring(r.length),l=t[2].split("\n",1)[0],h=e.split("\n",1)[0],this.options.pedantic?(o=2,d=l.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,d=l.slice(o),o+=t[1].length),c=!1,!l&&/^ *$/.test(h)&&(r+=h+"\n",e=e.substring(h.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(f=e.split("\n",1)[0],l=f,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!i.test(l))&&!s.test(l)&&!t.test(l)&&!n.test(e);){if(l.search(/[^ ]/)>=o||!l.trim())d+="\n"+l.slice(o);else{if(c)break;d+="\n"+l}c||l.trim()||(c=!0),r+=f+"\n",e=e.substring(f.length+1)}}b.loose||(u?b.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(d),n&&(i="[ ] "!==n[0],d=d.replace(/^\[[ xX]\] +/,""))),b.items.push({type:"list_item",raw:r,task:!!n,checked:i,loose:!1,text:d}),b.raw+=r}b.items[b.items.length-1].raw=r.trimRight(),b.items[b.items.length-1].text=d.trimRight(),b.raw=b.raw.trimRight();const I=b.items.length;for(s=0;s<I;s++){this.lexer.state.top=!1,b.items[s].tokens=this.lexer.blockTokens(b.items[s].text,[]);const e=b.items[s].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let r=0;for(const e of t)if("\n"===e&&(r+=1),r>1)return!0;return!1}));!b.loose&&e.length&&t&&(b.loose=!0,b.items[s].loose=!0)}return b}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):escape(t[0]);e.type="paragraph",e.text=r,e.tokens=this.lexer.inline(r)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:splitCells(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let r,n,i,o,s=e.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(e.align[r])?e.align[r]="right":/^ *:-+: *$/.test(e.align[r])?e.align[r]="center":/^ *:-+ *$/.test(e.align[r])?e.align[r]="left":e.align[r]=null;for(s=e.rows.length,r=0;r<s;r++)e.rows[r]=splitCells(e.rows[r],e.header.length).map((e=>({text:e})));for(s=e.header.length,n=0;n<s;n++)e.header[n].tokens=this.lexer.inline(e.header[n].text);for(s=e.rows.length,n=0;n<s;n++)for(o=e.rows[n],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:escape(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):escape(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=rtrim(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function findClosingBracket(e,t){if(-1===e.indexOf(t[1]))return-1;const r=e.length;let n=0,i=0;for(;i<r;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}(t[2],"()");if(e>-1){const r=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]=""}}let r=t[2],n="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);e&&(r=e[1],n=e[3])}else n=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(e)?r.slice(1):r.slice(1,-1)),outputLink(t,{href:r?r.replace(this.rules.inline._escapes,"$1"):r,title:n?n.replace(this.rules.inline._escapes,"$1"):n},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let e=(r[2]||r[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=r[0].charAt(0);return{type:"text",raw:e,text:e}}return outputLink(r,e,r[0],this.lexer)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrong.lDelim.exec(e);if(!n)return;if(n[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=n[1]||n[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const r=n[0].length-1;let i,o,s=r,c=0;const u="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+r);null!=(n=u.exec(t));){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(o=i.length,n[3]||n[4]){s+=o;continue}if((n[5]||n[6])&&r%3&&!((r+o)%3)){c+=o;continue}if(s-=o,s>0)continue;if(o=Math.min(o,o+s+c),Math.min(r,o)%2){const t=e.slice(1,r+n.index+o);return{type:"em",raw:e.slice(0,r+n.index+o+1),text:t,tokens:this.lexer.inlineTokens(t)}}const t=e.slice(2,r+n.index+o-1);return{type:"strong",raw:e.slice(0,r+n.index+o+1),text:t,tokens:this.lexer.inlineTokens(t)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const r=/[^ ]/.test(e),n=/^ /.test(e)&&/ $/.test(e);return r&&n&&(e=e.substring(1,e.length-1)),e=escape(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let e,n;return"@"===r[2]?(e=escape(this.options.mangle?t(r[1]):r[1]),n="mailto:"+e):(e=escape(r[1]),n=e),{type:"link",raw:r[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let e,n;if("@"===r[2])e=escape(this.options.mangle?t(r[0]):r[0]),n="mailto:"+e;else{let t;do{t=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(t!==r[0]);e=escape(r[0]),n="www."===r[1]?"http://"+e:e}return{type:"link",raw:r[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):escape(r[0]):r[0]:escape(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}}const v={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:k,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};v.def=edit(v.def).replace("label",v._label).replace("title",v._title).getRegex(),v.bullet=/(?:[*+-]|\d{1,9}[.)])/,v.listItemStart=edit(/^( *)(bull) */).replace("bull",v.bullet).getRegex(),v.list=edit(v.list).replace(/bull/g,v.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+v.def.source+")").getRegex(),v._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",v._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,v.html=edit(v.html,"i").replace("comment",v._comment).replace("tag",v._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),v.paragraph=edit(v._paragraph).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v._tag).getRegex(),v.blockquote=edit(v.blockquote).replace("paragraph",v.paragraph).getRegex(),v.normal=merge({},v),v.gfm=merge({},v.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),v.gfm.table=edit(v.gfm.table).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v._tag).getRegex(),v.gfm.paragraph=edit(v._paragraph).replace("hr",v.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",v.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v._tag).getRegex(),v.pedantic=merge({},v.normal,{html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",v._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:k,paragraph:edit(v.normal._paragraph).replace("hr",v.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",v.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:k,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:k,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function smartypants(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(e){let t,r,n="";const i=e.length;for(t=0;t<i;t++)r=e.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}x._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",x.punctuation=edit(x.punctuation).replace(/punctuation/g,x._punctuation).getRegex(),x.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,x.escapedEmSt=/\\\*|\\_/g,x._comment=edit(v._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),x.emStrong.lDelim=edit(x.emStrong.lDelim).replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimAst=edit(x.emStrong.rDelimAst,"g").replace(/punct/g,x._punctuation).getRegex(),x.emStrong.rDelimUnd=edit(x.emStrong.rDelimUnd,"g").replace(/punct/g,x._punctuation).getRegex(),x._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,x.autolink=edit(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex(),x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,x.tag=edit(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex(),x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,x.link=edit(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex(),x.reflink=edit(x.reflink).replace("label",x._label).replace("ref",v._label).getRegex(),x.nolink=edit(x.nolink).replace("ref",v._label).getRegex(),x.reflinkSearch=edit(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex(),x.normal=merge({},x),x.pedantic=merge({},x.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()}),x.gfm=merge({},x.normal,{escape:edit(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),x.gfm.url=edit(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex(),x.breaks=merge({},x.gfm,{br:edit(x.br).replace("{2,}","*").getRegex(),text:edit(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Lexer{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||h,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:v.normal,inline:x.normal};this.options.pedantic?(t.block=v.pedantic,t.inline=x.pedantic):this.options.gfm&&(t.block=v.gfm,this.options.breaks?t.inline=x.breaks:t.inline=x.gfm),this.tokenizer.rules=t}static get rules(){return{block:v,inline:x}}static lex(e,t){return new Lexer(t).lex(e)}static lexInline(e,t){return new Lexer(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,n,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,r)=>t+"    ".repeat(r.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),n=t[t.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?t.push(r):(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),n=t[t.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const r=e.slice(1);let n;this.options.extensions.startBlock.forEach((function(e){n=e.call({lexer:this},r),"number"==typeof n&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i)))n=t[t.length-1],o&&"paragraph"===n.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r),o=i.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),n=t[t.length-1],n&&"text"===n.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,n,i,o,s,c,u=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+repeatString("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+repeatString("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(u));)u=u.slice(0,o.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(c=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),n=t[t.length-1],n&&"text"===r.type&&"text"===n.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),n=t[t.length-1],n&&"text"===r.type&&"text"===n.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,u,c))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e,mangle))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e,mangle))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const r=e.slice(1);let n;this.options.extensions.startInline.forEach((function(e){n=e.call({lexer:this},r),"number"==typeof n&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(r=this.tokenizer.inlineText(i,smartypants))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(c=r.raw.slice(-1)),s=!0,n=t[t.length-1],n&&"text"===n.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(r.raw.length),t.push(r);return t}}class Renderer{constructor(e){this.options=e||h}code(e,t,r){const n=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,n);null!=t&&t!==e&&(r=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+escape(n,!0)+'">'+(r?e:escape(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:escape(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,n){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+n.slug(r)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const n=t?"ol":"ul";return"<"+n+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+n+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=cleanUrl(this.options.sanitize,this.options.baseUrl,e)))return r;let n='<a href="'+escape(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+r+"</a>",n}image(e,t,r){if(null===(e=cleanUrl(this.options.sanitize,this.options.baseUrl,e)))return r;let n=`<img src="${e}" alt="${r}"`;return t&&(n+=` title="${t}"`),n+=this.options.xhtml?"/>":">",n}text(e){return e}}class TextRenderer{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,n=0;if(this.seen.hasOwnProperty(r)){n=this.seen[e];do{n++,r=e+"-"+n}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=n,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Parser{constructor(e){this.options=e||h,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(e,t){return new Parser(t).parse(e)}static parseInline(e,t){return new Parser(t).parseInline(e)}parse(e,t=!0){let r,n,i,o,s,c,u,l,h,f,d,p,A,y,b,m,I,w,_,B="";const C=e.length;for(r=0;r<C;r++)if(f=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(_=this.options.extensions.renderers[f.type].call({parser:this},f),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)))B+=_||"";else switch(f.type){case"space":continue;case"hr":B+=this.renderer.hr();continue;case"heading":B+=this.renderer.heading(this.parseInline(f.tokens),f.depth,unescape(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":B+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(l="",u="",o=f.header.length,n=0;n<o;n++)u+=this.renderer.tablecell(this.parseInline(f.header[n].tokens),{header:!0,align:f.align[n]});for(l+=this.renderer.tablerow(u),h="",o=f.rows.length,n=0;n<o;n++){for(c=f.rows[n],u="",s=c.length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(c[i].tokens),{header:!1,align:f.align[i]});h+=this.renderer.tablerow(u)}B+=this.renderer.table(l,h);continue;case"blockquote":h=this.parse(f.tokens),B+=this.renderer.blockquote(h);continue;case"list":for(d=f.ordered,p=f.start,A=f.loose,o=f.items.length,h="",n=0;n<o;n++)b=f.items[n],m=b.checked,I=b.task,y="",b.task&&(w=this.renderer.checkbox(m),A?b.tokens.length>0&&"paragraph"===b.tokens[0].type?(b.tokens[0].text=w+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&"text"===b.tokens[0].tokens[0].type&&(b.tokens[0].tokens[0].text=w+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:w}):y+=w),y+=this.parse(b.tokens,A),h+=this.renderer.listitem(y,I,m);B+=this.renderer.list(h,d,p);continue;case"html":B+=this.renderer.html(f.text);continue;case"paragraph":B+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(h=f.tokens?this.parseInline(f.tokens):f.text;r+1<C&&"text"===e[r+1].type;)f=e[++r],h+="\n"+(f.tokens?this.parseInline(f.tokens):f.text);B+=t?this.renderer.paragraph(h):h;continue;default:{const e='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return B}parseInline(e,t){t=t||this.renderer;let r,n,i,o="";const s=e.length;for(r=0;r<s;r++)if(n=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]&&(i=this.options.extensions.renderers[n.type].call({parser:this},n),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)))o+=i||"";else switch(n.type){case"escape":case"text":o+=t.text(n.text);break;case"html":o+=t.html(n.text);break;case"link":o+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":o+=t.image(n.href,n.title,n.text);break;case"strong":o+=t.strong(this.parseInline(n.tokens,t));break;case"em":o+=t.em(this.parseInline(n.tokens,t));break;case"codespan":o+=t.codespan(n.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(n.tokens,t));break;default:{const e='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}function marked(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(r=t,t=null),checkSanitizeDeprecation(t=merge({},marked.defaults,t||{})),r){const n=t.highlight;let i;try{i=Lexer.lex(e,t)}catch(e){return r(e)}const done=function(e){let o;if(!e)try{t.walkTokens&&marked.walkTokens(i,t.walkTokens),o=Parser.parse(i,t)}catch(t){e=t}return t.highlight=n,e?r(e):r(null,o)};if(!n||n.length<3)return done();if(delete t.highlight,!i.length)return done();let o=0;return marked.walkTokens(i,(function(e){"code"===e.type&&(o++,setTimeout((()=>{n(e.text,e.lang,(function(t,r){if(t)return done(t);null!=r&&r!==e.text&&(e.text=r,e.escaped=!0),o--,0===o&&done()}))}),0))})),void(0===o&&done())}function onError(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}try{const r=Lexer.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(marked.walkTokens(r,t.walkTokens)).then((()=>Parser.parse(r,t))).catch(onError);marked.walkTokens(r,t.walkTokens)}return Parser.parse(r,t)}catch(e){onError(e)}}marked.options=marked.setOptions=function(e){return merge(marked.defaults,e),function changeDefaults(e){h=e}(marked.defaults),marked},marked.getDefaults=getDefaults,marked.defaults=h,marked.use=function(...e){const t=merge({},...e),r=marked.defaults.extensions||{renderers:{},childTokens:{}};let n;e.forEach((e=>{if(e.extensions&&(n=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=r.renderers?r.renderers[e.name]:null;r.renderers[e.name]=t?function(...r){let n=e.renderer.apply(this,r);return!1===n&&(n=t.apply(this,r)),n}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");r[e.level]?r[e.level].unshift(e.tokenizer):r[e.level]=[e.tokenizer],e.start&&("block"===e.level?r.startBlock?r.startBlock.push(e.start):r.startBlock=[e.start]:"inline"===e.level&&(r.startInline?r.startInline.push(e.start):r.startInline=[e.start]))}e.childTokens&&(r.childTokens[e.name]=e.childTokens)}))),e.renderer){const r=marked.defaults.renderer||new Renderer;for(const t in e.renderer){const n=r[t];r[t]=(...i)=>{let o=e.renderer[t].apply(r,i);return!1===o&&(o=n.apply(r,i)),o}}t.renderer=r}if(e.tokenizer){const r=marked.defaults.tokenizer||new Tokenizer;for(const t in e.tokenizer){const n=r[t];r[t]=(...i)=>{let o=e.tokenizer[t].apply(r,i);return!1===o&&(o=n.apply(r,i)),o}}t.tokenizer=r}if(e.walkTokens){const r=marked.defaults.walkTokens;t.walkTokens=function(t){let n=[];return n.push(e.walkTokens.call(this,t)),r&&(n=n.concat(r.call(this,t))),n}}n&&(t.extensions=r),marked.setOptions(t)}))},marked.walkTokens=function(e,t){let r=[];for(const n of e)switch(r=r.concat(t.call(marked,n)),n.type){case"table":for(const e of n.header)r=r.concat(marked.walkTokens(e.tokens,t));for(const e of n.rows)for(const n of e)r=r.concat(marked.walkTokens(n.tokens,t));break;case"list":r=r.concat(marked.walkTokens(n.items,t));break;default:marked.defaults.extensions&&marked.defaults.extensions.childTokens&&marked.defaults.extensions.childTokens[n.type]?marked.defaults.extensions.childTokens[n.type].forEach((function(e){r=r.concat(marked.walkTokens(n[e],t))})):n.tokens&&(r=r.concat(marked.walkTokens(n.tokens,t)))}return r},marked.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");checkSanitizeDeprecation(t=merge({},marked.defaults,t||{}));try{const r=Lexer.lexInline(e,t);return t.walkTokens&&marked.walkTokens(r,t.walkTokens),Parser.parseInline(r,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.TextRenderer=TextRenderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.Tokenizer=Tokenizer,marked.Slugger=Slugger,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,Parser.parse,Lexer.lex;var T={exports:{}},D=T.exports=function(){function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,r){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(i,r.prototype),i},_construct.apply(null,arguments)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=Object.hasOwnProperty,t=Object.setPrototypeOf,r=Object.isFrozen,n=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor,o=Object.freeze,s=Object.seal,c=Object.create,u="undefined"!=typeof Reflect&&Reflect,l=u.apply,h=u.construct;l||(l=function apply(e,t,r){return e.apply(t,r)}),o||(o=function freeze(e){return e}),s||(s=function seal(e){return e}),h||(h=function construct(e,t){return _construct(e,_toConsumableArray(t))});var f=unapply(Array.prototype.forEach),d=unapply(Array.prototype.pop),p=unapply(Array.prototype.push),A=unapply(String.prototype.toLowerCase),y=unapply(String.prototype.match),b=unapply(String.prototype.replace),m=unapply(String.prototype.indexOf),I=unapply(String.prototype.trim),w=unapply(RegExp.prototype.test),_=unconstruct(TypeError);function unapply(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return l(e,t,n)}}function unconstruct(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(e,r)}}function addToSet(e,n,i){i=i||A,t&&t(e,null);for(var o=n.length;o--;){var s=n[o];if("string"==typeof s){var c=i(s);c!==s&&(r(n)||(n[o]=c),s=c)}e[s]=!0}return e}function clone(t){var r,n=c(null);for(r in t)l(e,t,[r])&&(n[r]=t[r]);return n}function lookupGetter(e,t){for(;null!==e;){var r=i(e,t);if(r){if(r.get)return unapply(r.get);if("function"==typeof r.value)return unapply(r.value)}e=n(e)}function fallbackValue(e){return console.warn("fallback value for",e),null}return fallbackValue}var B=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),S=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k=o(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),v=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),x=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),T=o(["#text"]),D=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Q=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),L=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),M=s(/<%[\w\W]*|[\w\W]*%>/gm),O=s(/^data-[\-\w.\u00B7-\uFFFF]/),N=s(/^aria-[\-\w]+$/),F=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=s(/^(?:\w+script|data):/i),P=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=s(/^html$/i),K=function getGlobal(){return"undefined"==typeof window?null:window},j=function _createTrustedTypesPolicy(e,t){if("object"!==_typeof(e)||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(r=t.currentScript.getAttribute(n));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function createHTML(e){return e},createScriptURL:function createScriptURL(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function createDOMPurify(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),t=function DOMPurify(e){return createDOMPurify(e)};if(t.version="2.4.0",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var r=e.document,n=e.document,i=e.DocumentFragment,s=e.HTMLTemplateElement,c=e.Node,u=e.Element,l=e.NodeFilter,h=e.NamedNodeMap,H=void 0===h?e.NamedNodeMap||e.MozNamedAttrMap:h,W=e.HTMLFormElement,q=e.DOMParser,G=e.trustedTypes,V=u.prototype,z=lookupGetter(V,"cloneNode"),J=lookupGetter(V,"nextSibling"),X=lookupGetter(V,"childNodes"),Z=lookupGetter(V,"parentNode");if("function"==typeof s){var ee=n.createElement("template");ee.content&&ee.content.ownerDocument&&(n=ee.content.ownerDocument)}var te=j(G,r),re=te?te.createHTML(""):"",ne=n,ie=ne.implementation,oe=ne.createNodeIterator,se=ne.createDocumentFragment,ae=ne.getElementsByTagName,ce=r.importNode,ue={};try{ue=clone(n).documentMode?n.documentMode:{}}catch(e){}var le={};t.isSupported="function"==typeof Z&&ie&&void 0!==ie.createHTMLDocument&&9!==ue;var he,fe,de=U,pe=M,ge=O,Ae=N,ye=$,be=P,me=F,Ie=null,Ee=addToSet({},[].concat(_toConsumableArray(B),_toConsumableArray(C),_toConsumableArray(S),_toConsumableArray(v),_toConsumableArray(T))),we=null,_e=addToSet({},[].concat(_toConsumableArray(D),_toConsumableArray(Q),_toConsumableArray(L),_toConsumableArray(R))),Be=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Se=null,ke=!0,ve=!0,xe=!1,Te=!1,De=!1,Qe=!1,Le=!1,Re=!1,Ue=!1,Me=!1,Oe=!0,Ne=!1,Fe="user-content-",$e=!0,Pe=!1,Ye={},Ke=null,je=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),He=null,We=addToSet({},["audio","video","img","source","image","track"]),qe=null,Ge=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Xe=Je,Ze=!1,et=["application/xhtml+xml","text/html"],tt="text/html",rt=null,nt=n.createElement("form"),it=function isRegexOrFunction(e){return e instanceof RegExp||e instanceof Function},ot=function _parseConfig(e){rt&&rt===e||(e&&"object"===_typeof(e)||(e={}),e=clone(e),he=he=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,fe="application/xhtml+xml"===he?function(e){return e}:A,Ie="ALLOWED_TAGS"in e?addToSet({},e.ALLOWED_TAGS,fe):Ee,we="ALLOWED_ATTR"in e?addToSet({},e.ALLOWED_ATTR,fe):_e,qe="ADD_URI_SAFE_ATTR"in e?addToSet(clone(Ge),e.ADD_URI_SAFE_ATTR,fe):Ge,He="ADD_DATA_URI_TAGS"in e?addToSet(clone(We),e.ADD_DATA_URI_TAGS,fe):We,Ke="FORBID_CONTENTS"in e?addToSet({},e.FORBID_CONTENTS,fe):je,Ce="FORBID_TAGS"in e?addToSet({},e.FORBID_TAGS,fe):{},Se="FORBID_ATTR"in e?addToSet({},e.FORBID_ATTR,fe):{},Ye="USE_PROFILES"in e&&e.USE_PROFILES,ke=!1!==e.ALLOW_ARIA_ATTR,ve=!1!==e.ALLOW_DATA_ATTR,xe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=e.SAFE_FOR_TEMPLATES||!1,De=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,Ue=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Oe=!1!==e.SANITIZE_DOM,Ne=e.SANITIZE_NAMED_PROPS||!1,$e=!1!==e.KEEP_CONTENT,Pe=e.IN_PLACE||!1,me=e.ALLOWED_URI_REGEXP||me,Xe=e.NAMESPACE||Je,e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Be.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Be.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Be.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(ve=!1),Ue&&(Re=!0),Ye&&(Ie=addToSet({},_toConsumableArray(T)),we=[],!0===Ye.html&&(addToSet(Ie,B),addToSet(we,D)),!0===Ye.svg&&(addToSet(Ie,C),addToSet(we,Q),addToSet(we,R)),!0===Ye.svgFilters&&(addToSet(Ie,S),addToSet(we,Q),addToSet(we,R)),!0===Ye.mathMl&&(addToSet(Ie,v),addToSet(we,L),addToSet(we,R))),e.ADD_TAGS&&(Ie===Ee&&(Ie=clone(Ie)),addToSet(Ie,e.ADD_TAGS,fe)),e.ADD_ATTR&&(we===_e&&(we=clone(we)),addToSet(we,e.ADD_ATTR,fe)),e.ADD_URI_SAFE_ATTR&&addToSet(qe,e.ADD_URI_SAFE_ATTR,fe),e.FORBID_CONTENTS&&(Ke===je&&(Ke=clone(Ke)),addToSet(Ke,e.FORBID_CONTENTS,fe)),$e&&(Ie["#text"]=!0),De&&addToSet(Ie,["html","head","body"]),Ie.table&&(addToSet(Ie,["tbody"]),delete Ce.tbody),o&&o(e),rt=e)},st=addToSet({},["mi","mo","mn","ms","mtext"]),at=addToSet({},["foreignobject","desc","title","annotation-xml"]),ct=addToSet({},["title","style","font","a","script"]),ut=addToSet({},C);addToSet(ut,S),addToSet(ut,k);var lt=addToSet({},v);addToSet(lt,x);var ht=function _checkValidNamespace(e){var t=Z(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});var r=A(e.tagName),n=A(t.tagName);return e.namespaceURI===ze?t.namespaceURI===Je?"svg"===r:t.namespaceURI===Ve?"svg"===r&&("annotation-xml"===n||st[n]):Boolean(ut[r]):e.namespaceURI===Ve?t.namespaceURI===Je?"math"===r:t.namespaceURI===ze?"math"===r&&at[n]:Boolean(lt[r]):e.namespaceURI===Je&&!(t.namespaceURI===ze&&!at[n])&&!(t.namespaceURI===Ve&&!st[n])&&!lt[r]&&(ct[r]||!ut[r])},ft=function _forceRemove(e){p(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=re}catch(t){e.remove()}}},dt=function _removeAttribute(e,r){try{p(t.removed,{attribute:r.getAttributeNode(e),from:r})}catch(e){p(t.removed,{attribute:null,from:r})}if(r.removeAttribute(e),"is"===e&&!we[e])if(Re||Ue)try{ft(r)}catch(e){}else try{r.setAttribute(e,"")}catch(e){}},pt=function _initDocument(e){var t,r;if(Le)e="<remove></remove>"+e;else{var i=y(e,/^[\r\n\t ]+/);r=i&&i[0]}"application/xhtml+xml"===he&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=te?te.createHTML(e):e;if(Xe===Je)try{t=(new q).parseFromString(o,he)}catch(e){}if(!t||!t.documentElement){t=ie.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Ze?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&r&&s.insertBefore(n.createTextNode(r),s.childNodes[0]||null),Xe===Je?ae.call(t,De?"html":"body")[0]:De?t.documentElement:s},gt=function _createIterator(e){return oe.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},At=function _isClobbered(e){return e instanceof W&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof H)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function _isNode(e){return"object"===_typeof(c)?e instanceof c:e&&"object"===_typeof(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},bt=function _executeHook(e,r,n){le[e]&&f(le[e],(function(e){e.call(t,r,n,rt)}))},mt=function _sanitizeElements(e){var r;if(bt("beforeSanitizeElements",e,null),At(e))return ft(e),!0;if(w(/[\u0080-\uFFFF]/,e.nodeName))return ft(e),!0;var n=fe(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:n,allowedTags:Ie}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return ft(e),!0;if("select"===n&&w(/<template/i,e.innerHTML))return ft(e),!0;if(!Ie[n]||Ce[n]){if(!Ce[n]&&Et(n)){if(Be.tagNameCheck instanceof RegExp&&w(Be.tagNameCheck,n))return!1;if(Be.tagNameCheck instanceof Function&&Be.tagNameCheck(n))return!1}if($e&&!Ke[n]){var i=Z(e)||e.parentNode,o=X(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(z(o[s],!0),J(e))}return ft(e),!0}return e instanceof u&&!ht(e)?(ft(e),!0):"noscript"!==n&&"noembed"!==n||!w(/<\/no(script|embed)/i,e.innerHTML)?(Te&&3===e.nodeType&&(r=e.textContent,r=b(r,de," "),r=b(r,pe," "),e.textContent!==r&&(p(t.removed,{element:e.cloneNode()}),e.textContent=r)),bt("afterSanitizeElements",e,null),!1):(ft(e),!0)},It=function _isValidAttribute(e,t,r){if(Oe&&("id"===t||"name"===t)&&(r in n||r in nt))return!1;if(ve&&!Se[t]&&w(ge,t));else if(ke&&w(Ae,t));else if(!we[t]||Se[t]){if(!(Et(e)&&(Be.tagNameCheck instanceof RegExp&&w(Be.tagNameCheck,e)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(e))&&(Be.attributeNameCheck instanceof RegExp&&w(Be.attributeNameCheck,t)||Be.attributeNameCheck instanceof Function&&Be.attributeNameCheck(t))||"is"===t&&Be.allowCustomizedBuiltInElements&&(Be.tagNameCheck instanceof RegExp&&w(Be.tagNameCheck,r)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(r))))return!1}else if(qe[t]);else if(w(me,b(r,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==m(r,"data:")||!He[e])if(xe&&!w(ye,b(r,be,"")));else if(r)return!1;return!0},Et=function _basicCustomElementTest(e){return e.indexOf("-")>0},wt=function _sanitizeAttributes(e){var r,n,i,o;bt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(o=s.length;o--;){var u=r=s[o],l=u.name,h=u.namespaceURI;if(n="value"===l?r.value:I(r.value),i=fe(l),c.attrName=i,c.attrValue=n,c.keepAttr=!0,c.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,c),n=c.attrValue,!c.forceKeepAttr&&(dt(l,e),c.keepAttr))if(w(/\/>/i,n))dt(l,e);else{Te&&(n=b(n,de," "),n=b(n,pe," "));var f=fe(e.nodeName);if(It(f,i,n)){if(!Ne||"id"!==i&&"name"!==i||(dt(l,e),n=Fe+n),te&&"object"===_typeof(G)&&"function"==typeof G.getAttributeType)if(h);else switch(G.getAttributeType(f,i)){case"TrustedHTML":n=te.createHTML(n);break;case"TrustedScriptURL":n=te.createScriptURL(n)}try{h?e.setAttributeNS(h,l,n):e.setAttribute(l,n),d(t.removed)}catch(e){}}}}bt("afterSanitizeAttributes",e,null)}},_t=function _sanitizeShadowDOM(e){var t,r=gt(e);for(bt("beforeSanitizeShadowDOM",e,null);t=r.nextNode();)bt("uponSanitizeShadowNode",t,null),mt(t)||(t.content instanceof i&&_sanitizeShadowDOM(t.content),wt(t));bt("afterSanitizeShadowDOM",e,null)};return t.sanitize=function(n){var o,s,u,l,h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((Ze=!n)&&(n="\x3c!--\x3e"),"string"!=typeof n&&!yt(n)){if("function"!=typeof n.toString)throw _("toString is not a function");if("string"!=typeof(n=n.toString()))throw _("dirty is not a string, aborting")}if(!t.isSupported){if("object"===_typeof(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof n)return e.toStaticHTML(n);if(yt(n))return e.toStaticHTML(n.outerHTML)}return n}if(Qe||ot(f),t.removed=[],"string"==typeof n&&(Pe=!1),Pe){if(n.nodeName){var d=fe(n.nodeName);if(!Ie[d]||Ce[d])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(n instanceof c)1===(s=(o=pt("\x3c!----\x3e")).ownerDocument.importNode(n,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Re&&!Te&&!De&&-1===n.indexOf("<"))return te&&Me?te.createHTML(n):n;if(!(o=pt(n)))return Re?null:Me?re:""}o&&Le&&ft(o.firstChild);for(var p=gt(Pe?n:o);u=p.nextNode();)3===u.nodeType&&u===l||mt(u)||(u.content instanceof i&&_t(u.content),wt(u),l=u);if(l=null,Pe)return n;if(Re){if(Ue)for(h=se.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return we.shadowroot&&(h=ce.call(r,h,!0)),h}var A=De?o.outerHTML:o.innerHTML;return De&&Ie["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&w(Y,o.ownerDocument.doctype.name)&&(A="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+A),Te&&(A=b(A,de," "),A=b(A,pe," ")),te&&Me?te.createHTML(A):A},t.setConfig=function(e){ot(e),Qe=!0},t.clearConfig=function(){rt=null,Qe=!1},t.isValidAttribute=function(e,t,r){rt||ot({});var n=fe(e),i=fe(t);return It(n,i,r)},t.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],p(le[e],t))},t.removeHook=function(e){if(le[e])return d(le[e])},t.removeHooks=function(e){le[e]&&(le[e]=[])},t.removeAllHooks=function(){le={}},t}return createDOMPurify()}();
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */class TonicTemplate{constructor(e,t,r){this.isTonicTemplate=!0,this.unsafe=r,this.rawText=e,this.templateStrings=t}valueOf(){return this.rawText}toString(){return this.rawText}}class Tonic extends window.HTMLElement{constructor(){super();const e=Tonic._states[super.id];delete Tonic._states[super.id],this._state=e||{},this.preventRenderOnReconnect=!1,this.props={},this.elements=[...this.children],this.elements.__children__=!0,this.nodes=[...this.childNodes],this.nodes.__children__=!0,this._events()}static _createId(){return"tonic"+Tonic._index++}static _splitName(e){return e.match(/[A-Z][a-z0-9]*/g).join("-")}static _normalizeAttrs(e,t={}){return[...e].forEach((e=>t[e.name]=e.value)),t}_checkId(){const e=super.id;if(!e){const e=this.outerHTML.replace(this.innerHTML,"...");throw new Error(`Component: ${e} has no id`)}return e}get state(){return this._checkId(),this._state}set state(e){this._state=(this._checkId(),e)}_events(){const e=Object.getOwnPropertyNames(window.HTMLElement.prototype);for(const t of this._props)-1!==e.indexOf("on"+t)&&this.addEventListener(t,this)}_prop(e){const t=this._id,r=`__${t}__${Tonic._createId()}__`;return Tonic._data[t]=Tonic._data[t]||{},Tonic._data[t][r]=e,r}_placehold(e){const t=this._id,r=`placehold:${t}:${Tonic._createId()}__`;return Tonic._children[t]=Tonic._children[t]||{},Tonic._children[t][r]=e,r}static match(e,t){return e.matches||(e=e.parentElement),e.matches(t)?e:e.closest(t)}static getPropertyNames(e){const t=[];for(;e&&e!==Tonic.prototype;)t.push(...Object.getOwnPropertyNames(e)),e=Object.getPrototypeOf(e);return t}static add(e,t){if(!(t||e.name&&e.name.length>1))throw Error("Mangling. https://bit.ly/2TkJ6zP");if(t||(t=Tonic._splitName(e.name).toLowerCase()),!Tonic.ssr&&window.customElements.get(t))throw new Error(`Cannot Tonic.add(${e.name}, '${t}') twice`);if(!e.prototype||!e.prototype.isTonicComponent){const t={[e.name]:class extends Tonic{}}[e.name];t.prototype.render=e,e=t}return e.prototype._props=Tonic.getPropertyNames(e.prototype),Tonic._reg[t]=e,Tonic._tags=Object.keys(Tonic._reg).join(),window.customElements.define(t,e),"function"==typeof e.stylesheet&&Tonic.registerStyles(e.stylesheet),e}static registerStyles(e){if(Tonic._stylesheetRegistry.includes(e))return;Tonic._stylesheetRegistry.push(e);const t=document.createElement("style");Tonic.nonce&&t.setAttribute("nonce",Tonic.nonce),t.appendChild(document.createTextNode(e())),document.head&&document.head.appendChild(t)}static escape(e){return e.replace(Tonic.ESC,(e=>Tonic.MAP[e]))}static unsafeRawString(e,t){return new TonicTemplate(e,t,!0)}dispatch(e,t=null){const r={bubbles:!0,detail:t};this.dispatchEvent(new window.CustomEvent(e,r))}html(e,...t){const refs=e=>{if(e&&e.__children__)return this._placehold(e);if(e&&e.isTonicTemplate)return e.rawText;switch(Object.prototype.toString.call(e)){case"[object HTMLCollection]":case"[object NodeList]":return this._placehold([...e]);case"[object Array]":return e.every((e=>e.isTonicTemplate&&!e.unsafe))?new TonicTemplate(e.join("\n"),null,!1):this._prop(e);case"[object Object]":case"[object Function]":return this._prop(e);case"[object NamedNodeMap]":return this._prop(Tonic._normalizeAttrs(e));case"[object Number]":return`${e}__float`;case"[object String]":return Tonic.escape(e);case"[object Boolean]":return`${e}__boolean`;case"[object Null]":return`${e}__null`;case"[object HTMLElement]":return this._placehold([e])}return"object"==typeof e&&e&&1===e.nodeType&&"function"==typeof e.cloneNode?this._placehold([e]):e},r=[];for(let n=0;n<e.length-1;n++)r.push(e[n],refs(t[n]));r.push(e[e.length-1]);const n=r.join("").replace(Tonic.SPREAD,((e,t)=>{const r=Tonic._data[t.split("__")[1]][t];return Object.entries(r).map((([e,t])=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return!0===t?r:t?`${r}="${Tonic.escape(String(t))}"`:""})).filter(Boolean).join(" ")}));return new TonicTemplate(n,e,!1)}scheduleReRender(e){return this.pendingReRender||(this.pendingReRender=new Promise((t=>setTimeout((()=>{if(!this.isInDocument(this.shadowRoot||this))return;const r=this._set(this.shadowRoot||this,this.render);if(this.pendingReRender=null,r&&r.then)return r.then((()=>{this.updated&&this.updated(e),t()}));this.updated&&this.updated(e),t()}),0)))),this.pendingReRender}reRender(e=this.props){const t={...this.props};return this.props="function"==typeof e?e(t):e,this.scheduleReRender(t)}handleEvent(e){this[e.type](e)}_drainIterator(e,t){return t.next().then((r=>{if(this._set(e,null,r.value),!r.done)return this._drainIterator(e,t)}))}_set(e,t,r=""){this.willRender&&this.willRender();for(const t of e.querySelectorAll(Tonic._tags)){if(!t.isTonicComponent)continue;const e=t.getAttribute("id");e&&Tonic._refIds.includes(e)&&(Tonic._states[e]=t.state)}return t instanceof Tonic.AsyncFunction?t.call(this,this.html,this.props).then((t=>this._apply(e,t))):t instanceof Tonic.AsyncFunctionGenerator?this._drainIterator(e,t.call(this)):void(null===t?this._apply(e,r):t instanceof Function&&this._apply(e,t.call(this,this.html,this.props)||""))}_apply(e,t){if(t&&t.isTonicTemplate?t=t.rawText:"string"==typeof t&&(t=Tonic.escape(t)),"string"==typeof t){if(this.stylesheet&&(t=`<style nonce=${Tonic.nonce||""}>${this.stylesheet()}</style>${t}`),e.innerHTML=t,this.styles){const t=this.styles();for(const r of e.querySelectorAll("[styles]"))for(const e of r.getAttribute("styles").split(/\s+/))Object.assign(r.style,t[e.trim()])}const r=Tonic._children[this._id]||{},walk=(e,t)=>{if(3===e.nodeType){const n=e.textContent.trim();r[n]&&t(e,r[n],n)}const n=e.childNodes;if(n)for(let e=0;e<n.length;e++)walk(n[e],t)};walk(e,((e,t,r)=>{for(const r of t)e.parentNode.insertBefore(r,e);delete Tonic._children[this._id][r],e.parentNode.removeChild(e)}))}else e.innerHTML="",e.appendChild(t.cloneNode(!0))}connectedCallback(){this.root=this.shadowRoot||this,super.id&&!Tonic._refIds.includes(super.id)&&Tonic._refIds.push(super.id);for(const{name:e,value:t}of this.attributes){const r=e.replace(/-(.)/g,((e,t)=>t.toUpperCase())),n=this.props[r]=t;if(/__\w+__\w+__/.test(n)){const{1:e}=n.split("__");this.props[r]=Tonic._data[e][n]}else if(/\d+__float/.test(n))this.props[r]=parseFloat(n,10);else if("null__null"===n)this.props[r]=null;else if(/\w+__boolean/.test(n))this.props[r]=n.includes("true");else if(/placehold:\w+:\w+__/.test(n)){const{1:e}=n.split(":");this.props[r]=Tonic._children[e][n][0]}}if(this.props=Object.assign(this.defaults?this.defaults():{},this.props),this._id=this._id||Tonic._createId(),this.willConnect&&this.willConnect(),this.isInDocument(this.root)){if(!this.preventRenderOnReconnect){this._source?this.innerHTML=this._source:this._source=this.innerHTML;const e=this._set(this.root,this.render);if(e&&e.then)return e.then((()=>this.connected&&this.connected()))}this.connected&&this.connected()}}isInDocument(e){const t=e.getRootNode();return t===document||"[object ShadowRoot]"===t.toString()}disconnectedCallback(){this.disconnected&&this.disconnected(),delete Tonic._data[this._id],delete Tonic._children[this._id]}}Tonic.prototype.isTonicComponent=!0,Object.assign(Tonic,{_tags:"",_refIds:[],_data:{},_states:{},_children:{},_reg:{},_stylesheetRegistry:[],_index:0,version:"undefined"!=typeof require?require("./package").version:null,SPREAD:/\.\.\.\s?(__\w+__\w+__)/g,ESC:/["&'<>`/]/g,AsyncFunctionGenerator:async function*(){}.constructor,AsyncFunction:async function(){}.constructor,MAP:{'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;","/":"&#x2F;"}});var Q={exports:{}};!function(e){const t=Symbol.for("piconeuro:Error");e.exports={ERROR:t,get:function get(e){let t=null;return e((e=>{t=e}))(),t},next:async function next(e,t=1,r=!1){let n=null;r&&(e=nfo(e,r));for await(const r of iter(e,t+1))n=r;return n},until:async function until(e,t,r=-1){let n,i;const o=new Promise(((e,t)=>{n=e,i=t}));let s=null;r>0&&(s=setTimeout((()=>{i(new Error("until($n) timed out"))}),r));const c=e((e=>{t(e)&&(s&&clearTimeout(s),n(e))}));return o.finally(c),o},write:writable,writable:writable,notEqual:notEqual,notEqualDeep:notEqualDeep,memo:function memo(e){let t;const r=new Set;let n=null;return function NeuronMemory(i){return r.add(i),n?i(t):n=e(spreadForward),()=>{r.delete(i),r.size||(n&&n(),n=null)}};function spreadForward(e){t=e;for(const t of r)t(e)}},mute:function mute(e,r){if("function"!=typeof r)throw new Error("expected a mutation function");return function Mutate(n){let i=Promise.resolve(0);return e((e=>{const o=r(e);o&&"function"==typeof o.then&&"function"==typeof o.catch?i=i.then((()=>o.then(n).catch((e=>{console.error("n:mute() failed: ",e),n(t,e)})))):n(o)}))}},init:function init(e,t){return function InitialValue(r){let n=!1,i=function noop(){},o=!1;return"function"==typeof t&&(i=t((e=>{o=!0,n||r(e)}))),o||r(clone(e)),()=>{n=!0,i()}}},when:function when(e){if(!e||"function"!=typeof e.then)throw new Error("Expected a Promise");return function WhenResolved(r){return e.then(r).catch((e=>{console.error("n:when() failed: ",e),r(t,e)})),function NOOPunsub(){}}},combine:function combine(...e){if(!Array.isArray(e)||!e.length)throw new Error("A list of neurons is required");const t=[];if(1===e.length&&"function"!=typeof e[0]){const r=e[0];e=[];for(const n in r)e.push(r[n]),t.push(n)}return function NeuronCombine(r){if("function"!=typeof r)throw new Error("Derivation function required");const n=[],i=[];let o=e.length;const s=[];for(let t=0;t<e.length;t++)s.push(e[t](handler.bind(null,t)));return()=>{for(const e of s)e()};function handler(e,s){n[e]||(n[e]=!0,o--),i[e]=s,o||(t.length?r(i.reduce(((e,r,n)=>(e[t[n]]=r,e)),{})):r(i))}}},isSync:async function isSync(e,t=100){let r=!1,n=!1,set=()=>{r=!0};e((()=>set()))();let i=null;const o=new Promise((e=>{i=e}));set=()=>{n=!0,i()};let s=setTimeout((()=>{s=null,i()}),t);if(await o,s)clearTimeout(s);else if(!r&&!n)throw new Error("Neuron did not fire during grace period");return r&&!n},_isSync:function _isSync(e){let t=!1,set=()=>{t=!0};return e((()=>set()))(),set=()=>{throw new Error("NeuronNotSync, subscription invoked after unsubscribe()")},t},gate:function gate(e,t=!1){const r="function"==typeof t?t:t?notEqual:notEqualDeep;return function NoiseGate(t){let n,i=!0;return e((e=>{const o=r(e,n);(i||o)&&(i=!1,n=clone(e),t(e))}))}},settle:function settle(e,t=10,r=!1){return function DebouncedSignal(n){let i,o,s=!0;const c=e((e=>{i=e,r&&s&&(s=!1,n(i)),o&&clearTimeout(o),o=setTimeout((()=>{o=null,n(i)}),t)}));return()=>{c&&c(),o&&clearTimeout(o)}}},iter:iter,nfo:nfo};let r=0;function nfo(t,n){if(!e.exports.V)return t;const i=r++;n||(n=`NFO${pn(i)}`);const o=console.info.bind(null,n);let s=0;return e=>{let r=0;const n=o.bind(null,`SYN${pn(s++)}`);n(`>>${pn(r)}>> connected`);const i=t((t=>{n(`!!${pn(r++)}!! `,t),e(t)}));return()=>{i(),n(`<<${pn(r)}<< disconnected`)}};function pn(e,t=2){return(e+"").padStart(t,"0")}}function clone(e){return Array.isArray(e)?[...e]:"object"==typeof e&&null!==e?{...e}:e}function notEqual(e,t){return Array.isArray(e)&&Array.isArray(t)?t.length!==e.length||!!e.find(((e,r)=>t[r]!==e)):e instanceof Date||t instanceof Date?(e instanceof Date&&e.getTime())!==(t instanceof Date&&t.getTime()):"object"==typeof e&&"object"==typeof t&&null!==e&&null!==t?(r=Object.keys(e),n=Object.keys(t).length,!(r.length===n&&!r.find((r=>e[r]!==t[r])))):e!==t;var r,n}function notEqualDeep(e,t){return Array.isArray(e)&&Array.isArray(t)?t.length!==e.length||!!e.find(((e,r)=>notEqualDeep(t[r],e))):"object"==typeof e&&"object"==typeof t&&null!==e&&null!==t?(r=Object.keys(e),n=Object.keys(t).length,!(r.length===n&&!r.find((r=>notEqualDeep(e[r],t[r]))))):e!==t;var r,n}function writable(e){const t=new Set;return[function WritableSubscribe(r){return t.add(r),r(e),()=>{t.delete(r)}},function WritableSet(r){if(notEqual(e,r)){e=r;for(const e of t)e(r)}return r}]}async function*iter(e,t=5){const r=[],n=[];oneMore();let i=0;const o=e((e=>{(-1===t||++i<t)&&oneMore();const n=r.shift();n&&n(e)}));for(;n.length;){const e=n.shift(),t=await e;yield t}function oneMore(){let e=null;const t=new Promise((t=>{e=t}));r.push(e),n.push(t)}o()}e.exports.V=1}(Q);var L="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},R=[],U=[],M="undefined"!=typeof Uint8Array?Uint8Array:Array,O=!1;function init(){O=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)R[t]=e[t],U[e.charCodeAt(t)]=t;U["-".charCodeAt(0)]=62,U["_".charCodeAt(0)]=63}function encodeChunk(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(R[(i=n)>>18&63]+R[i>>12&63]+R[i>>6&63]+R[63&i]);return o.join("")}function fromByteArray(e){var t;O||init();for(var r=e.length,n=r%3,i="",o=[],s=16383,c=0,u=r-n;c<u;c+=s)o.push(encodeChunk(e,c,c+s>u?u:c+s));return 1===n?(t=e[r-1],i+=R[t>>2],i+=R[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=R[t>>10],i+=R[t>>4&63],i+=R[t<<2&63],i+="="),o.push(i),o.join("")}function read$1(e,t,r,n,i){var o,s,c=8*i-n-1,u=(1<<c)-1,l=u>>1,h=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-h)-1,p>>=-h,h+=c;h>0;o=256*o+e[t+f],f+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+f],f+=d,h-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=l}return(p?-1:1)*s*Math.pow(2,o-n)}function write$7(e,t,r,n,i,o){var s,c,u,l=8*o-i-1,h=(1<<l)-1,f=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,A=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=h?(c=0,s=h):s+f>=1?(c=(t*u-1)*Math.pow(2,i),s+=f):(c=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&c,p+=A,c/=256,i-=8);for(s=s<<i|c,l+=i;l>0;e[r+p]=255&s,p+=A,s/=256,l-=8);e[r+p-A]|=128*y}var N={}.toString,F=Array.isArray||function(e){return"[object Array]"==N.call(e)};function kMaxLength(){return Buffer$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer$2.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer$2.prototype:(null===e&&(e=new Buffer$2(t)),e.length=t),e}function Buffer$2(e,t,r){if(!(Buffer$2.TYPED_ARRAY_SUPPORT||this instanceof Buffer$2))return new Buffer$2(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe$1(this,e)}return from$2(this,e,t,r)}function from$2(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer$1(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Buffer$2.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer$2.prototype:e=fromArrayLike(e,t);return e}(e,t,r,n):"string"==typeof t?function fromString$1(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer$2.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength$6(t,r),i=(e=createBuffer(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function fromObject(e,t){if(internalIsBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&F(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe$1(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer$2.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function internalIsBuffer(e){return!(null==e||!e._isBuffer)}function byteLength$6(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice$1(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap$1(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf$1(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer$2.from(t,n)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer$2.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var o,s=1,c=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,c/=2,u/=2,r/=2}function read(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<c;o++)if(read(e,o)===read(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>c&&(r=c-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(read(e,o+f)!==read(t,f)){h=!1;break}if(h)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var c=parseInt(t.substr(2*s,2),16);if(isNaN(c))return s;e[r+s]=c}return s}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function utf16leToBytes(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?fromByteArray(e):fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,c,u,l=e[i],h=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(h=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(h=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=e[i+1],s=e[i+2],c=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&c)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&c)>65535&&u<1114112&&(h=u)}null===h?(h=65533,f=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=f}return function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}Buffer$2.TYPED_ARRAY_SUPPORT=void 0===L.TYPED_ARRAY_SUPPORT||L.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer$2.poolSize=8192,Buffer$2._augment=function(e){return e.__proto__=Buffer$2.prototype,e},Buffer$2.from=function(e,t,r){return from$2(null,e,t,r)},Buffer$2.TYPED_ARRAY_SUPPORT&&(Buffer$2.prototype.__proto__=Uint8Array.prototype,Buffer$2.__proto__=Uint8Array),Buffer$2.alloc=function(e,t,r){return function alloc$1(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer$2.allocUnsafe=function(e){return allocUnsafe$1(null,e)},Buffer$2.allocUnsafeSlow=function(e){return allocUnsafe$1(null,e)},Buffer$2.isBuffer=function isBuffer$1(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}(e))},Buffer$2.compare=function compare(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer$2.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer$2.concat=function concat(e,t){if(!F(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer$2.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer$2.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!internalIsBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer$2.byteLength=byteLength$6,Buffer$2.prototype._isBuffer=!0,Buffer$2.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap$1(this,t,t+1);return this},Buffer$2.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap$1(this,t,t+3),swap$1(this,t+1,t+2);return this},Buffer$2.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap$1(this,t,t+7),swap$1(this,t+1,t+6),swap$1(this,t+2,t+5),swap$1(this,t+3,t+4);return this},Buffer$2.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer$2.prototype.equals=function equals(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$2.compare(this,e)},Buffer$2.prototype.inspect=function inspect(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Buffer$2.prototype.compare=function compare(e,t,r,n,i){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),c=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r),h=0;h<c;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},Buffer$2.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer$2.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf$1(this,e,t,r,!0)},Buffer$2.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf$1(this,e,t,r,!1)},Buffer$2.prototype.write=function write(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer$2.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice$1(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=toHex$1(e[o]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,o){if(!internalIsBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return i||checkIEEE754(e,0,r,4),write$7(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return i||checkIEEE754(e,0,r,8),write$7(e,t,r,n,52,8),r+8}Buffer$2.prototype.slice=function slice(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer$2.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer$2.prototype;else{var i=t-e;r=new Buffer$2(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},Buffer$2.prototype.readUIntLE=function readUIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},Buffer$2.prototype.readUIntBE=function readUIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer$2.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer$2.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$2.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$2.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$2.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$2.prototype.readIntLE=function readIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer$2.prototype.readIntBE=function readIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer$2.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$2.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer$2.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer$2.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$2.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$2.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),read$1(this,e,!0,23,4)},Buffer$2.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),read$1(this,e,!1,23,4)},Buffer$2.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),read$1(this,e,!0,52,8)},Buffer$2.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),read$1(this,e,!1,52,8)},Buffer$2.prototype.writeUIntLE=function writeUIntLE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},Buffer$2.prototype.writeUIntBE=function writeUIntBE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},Buffer$2.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer$2.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer$2.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$2.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$2.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer$2.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$2.prototype.writeIntLE=function writeIntLE(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=0,s=1,c=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===c&&0!==this[t+o-1]&&(c=1),this[t+o]=(e/s>>0)-c&255;return t+r},Buffer$2.prototype.writeIntBE=function writeIntBE(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var o=r-1,s=1,c=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===c&&0!==this[t+o+1]&&(c=1),this[t+o]=(e/s>>0)-c&255;return t+r},Buffer$2.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer$2.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer$2.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$2.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$2.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer$2.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer$2.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$2.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer$2.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer$2.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer$2.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer$2.prototype.copy=function copy(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!Buffer$2.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer$2.prototype.fill=function fill(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer$2.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=internalIsBuffer(e)?e:utf8ToBytes(new Buffer$2(e,n).toString()),c=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%c]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function toHex$1(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(e){return function toByteArray(e){var t,r,n,i,o,s;O||init();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[c-2]?2:"="===e[c-1]?1:0,s=new M(3*c/4-o),n=o>0?c-4:c;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=U[e.charCodeAt(t)]<<18|U[e.charCodeAt(t+1)]<<12|U[e.charCodeAt(t+2)]<<6|U[e.charCodeAt(t+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=U[e.charCodeAt(t)]<<2|U[e.charCodeAt(t+1)]>>4,s[u++]=255&i):1===o&&(i=U[e.charCodeAt(t)]<<10|U[e.charCodeAt(t+1)]<<4|U[e.charCodeAt(t+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var P={exports:{}},Y={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var K,j={exports:{}},H=function assert$l(e,t){if(!e){var r=new AssertionError(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,assert$l),r}};class AssertionError extends Error{}function sodium_memzero(e){e.fill(0)}AssertionError.prototype.name="AssertionError",function(e){var t,r=H,n=(t=globalThis.crypto||globalThis.msCrypto)&&t.getRandomValues?function browserBytes(e,r){for(let n=0;n<r;n+=65536)t.getRandomValues(new Uint8Array(e.buffer,n+e.byteOffset,Math.min(r-n,65536)))}:null!=commonjsRequire&&(t=commonjsRequire("crypto"))&&t.randomBytes?function nodeBytes(e,r){new Uint8Array(e.buffer,e.byteOffset,r).set(t.randomBytes(r))}:function noImpl(){throw new Error("No secure random number generator available")};Object.defineProperty(e.exports,"randombytes",{value:n}),e.exports.randombytes_buf=function(e){r(e,"out must be given"),n(e,e.byteLength)}}(j);var W={sodium_malloc:function sodium_malloc(e){return new Uint8Array(e)},sodium_free:function sodium_free(e){sodium_memzero(e),function loadSink(){if(K)return K;var e=globalThis.MessageChannel;null==e&&({MessageChannel:e}=commonjsRequire("worker_threads"));return K=new e}().port1.postMessage(e.buffer,[e.buffer])},sodium_memzero:sodium_memzero},q={exports:{}};!function(e){function vn(e,t,r,n,i){var o=0;for(let s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}e.exports={crypto_verify_16:function crypto_verify_16(e,t,r,n){return 0===vn(e,t,r,n,16)},crypto_verify_32:function crypto_verify_32(e,t,r,n){return 0===vn(e,t,r,n,32)},crypto_verify_64:function crypto_verify_64(e,t,r,n){return 0===vn(e,t,r,n,64)}},Object.defineProperty(e.exports,"vn",{value:vn})}(q);const G=H,{vn:V}=q.exports;var z={sodium_increment:function sodium_increment$1(e){const t=e.byteLength;for(var r=1,n=0;n<t;n++)r+=e[n],e[n]=r,r>>=8},sodium_memcmp:function sodium_memcmp$1(e,t){return G(e.byteLength===t.byteLength,"buffers must be the same size"),0===V(e,0,t,0,e.byteLength)},sodium_is_zero:function sodium_is_zero$1(e){var t=0;for(let r=0;r<e.length;r++)t|=e[r];return 0===t}},J={exports:{}};function byteLength$5(e){return e.length}var X={byteLength:byteLength$5,toString:function toString$5(e){const t=e.byteLength;let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r},write:function write$6(e,t,r=0,n=byteLength$5(t)){const i=Math.min(n,e.byteLength-r);for(let n=0;n<i;n++)e[r+n]=t.charCodeAt(n);return i}};const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=new Uint8Array(256);for(let e=0;e<Z.length;e++)ee[Z.charCodeAt(e)]=e;function byteLength$4(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}ee[45]=62,ee[95]=63;var te={byteLength:byteLength$4,toString:function toString$4(e){const t=e.byteLength;let r="";for(let n=0;n<t;n+=3)r+=Z[e[n]>>2]+Z[(3&e[n])<<4|e[n+1]>>4]+Z[(15&e[n+1])<<2|e[n+2]>>6]+Z[63&e[n+2]];return t%3==2?r=r.substring(0,r.length-1)+"=":t%3==1&&(r=r.substring(0,r.length-2)+"=="),r},write:function write$5(e,t,r=0,n=byteLength$4(t)){const i=Math.min(n,e.byteLength-r);for(let r=0,n=0;r<i;r+=4){const i=ee[t.charCodeAt(r)],o=ee[t.charCodeAt(r+1)],s=ee[t.charCodeAt(r+2)],c=ee[t.charCodeAt(r+3)];e[n++]=i<<2|o>>4,e[n++]=(15&o)<<4|s>>2,e[n++]=(3&s)<<6|63&c}return i}};function byteLength$3(e){return e.length>>>1}var re={byteLength:byteLength$3,toString:function toString$3(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(let i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r},write:function write$4(e,t,r=0,n=byteLength$3(t)){const i=Math.min(n,e.byteLength-r);for(let n=0;n<i;n++){const i=hexValue(t.charCodeAt(2*n)),o=hexValue(t.charCodeAt(2*n+1));if(void 0===i||void 0===o)return e.subarray(0,n);e[r+n]=i<<4|o}return i}};function hexValue(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}function byteLength$2(e){let t=0;for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const n=e.charCodeAt(r+1);if(n>=56320&&n<=57343){t+=4,r++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let ne,ie;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;ne=function toString(t){return e.decode(t)}}else ne=function toString(e){const t=e.byteLength;let r="",n=0;for(;n<t;){let i=e[n];if(i<=127){r+=String.fromCharCode(i),n++;continue}let o=0,s=0;if(i<=223?(o=1,s=31&i):i<=239?(o=2,s=15&i):i<=244&&(o=3,s=7&i),t-n-o>0){let t=0;for(;t<o;)i=e[n+t+1],s=s<<6|63&i,t+=1}else s=65533,o=t-n;r+=String.fromCodePoint(s),n+=o+1}return r};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;ie=function write(t,r,n=0,i=byteLength$2(r)){const o=Math.min(i,t.byteLength-n);return e.encodeInto(r,t.subarray(n,n+o)),o}}else ie=function write(e,t,r=0,n=byteLength$2(t)){const i=Math.min(n,e.byteLength-r);e=e.subarray(r,r+i);let o=0,s=0;for(;o<t.length;){const r=t.codePointAt(o);if(r<=127){e[s++]=r,o++;continue}let n=0,i=0;for(r<=2047?(n=6,i=192):r<=65535?(n=12,i=224):r<=2097151&&(n=18,i=240),e[s++]=i|r>>n,n-=6;n>=0;)e[s++]=128|r>>n&63,n-=6;o+=r>=65536?2:1}return i};function byteLength$1(e){return 2*e.length}var oe={byteLength:byteLength$1,toString:function toString$1(e){const t=e.byteLength;let r="";for(let n=0;n<t-1;n+=2)r+=String.fromCharCode(e[n]+256*e[n+1]);return r},write:function write$2(e,t,r=0,n=byteLength$1(t)){const i=Math.min(n,e.byteLength-r);let o=i;for(let n=0;n<t.length&&!((o-=2)<0);++n){const i=t.charCodeAt(n),o=i>>8,s=i%256;e[r+2*n]=s,e[r+2*n+1]=o}return i}};const se=X,ae=te,ce=re,ue={byteLength:byteLength$2,toString:ne,write:ie},le=oe,he=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function codecFor(e){switch(e){case"ascii":return se;case"base64":return ae;case"hex":return ce;case"utf8":case"utf-8":case void 0:return ue;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le;default:throw new Error(`Unknown encoding: ${e}`)}}function isBuffer(e){return e instanceof Uint8Array}function from$1(e,t,r){return"string"==typeof e?function fromString(e,t){const r=codecFor(t),n=new Uint8Array(r.byteLength(e));return r.write(n,e,0,n.byteLength),n}(e,t):Array.isArray(e)?function fromArray(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function fromBuffer(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function fromArrayBuffer(e,t,r){return new Uint8Array(e,t,r)}(e,t,r)}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.byteLength)return-1;if("string"==typeof r?(n=r,r=0):void 0===r?r=i?0:e.length-1:r<0&&(r+=e.byteLength),r>=e.byteLength){if(i)return-1;r=e.byteLength-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t)t=from$1(t,n);else if("number"==typeof t)return t&=255,i?e.indexOf(t,r):e.lastIndexOf(t,r);if(0===t.byteLength)return-1;if(i){let n=-1;for(let i=r;i<e.byteLength;i++)if(e[i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.byteLength)return n}else-1!==n&&(i-=i-n),n=-1}else{r+t.byteLength>e.byteLength&&(r=e.byteLength-t.byteLength);for(let n=r;n>=0;n--){let r=!0;for(let i=0;i<t.byteLength;i++)if(e[n+i]!==t[i]){r=!1;break}if(r)return n}}return-1}function indexOf(e,t,r,n){return bidirectionalIndexOf(e,t,r,n,!0)}function swap(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}var fe={isBuffer:isBuffer,isEncoding:function isEncoding(e){try{return codecFor(e),!0}catch{return!1}},alloc:function alloc(e,t,r){const n=new Uint8Array(e);return void 0!==t&&t(n,t,0,n.byteLength,r),n},allocUnsafe:function allocUnsafe(e){return new Uint8Array(e)},allocUnsafeSlow:function allocUnsafeSlow(e){return new Uint8Array(e)},byteLength:function byteLength(e,t){return codecFor(t).byteLength(e)},compare:function compare(e,t){if(e===t)return 0;const r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4){if(e.getUint32(n,he)!==t.getUint32(n,he))break}for(;n<r;n++){const r=e.getUint8(n),i=t.getUint8(n);if(r<i)return-1;if(r>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function concat(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const r=new Uint8Array(t);return e.reduce(((e,t)=>(r.set(t,e),e+t.byteLength)),0),r},copy:function copy(e,t,r=0,n=0,i=e.byteLength){if(i>0&&i<n)return 0;if(i===n)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-r<i-n&&(i=t.length-r+n);const o=i-n;return e===t?t.copyWithin(r,n,i):t.set(e.subarray(n,i),r),o},equals:function equals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4)if(e.getUint32(n,he)!==t.getUint32(n,he))return!1;for(;n<r;n++)if(e.getUint8(n)!==t.getUint8(n))return!1;return!0},fill:function fill(e,t,r,n,i){if("string"==typeof t?"string"==typeof r?(i=r,r=0,n=e.byteLength):"string"==typeof n&&(i=n,n=e.byteLength):"number"==typeof val?t&=255:"boolean"==typeof val&&(t=+t),r<0||e.byteLength<r||e.byteLength<n)throw new RangeError("Out of range index");if(void 0===r&&(r=0),void 0===n&&(n=e.byteLength),n<=r)return e;if(t||(t=0),"number"==typeof t)for(let i=r;i<n;++i)e[i]=t;else{const o=(t=isBuffer(t)?t:from$1(t,i)).byteLength;for(let i=0;i<n-r;++i)e[i+r]=t[i%o]}return e},from:from$1,includes:function includes(e,t,r,n){return-1!==indexOf(e,t,r,n)},indexOf:indexOf,lastIndexOf:function lastIndexOf(e,t,r,n){return bidirectionalIndexOf(e,t,r,n,!1)},swap16:function swap16(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)swap(e,r,r+1);return e},swap32:function swap32(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)swap(e,r,r+3),swap(e,r+1,r+2);return e},swap64:function swap64(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)swap(e,r,r+7),swap(e,r+1,r+6),swap(e,r+2,r+5),swap(e,r+3,r+4);return e},toBuffer:function toBuffer(e){return e},toString:function toString(e,t,r=0,n=e.byteLength){const i=e.byteLength;return r>=i||n<=r?"":(r<0&&(r=0),n>i&&(n=i),(0!==r||n<i)&&(e=e.subarray(r,n)),codecFor(t).toString(e))},write:function write$1(e,t,r,n,i){return void 0===r?i="utf8":void 0===n&&"string"==typeof r?(i=r,r=void 0):void 0===i&&"string"==typeof n&&(i=n,n=void 0),codecFor(i).write(e,t,r,n)},writeDoubleLE:function writeDoubleLE(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),r+8},writeFloatLE:function writeFloatLE(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),r+4},writeUInt32LE:function writeUInt32LE(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(r,t,!0),r+4},writeInt32LE:function writeInt32LE(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(r,t,!0),r+4},readDoubleLE:function readDoubleLE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function readFloatLE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function readUInt32LE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function readInt32LE(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}};const de=H,pe=fe;var ge=Sha512$2;var Ae=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sha512$2(){return this instanceof Sha512$2?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new Sha512$2}function ts64(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function compress$2(e,t,r,n){for(var i,o,s,c,u,l,h,f,d,p,A,y,b,m,I,w,_,B,C,S,k,v,x,T,D,Q,L=new Int32Array(16),R=new Int32Array(16),U=e[0],M=e[1],O=e[2],N=e[3],F=e[4],$=e[5],P=e[6],Y=e[7],K=t[0],j=t[1],H=t[2],W=t[3],q=t[4],G=t[5],V=t[6],z=t[7],J=0;n>=128;){for(C=0;C<16;C++)S=8*C+J,L[C]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],R[C]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(C=0;C<80;C++)if(i=U,o=M,s=O,c=N,u=F,l=$,h=P,Y,d=K,p=j,A=H,y=W,b=q,m=G,I=V,z,x=65535&(v=z),T=v>>>16,D=65535&(k=Y),Q=k>>>16,x+=65535&(v=(q>>>14|F<<18)^(q>>>18|F<<14)^(F>>>9|q<<23)),T+=v>>>16,D+=65535&(k=(F>>>14|q<<18)^(F>>>18|q<<14)^(q>>>9|F<<23)),Q+=k>>>16,x+=65535&(v=q&G^~q&V),T+=v>>>16,D+=65535&(k=F&$^~F&P),Q+=k>>>16,x+=65535&(v=Ae[2*C+1]),T+=v>>>16,D+=65535&(k=Ae[2*C]),Q+=k>>>16,k=L[C%16],T+=(v=R[C%16])>>>16,D+=65535&k,Q+=k>>>16,D+=(T+=(x+=65535&v)>>>16)>>>16,x=65535&(v=B=65535&x|T<<16),T=v>>>16,D=65535&(k=_=65535&D|(Q+=D>>>16)<<16),Q=k>>>16,x+=65535&(v=(K>>>28|U<<4)^(U>>>2|K<<30)^(U>>>7|K<<25)),T+=v>>>16,D+=65535&(k=(U>>>28|K<<4)^(K>>>2|U<<30)^(K>>>7|U<<25)),Q+=k>>>16,T+=(v=K&j^K&H^j&H)>>>16,D+=65535&(k=U&M^U&O^M&O),Q+=k>>>16,f=65535&(D+=(T+=(x+=65535&v)>>>16)>>>16)|(Q+=D>>>16)<<16,w=65535&x|T<<16,x=65535&(v=y),T=v>>>16,D=65535&(k=c),Q=k>>>16,T+=(v=B)>>>16,D+=65535&(k=_),Q+=k>>>16,M=i,O=o,N=s,F=c=65535&(D+=(T+=(x+=65535&v)>>>16)>>>16)|(Q+=D>>>16)<<16,$=u,P=l,Y=h,U=f,j=d,H=p,W=A,q=y=65535&x|T<<16,G=b,V=m,z=I,K=w,C%16==15)for(S=0;S<16;S++)k=L[S],x=65535&(v=R[S]),T=v>>>16,D=65535&k,Q=k>>>16,k=L[(S+9)%16],x+=65535&(v=R[(S+9)%16]),T+=v>>>16,D+=65535&k,Q+=k>>>16,_=L[(S+1)%16],x+=65535&(v=((B=R[(S+1)%16])>>>1|_<<31)^(B>>>8|_<<24)^(B>>>7|_<<25)),T+=v>>>16,D+=65535&(k=(_>>>1|B<<31)^(_>>>8|B<<24)^_>>>7),Q+=k>>>16,_=L[(S+14)%16],T+=(v=((B=R[(S+14)%16])>>>19|_<<13)^(_>>>29|B<<3)^(B>>>6|_<<26))>>>16,D+=65535&(k=(_>>>19|B<<13)^(B>>>29|_<<3)^_>>>6),Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,L[S]=65535&D|Q<<16,R[S]=65535&x|T<<16;x=65535&(v=K),T=v>>>16,D=65535&(k=U),Q=k>>>16,k=e[0],T+=(v=t[0])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[0]=U=65535&D|Q<<16,t[0]=K=65535&x|T<<16,x=65535&(v=j),T=v>>>16,D=65535&(k=M),Q=k>>>16,k=e[1],T+=(v=t[1])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[1]=M=65535&D|Q<<16,t[1]=j=65535&x|T<<16,x=65535&(v=H),T=v>>>16,D=65535&(k=O),Q=k>>>16,k=e[2],T+=(v=t[2])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[2]=O=65535&D|Q<<16,t[2]=H=65535&x|T<<16,x=65535&(v=W),T=v>>>16,D=65535&(k=N),Q=k>>>16,k=e[3],T+=(v=t[3])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[3]=N=65535&D|Q<<16,t[3]=W=65535&x|T<<16,x=65535&(v=q),T=v>>>16,D=65535&(k=F),Q=k>>>16,k=e[4],T+=(v=t[4])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[4]=F=65535&D|Q<<16,t[4]=q=65535&x|T<<16,x=65535&(v=G),T=v>>>16,D=65535&(k=$),Q=k>>>16,k=e[5],T+=(v=t[5])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[5]=$=65535&D|Q<<16,t[5]=G=65535&x|T<<16,x=65535&(v=V),T=v>>>16,D=65535&(k=P),Q=k>>>16,k=e[6],T+=(v=t[6])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[6]=P=65535&D|Q<<16,t[6]=V=65535&x|T<<16,x=65535&(v=z),T=v>>>16,D=65535&(k=Y),Q=k>>>16,k=e[7],T+=(v=t[7])>>>16,D+=65535&k,Q+=k>>>16,Q+=(D+=(T+=(x+=65535&v)>>>16)>>>16)>>>16,e[7]=Y=65535&D|Q<<16,t[7]=z=65535&x|T<<16,J+=128,n-=128}}function HMAC$3(e){if(!(this instanceof HMAC$3))return new HMAC$3(e);this.pad=pe.alloc(128),this.inner=Sha512$2(),this.outer=Sha512$2();const t=pe.alloc(64);e.byteLength>128&&(Sha512$2().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}Sha512$2.prototype.update=function(e,t){de(!1===this.finalised,"Hash instance finalised");var[r,n]=function formatInput$3(e,t){var r=pe.from(e,t);return[r,r.byteLength]}(e,t);this.bytesRead+=n;const i=n+this.pos&-128;this.buffer.set(r.subarray(0,128-this.pos),this.pos);const o=this.pos;return(n-=128-this.pos)>=0&&(compress$2(this.hh,this.hl,this.buffer,128),this.pos=0),n>127&&(compress$2(this.hh,this.hl,r.subarray(128-o,i-o),i-128),n%=128),this.buffer.set(r.subarray(r.byteLength-n)),this.pos=127&this.bytesRead,this.buffer.fill(0,this.pos),this},Sha512$2.prototype.digest=function(e,t=0){if(de(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(compress$2(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),ts64(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),compress$2(this.hh,this.hl,this.buffer,128),e instanceof Uint8Array&&e.byteLength>63){for(let r=0;r<8;r++)ts64(e,8*r+t,this.hh[r],this.hl[r]);return e}const r=new Uint8Array(64);for(let e=0;e<8;e++)ts64(r,8*e,this.hh[e],this.hl[e]);return"string"==typeof e?pe.toString(r,e):r},HMAC$3.prototype.update=function(e,t){return this.inner.update(e,t),this},HMAC$3.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},Sha512$2.HMAC=HMAC$3;var ye,be,me={exports:{}};const Ie=H,Ee=fe,we="undefined"!=typeof WebAssembly&&function requireSha512(){if(be)return ye;be=1;var e,t,r=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var s=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];n[o++]=s<<2|c>>4,n[o++]=c<<4|u>>2,n[o++]=u<<6|l}return n}})(),n=(e={"wasm-binary:./sha512.wat"(e,t){t.exports=r("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}},function __require(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})(),i=new WebAssembly.Module(n);return ye=e=>new WebAssembly.Instance(i,e).exports}()({imports:{debug:{log(...e){console.log(...e.map((e=>(e>>>0).toString(16).padStart(8,"0"))))},log_tee:e=>(console.log((e>>>0).toString(16).padStart(8,"0")),e)}}});let _e=0;const Be=[];me.exports=Sha512$1;const Ce=me.exports.SHA512_BYTES=64;function Sha512$1(){if(!(this instanceof Sha512$1))return new Sha512$1;if(!we)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");Be.length||(Be.push(_e),_e+=216),this.finalized=!1,this.digestLength=Ce,this.pointer=Be.pop(),this.pos=0,this.wasm=we,this._memory=new Uint8Array(we.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+216),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+216)}function HMAC$2(e){if(!(this instanceof HMAC$2))return new HMAC$2(e);this.pad=Ee.alloc(128),this.inner=Sha512$1(),this.outer=Sha512$1();const t=Ee.alloc(64);e.byteLength>128&&(Sha512$1().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function noop$5(){}Sha512$1.prototype._realloc=function(e){we.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(we.memory.buffer)},Sha512$1.prototype.update=function(e,t){Ie(!1===this.finalized,"Hash instance finalized"),_e%8!=0&&(_e+=8-_e%8),Ie(_e%8==0,"input should be aligned for int64");const[r,n]=function formatInput$2(e,t){var r=Ee.from(e,t);return[r,r.byteLength]}(e,t);return Ie(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),_e+e.length>this._memory.length&&this._realloc(_e+e.length),this._memory.fill(0,_e,_e+function roundUp$1(e,t){return e+t-1&-t}(n,128)-128),this._memory.set(r.subarray(0,128-this.pos),this.pointer+80+this.pos),this._memory.set(r.subarray(128-this.pos),_e),this.pos=this.pos+n&127,we.sha512(this.pointer,_e,n,0),this},Sha512$1.prototype.digest=function(e,t=0){Ie(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,Be.push(this.pointer);const r=this.pointer+80+this.pos;this._memory.fill(0,r,this.pointer+80+128),we.sha512(this.pointer,_e,0,1);const n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return n;if("string"==typeof e)return Ee.toString(n,e);Ie(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),Ie(e.byteLength>=this.digestLength+t,"output must have at least 'SHA512_BYTES' bytes remaining");for(let r=0;r<this.digestLength;r++)e[r+t]=n[r];return e},Sha512$1.WASM=we,Sha512$1.WASM_SUPPORTED="undefined"!=typeof WebAssembly,Sha512$1.ready=function(e){return e||(e=noop$5),we?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},Sha512$1.prototype.ready=Sha512$1.ready,HMAC$2.prototype.update=function(e,t){return this.inner.update(e,t),this},HMAC$2.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},Sha512$1.HMAC=HMAC$2;const Se=ge,ke=me.exports;var ve=Se;J.exports=function(){return new ve},J.exports.ready=function(e){ke.ready((function(){e()}))},J.exports.WASM_SUPPORTED=ke.SUPPORTED,J.exports.WASM_LOADED=!1,J.exports.SHA512_BYTES=64,ke.ready((function(e){e||(J.exports.WASM_LOADED=!0,J.exports=ve=ke)}));const{crypto_verify_32:xe}=q.exports,Te=J.exports,De=H;var Qe={crypto_auth_BYTES:32,crypto_auth_KEYBYTES:32,crypto_auth:function crypto_auth(e,t,r){De(32===e.byteLength,"out should be 'crypto_auth_BYTES' in length"),De(32===r.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const n=new Uint8Array(64),i=Te.HMAC(r);i.update(t),i.digest(n),e.set(n.subarray(0,32))},crypto_auth_verify:function crypto_auth_verify(e,t,r){De(32===e.byteLength,"h should be 'crypto_auth_BYTES' in length"),De(32===r.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const n=Te.HMAC(r).update(t).digest();return xe(e,0,n,0)}};const Le=J.exports,Re=H;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function crypto_hash_sha512$1(e,t,r){return Re(64===e.byteLength,"out must be 'crypto_hash_sha512_BYTES' bytes long"),Le().update(t.subarray(0,r)).digest(e),0}var Ue={crypto_hash:function crypto_hash$1(e,t,r){return crypto_hash_sha512$1(e,t,r)},crypto_hash_sha512:crypto_hash_sha512$1,crypto_hash_sha512_BYTES:64,crypto_hash_BYTES:64};if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var gf$2=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},Me=new Uint8Array(32);Me[0]=9;var Oe=gf$2(),Ne=gf$2([1]),Fe=gf$2([56129,1]),$e=gf$2([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Pe=gf$2([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Ye=gf$2([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Ke=gf$2([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),je=gf$2([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function M$2(e,t,r){var n,i,o=0,s=0,c=0,u=0,l=0,h=0,f=0,d=0,p=0,A=0,y=0,b=0,m=0,I=0,w=0,_=0,B=0,C=0,S=0,k=0,v=0,x=0,T=0,D=0,Q=0,L=0,R=0,U=0,M=0,O=0,N=0,F=r[0],$=r[1],P=r[2],Y=r[3],K=r[4],j=r[5],H=r[6],W=r[7],q=r[8],G=r[9],V=r[10],z=r[11],J=r[12],X=r[13],Z=r[14],ee=r[15];o+=(n=t[0])*F,s+=n*$,c+=n*P,u+=n*Y,l+=n*K,h+=n*j,f+=n*H,d+=n*W,p+=n*q,A+=n*G,y+=n*V,b+=n*z,m+=n*J,I+=n*X,w+=n*Z,_+=n*ee,s+=(n=t[1])*F,c+=n*$,u+=n*P,l+=n*Y,h+=n*K,f+=n*j,d+=n*H,p+=n*W,A+=n*q,y+=n*G,b+=n*V,m+=n*z,I+=n*J,w+=n*X,_+=n*Z,B+=n*ee,c+=(n=t[2])*F,u+=n*$,l+=n*P,h+=n*Y,f+=n*K,d+=n*j,p+=n*H,A+=n*W,y+=n*q,b+=n*G,m+=n*V,I+=n*z,w+=n*J,_+=n*X,B+=n*Z,C+=n*ee,u+=(n=t[3])*F,l+=n*$,h+=n*P,f+=n*Y,d+=n*K,p+=n*j,A+=n*H,y+=n*W,b+=n*q,m+=n*G,I+=n*V,w+=n*z,_+=n*J,B+=n*X,C+=n*Z,S+=n*ee,l+=(n=t[4])*F,h+=n*$,f+=n*P,d+=n*Y,p+=n*K,A+=n*j,y+=n*H,b+=n*W,m+=n*q,I+=n*G,w+=n*V,_+=n*z,B+=n*J,C+=n*X,S+=n*Z,k+=n*ee,h+=(n=t[5])*F,f+=n*$,d+=n*P,p+=n*Y,A+=n*K,y+=n*j,b+=n*H,m+=n*W,I+=n*q,w+=n*G,_+=n*V,B+=n*z,C+=n*J,S+=n*X,k+=n*Z,v+=n*ee,f+=(n=t[6])*F,d+=n*$,p+=n*P,A+=n*Y,y+=n*K,b+=n*j,m+=n*H,I+=n*W,w+=n*q,_+=n*G,B+=n*V,C+=n*z,S+=n*J,k+=n*X,v+=n*Z,x+=n*ee,d+=(n=t[7])*F,p+=n*$,A+=n*P,y+=n*Y,b+=n*K,m+=n*j,I+=n*H,w+=n*W,_+=n*q,B+=n*G,C+=n*V,S+=n*z,k+=n*J,v+=n*X,x+=n*Z,T+=n*ee,p+=(n=t[8])*F,A+=n*$,y+=n*P,b+=n*Y,m+=n*K,I+=n*j,w+=n*H,_+=n*W,B+=n*q,C+=n*G,S+=n*V,k+=n*z,v+=n*J,x+=n*X,T+=n*Z,D+=n*ee,A+=(n=t[9])*F,y+=n*$,b+=n*P,m+=n*Y,I+=n*K,w+=n*j,_+=n*H,B+=n*W,C+=n*q,S+=n*G,k+=n*V,v+=n*z,x+=n*J,T+=n*X,D+=n*Z,Q+=n*ee,y+=(n=t[10])*F,b+=n*$,m+=n*P,I+=n*Y,w+=n*K,_+=n*j,B+=n*H,C+=n*W,S+=n*q,k+=n*G,v+=n*V,x+=n*z,T+=n*J,D+=n*X,Q+=n*Z,L+=n*ee,b+=(n=t[11])*F,m+=n*$,I+=n*P,w+=n*Y,_+=n*K,B+=n*j,C+=n*H,S+=n*W,k+=n*q,v+=n*G,x+=n*V,T+=n*z,D+=n*J,Q+=n*X,L+=n*Z,R+=n*ee,m+=(n=t[12])*F,I+=n*$,w+=n*P,_+=n*Y,B+=n*K,C+=n*j,S+=n*H,k+=n*W,v+=n*q,x+=n*G,T+=n*V,D+=n*z,Q+=n*J,L+=n*X,R+=n*Z,U+=n*ee,I+=(n=t[13])*F,w+=n*$,_+=n*P,B+=n*Y,C+=n*K,S+=n*j,k+=n*H,v+=n*W,x+=n*q,T+=n*G,D+=n*V,Q+=n*z,L+=n*J,R+=n*X,U+=n*Z,M+=n*ee,w+=(n=t[14])*F,_+=n*$,B+=n*P,C+=n*Y,S+=n*K,k+=n*j,v+=n*H,x+=n*W,T+=n*q,D+=n*G,Q+=n*V,L+=n*z,R+=n*J,U+=n*X,M+=n*Z,O+=n*ee,_+=(n=t[15])*F,s+=38*(C+=n*P),c+=38*(S+=n*Y),u+=38*(k+=n*K),l+=38*(v+=n*j),h+=38*(x+=n*H),f+=38*(T+=n*W),d+=38*(D+=n*q),p+=38*(Q+=n*G),A+=38*(L+=n*V),y+=38*(R+=n*z),b+=38*(U+=n*J),m+=38*(M+=n*X),I+=38*(O+=n*Z),w+=38*(N+=n*ee),o=(n=(o+=38*(B+=n*$))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),I=(n=I+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),I=(n=I+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=c,e[3]=u,e[4]=l,e[5]=h,e[6]=f,e[7]=d,e[8]=p,e[9]=A,e[10]=y,e[11]=b,e[12]=m,e[13]=I,e[14]=w,e[15]=_}function S$2(e,t){M$2(e,t,t)}function sel25519$2(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function car25519(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}var He={gf:gf$2,A:function A$2(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]},Z:function Z$2(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]},M:M$2,S:S$2,sel25519:sel25519$2,pack25519:function pack25519$2(e,t){var r,n,i,o=gf$2(),s=gf$2();for(r=0;r<16;r++)s[r]=t[r];for(car25519(s),car25519(s),car25519(s),n=0;n<2;n++){for(o[0]=s[0]-65517,r=1;r<15;r++)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,sel25519$2(s,o,1-i)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8},unpack25519:function unpack25519$2(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767},inv25519:function inv25519$2(e,t){var r,n=gf$2();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)S$2(n,n),2!==r&&4!==r&&M$2(n,n,t);for(r=0;r<16;r++)e[r]=n[r]},gf0:Oe,gf1:Ne,_9:Me,_121665:Fe,D:$e,D2:Pe,X:Ye,Y:Ke,I:je};const{_9:We,_121665:qe,gf:Ge,inv25519:Ve,pack25519:ze,unpack25519:Je,sel25519:Xe,A:Ze,M:et,Z:tt,S:rt}=He;var nt={crypto_scalarmult:crypto_scalarmult$1,crypto_scalarmult_base:function crypto_scalarmult_base$2(e,t){return crypto_scalarmult$1(e,t,We)},crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32};function crypto_scalarmult$1(e,t,r){check$2(e,32),check$2(t,32),check$2(r,32);var n,i,o=new Uint8Array(32),s=new Float64Array(80),c=Ge(),u=Ge(),l=Ge(),h=Ge(),f=Ge(),d=Ge();for(i=0;i<31;i++)o[i]=t[i];for(o[31]=127&t[31]|64,o[0]&=248,Je(s,r),i=0;i<16;i++)u[i]=s[i],h[i]=c[i]=l[i]=0;for(c[0]=h[0]=1,i=254;i>=0;--i)n=o[i>>>3]>>>(7&i)&1,Xe(c,u,n),Xe(l,h,n),Ze(f,c,l),tt(c,c,l),Ze(l,u,h),tt(u,u,h),rt(h,f),rt(d,c),et(c,l,c),et(l,u,f),Ze(f,c,l),tt(c,c,l),rt(u,c),tt(l,h,d),et(c,l,qe),Ze(c,c,h),et(l,l,c),et(c,h,d),et(h,u,s),rt(u,f),Xe(c,u,n),Xe(l,h,n);for(i=0;i<16;i++)s[i+16]=c[i],s[i+32]=l[i],s[i+48]=u[i],s[i+64]=h[i];var p=s.subarray(32),A=s.subarray(16);return Ve(p,p),et(A,A,p),ze(e,A),0}function check$2(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}var it,ot,st={exports:{}},at={exports:{}},ct={exports:{}};var ut=H,lt=fe,ht=null,ft="undefined"!=typeof WebAssembly&&function requireBlake2b(){if(ot)return it;ot=1;var e,t,r=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var s=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];n[o++]=s<<2|c>>4,n[o++]=c<<4|u>>2,n[o++]=u<<6|l}return n}})(),n=(e={"wasm-binary:./blake2b.wat"(e,t){t.exports=r("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}},function __require(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})(),i=WebAssembly.compile(n);return it=async e=>(await WebAssembly.instantiate(await i,e)).exports}()().then((e=>{ht=e})),dt=64,pt=[];ct.exports=Blake2b$1;var gt=ct.exports.BYTES_MIN=16,At=ct.exports.BYTES_MAX=64;ct.exports.BYTES=32;var yt=ct.exports.KEYBYTES_MIN=16,bt=ct.exports.KEYBYTES_MAX=64;ct.exports.KEYBYTES=32;var mt=ct.exports.SALTBYTES=16,It=ct.exports.PERSONALBYTES=16;function Blake2b$1(e,t,r,n,i){if(!(this instanceof Blake2b$1))return new Blake2b$1(e,t,r,n,i);if(!ht)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),!0!==i&&(ut(e>=gt,"digestLength must be at least "+gt+", was given "+e),ut(e<=At,"digestLength must be at most "+At+", was given "+e),null!=t&&(ut(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),ut(t.length>=yt,"key must be at least "+yt+", was given "+t.length),ut(t.length<=bt,"key must be at least "+bt+", was given "+t.length)),null!=r&&(ut(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),ut(r.length===mt,"salt must be exactly "+mt+", was given "+r.length)),null!=n&&(ut(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),ut(n.length===It,"personal must be exactly "+It+", was given "+n.length))),pt.length||(pt.push(dt),dt+=216),this.digestLength=e,this.finalized=!1,this.pointer=pt.pop(),this._memory=new Uint8Array(ht.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),ht.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,dt,dt+t.length),this._memory[this.pointer+200]=128)}function noop$4(){}Blake2b$1.prototype._realloc=function(e){ht.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(ht.memory.buffer)},Blake2b$1.prototype.update=function(e){return ut(!1===this.finalized,"Hash instance finalized"),ut(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),dt+e.length>this._memory.length&&this._realloc(dt+e.length),this._memory.set(e,dt),ht.blake2b_update(this.pointer,dt,dt+e.length),this},Blake2b$1.prototype.digest=function(e){if(ut(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,pt.push(this.pointer),ht.blake2b_final(this.pointer),!e||"binary"===e)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof e)return lt.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);ut(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e},Blake2b$1.prototype.final=Blake2b$1.prototype.digest,Blake2b$1.WASM=ht,Blake2b$1.SUPPORTED="undefined"!=typeof WebAssembly,Blake2b$1.ready=function(e){return e||(e=noop$4),ft?ft.then((()=>e()),e):e(new Error("WebAssembly not supported"))},Blake2b$1.prototype.ready=Blake2b$1.ready,Blake2b$1.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},Blake2b$1.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};var Et=H,wt=ct.exports;function ADD64AA(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function ADD64AC(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function B2B_GET32(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function B2B_G(e,t,r,n,i,o){var s=St[i],c=St[i+1],u=St[o],l=St[o+1];ADD64AA(Ct,e,t),ADD64AC(Ct,e,s,c);var h=Ct[n]^Ct[e],f=Ct[n+1]^Ct[e+1];Ct[n]=f,Ct[n+1]=h,ADD64AA(Ct,r,n),h=Ct[t]^Ct[r],f=Ct[t+1]^Ct[r+1],Ct[t]=h>>>24^f<<8,Ct[t+1]=f>>>24^h<<8,ADD64AA(Ct,e,t),ADD64AC(Ct,e,u,l),h=Ct[n]^Ct[e],f=Ct[n+1]^Ct[e+1],Ct[n]=h>>>16^f<<16,Ct[n+1]=f>>>16^h<<16,ADD64AA(Ct,r,n),h=Ct[t]^Ct[r],f=Ct[t+1]^Ct[r+1],Ct[t]=f>>>31^h<<1,Ct[t+1]=h>>>31^f<<1}var _t=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Bt=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),Ct=new Uint32Array(32),St=new Uint32Array(32);function blake2bCompress(e,t){var r=0;for(r=0;r<16;r++)Ct[r]=e.h[r],Ct[r+16]=_t[r];for(Ct[24]=Ct[24]^e.t,Ct[25]=Ct[25]^e.t/4294967296,t&&(Ct[28]=~Ct[28],Ct[29]=~Ct[29]),r=0;r<32;r++)St[r]=B2B_GET32(e.b,4*r);for(r=0;r<12;r++)B2B_G(0,8,16,24,Bt[16*r+0],Bt[16*r+1]),B2B_G(2,10,18,26,Bt[16*r+2],Bt[16*r+3]),B2B_G(4,12,20,28,Bt[16*r+4],Bt[16*r+5]),B2B_G(6,14,22,30,Bt[16*r+6],Bt[16*r+7]),B2B_G(0,10,20,30,Bt[16*r+8],Bt[16*r+9]),B2B_G(2,12,22,24,Bt[16*r+10],Bt[16*r+11]),B2B_G(4,14,16,26,Bt[16*r+12],Bt[16*r+13]),B2B_G(6,8,18,28,Bt[16*r+14],Bt[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^Ct[r]^Ct[r+16]}var kt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Blake2b(e,t,r,n){kt.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,kt[0]=e,t&&(kt[1]=t.length),kt[2]=1,kt[3]=1,r&&kt.set(r,32),n&&kt.set(n,48);for(var i=0;i<16;i++)this.h[i]=_t[i]^B2B_GET32(kt,4*i);t&&(blake2bUpdate(this,t),this.c=128)}function blake2bUpdate(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,blake2bCompress(e,!1),e.c=0),e.b[e.c++]=t[r]}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}Blake2b.prototype.update=function(e){return Et(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),blake2bUpdate(this,e),this},Blake2b.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return Et(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),Et(t.length>=this.outlen,"out must have at least outlen bytes of space"),function blake2bFinal(e,t){e.t+=e.c;for(;e.c<128;)e.b[e.c++]=0;blake2bCompress(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}(this,t),"hex"===e?function hexSlice(e){for(var t="",r=0;r<e.length;r++)t+=toHex(e[r]);return t}(t):t},Blake2b.prototype.final=Blake2b.prototype.digest,Blake2b.ready=function(e){wt.ready((function(){e()}))};var vt=Blake2b;at.exports=function createHash(e,t,r,n,i){return!0!==i&&(Et(e>=xt,"outlen must be at least "+xt+", was given "+e),Et(e<=Tt,"outlen must be at most "+Tt+", was given "+e),null!=t&&(Et(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),Et(t.length>=Dt,"key must be at least "+Dt+", was given "+t.length),Et(t.length<=Qt,"key must be at most "+Qt+", was given "+t.length)),null!=r&&(Et(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Et(r.length===Lt,"salt must be exactly "+Lt+", was given "+r.length)),null!=n&&(Et(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Et(n.length===Rt,"personal must be exactly "+Rt+", was given "+n.length))),new vt(e,t,r,n)},at.exports.ready=function(e){wt.ready((function(){e()}))},at.exports.WASM_SUPPORTED=wt.SUPPORTED,at.exports.WASM_LOADED=!1;var xt=at.exports.BYTES_MIN=16,Tt=at.exports.BYTES_MAX=64;at.exports.BYTES=32;var Dt=at.exports.KEYBYTES_MIN=16,Qt=at.exports.KEYBYTES_MAX=64;at.exports.KEYBYTES=32;var Lt=at.exports.SALTBYTES=16,Rt=at.exports.PERSONALBYTES=16;wt.ready((function(e){e||(at.exports.WASM_LOADED=!0,at.exports=wt)})),function(e){var t=at.exports;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.exports.crypto_generichash_PRIMITIVE="blake2b",e.exports.crypto_generichash_BYTES_MIN=t.BYTES_MIN,e.exports.crypto_generichash_BYTES_MAX=t.BYTES_MAX,e.exports.crypto_generichash_BYTES=t.BYTES,e.exports.crypto_generichash_KEYBYTES_MIN=t.KEYBYTES_MIN,e.exports.crypto_generichash_KEYBYTES_MAX=t.KEYBYTES_MAX,e.exports.crypto_generichash_KEYBYTES=t.KEYBYTES,e.exports.crypto_generichash_WASM_SUPPORTED=t.WASM_SUPPORTED,e.exports.crypto_generichash_WASM_LOADED=!1,e.exports.crypto_generichash=function(e,r,n){t(e.length,n).update(r).final(e)},e.exports.crypto_generichash_ready=t.ready,e.exports.crypto_generichash_batch=function(e,r,n){for(var i=t(e.length,n),o=0;o<r.length;o++)i.update(r[o]);i.final(e)},e.exports.crypto_generichash_instance=function(r,n){return null==n&&(n=e.exports.crypto_generichash_BYTES),t(n,r)},t.ready((function(r){e.exports.crypto_generichash_WASM_LOADED=t.WASM_LOADED}))}(st);var Ut,Mt,Ot={};var Nt="undefined"!=typeof WebAssembly&&function requireXsalsa20(){if(Mt)return Ut;Mt=1;var e,t,r=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var s=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];n[o++]=s<<2|c>>4,n[o++]=c<<4|u>>2,n[o++]=u<<6|l}return n}})(),n=(e={"wasm-binary:./xsalsa20.wat"(e,t){t.exports=r("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}},function __require(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})(),i=new WebAssembly.Module(n);return Ut=e=>new WebAssembly.Instance(i,e).exports}()(),Ft=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),$t=144,Pt=$t,Yt=[],Kt=XSalsa20;function XSalsa20(e,t){if(!(this instanceof XSalsa20))return new XSalsa20(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=Nt?new WASM(e,t):new Fallback(e,t)}function WASM(e,t){Yt.length||(Yt.push($t),$t+=64),this._pointer=Yt.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(Nt.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(e,this._nonce),this._memory.set(t,this._key)}function Fallback(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,core_hsalsa20(this._s,e,t,Ft);for(var r=0;r<8;r++)this._z[r]=e[r+16]}function core_salsa20(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,A=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,I=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,B=o,C=s,S=c,k=u,v=l,x=h,T=f,D=d,Q=p,L=A,R=y,U=b,M=m,O=I,N=w,F=_,$=0;$<20;$+=2)B^=(i=(M^=(i=(Q^=(i=(v^=(i=B+M|0)<<7|i>>>25)+B|0)<<9|i>>>23)+v|0)<<13|i>>>19)+Q|0)<<18|i>>>14,x^=(i=(C^=(i=(O^=(i=(L^=(i=x+C|0)<<7|i>>>25)+x|0)<<9|i>>>23)+L|0)<<13|i>>>19)+O|0)<<18|i>>>14,R^=(i=(T^=(i=(S^=(i=(N^=(i=R+T|0)<<7|i>>>25)+R|0)<<9|i>>>23)+N|0)<<13|i>>>19)+S|0)<<18|i>>>14,F^=(i=(U^=(i=(D^=(i=(k^=(i=F+U|0)<<7|i>>>25)+F|0)<<9|i>>>23)+k|0)<<13|i>>>19)+D|0)<<18|i>>>14,B^=(i=(k^=(i=(S^=(i=(C^=(i=B+k|0)<<7|i>>>25)+B|0)<<9|i>>>23)+C|0)<<13|i>>>19)+S|0)<<18|i>>>14,x^=(i=(v^=(i=(D^=(i=(T^=(i=x+v|0)<<7|i>>>25)+x|0)<<9|i>>>23)+T|0)<<13|i>>>19)+D|0)<<18|i>>>14,R^=(i=(L^=(i=(Q^=(i=(U^=(i=R+L|0)<<7|i>>>25)+R|0)<<9|i>>>23)+U|0)<<13|i>>>19)+Q|0)<<18|i>>>14,F^=(i=(N^=(i=(O^=(i=(M^=(i=F+N|0)<<7|i>>>25)+F|0)<<9|i>>>23)+M|0)<<13|i>>>19)+O|0)<<18|i>>>14;B=B+o|0,C=C+s|0,S=S+c|0,k=k+u|0,v=v+l|0,x=x+h|0,T=T+f|0,D=D+d|0,Q=Q+p|0,L=L+A|0,R=R+y|0,U=U+b|0,M=M+m|0,O=O+I|0,N=N+w|0,F=F+_|0,e[0]=B>>>0&255,e[1]=B>>>8&255,e[2]=B>>>16&255,e[3]=B>>>24&255,e[4]=C>>>0&255,e[5]=C>>>8&255,e[6]=C>>>16&255,e[7]=C>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=v>>>0&255,e[17]=v>>>8&255,e[18]=v>>>16&255,e[19]=v>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=D>>>0&255,e[29]=D>>>8&255,e[30]=D>>>16&255,e[31]=D>>>24&255,e[32]=Q>>>0&255,e[33]=Q>>>8&255,e[34]=Q>>>16&255,e[35]=Q>>>24&255,e[36]=L>>>0&255,e[37]=L>>>8&255,e[38]=L>>>16&255,e[39]=L>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=U>>>0&255,e[45]=U>>>8&255,e[46]=U>>>16&255,e[47]=U>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=O>>>0&255,e[53]=O>>>8&255,e[54]=O>>>16&255,e[55]=O>>>24&255,e[56]=N>>>0&255,e[57]=N>>>8&255,e[58]=N>>>16&255,e[59]=N>>>24&255,e[60]=F>>>0&255,e[61]=F>>>8&255,e[62]=F>>>16&255,e[63]=F>>>24&255}function core_hsalsa20(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,A=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,I=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,B=0;B<20;B+=2)o^=(i=(m^=(i=(p^=(i=(l^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+l|0)<<13|i>>>19)+p|0)<<18|i>>>14,h^=(i=(s^=(i=(I^=(i=(A^=(i=h+s|0)<<7|i>>>25)+h|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,y^=(i=(f^=(i=(c^=(i=(w^=(i=y+f|0)<<7|i>>>25)+y|0)<<9|i>>>23)+w|0)<<13|i>>>19)+c|0)<<18|i>>>14,_^=(i=(b^=(i=(d^=(i=(u^=(i=_+b|0)<<7|i>>>25)+_|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(u^=(i=(c^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+c|0)<<18|i>>>14,h^=(i=(l^=(i=(d^=(i=(f^=(i=h+l|0)<<7|i>>>25)+h|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,y^=(i=(A^=(i=(p^=(i=(b^=(i=y+A|0)<<7|i>>>25)+y|0)<<9|i>>>23)+b|0)<<13|i>>>19)+p|0)<<18|i>>>14,_^=(i=(w^=(i=(I^=(i=(m^=(i=_+w|0)<<7|i>>>25)+_|0)<<9|i>>>23)+m|0)<<13|i>>>19)+I|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255}if(XSalsa20.NONCEBYTES=24,XSalsa20.KEYBYTES=32,XSalsa20.core_hsalsa20=core_hsalsa20,XSalsa20.SIGMA=Ft,XSalsa20.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t},XSalsa20.prototype.final=XSalsa20.prototype.finalize=function(){this._xor.finalize(),this._xor=null},WASM.prototype.realloc=function(e){Nt.memory.grow(Math.ceil(Math.abs(e-this._memory.length)/65536)),this._memory=new Uint8Array(Nt.memory.buffer)},WASM.prototype.update=function(e,t){var r=this._overflow+e.length,n=$t+this._overflow;(Pt=$t+r)>=this._memory.length&&this.realloc(Pt),this._memory.set(e,n),Nt.xsalsa20_xor(this._pointer,$t,$t,r,this._nonce,this._key),t.set(this._memory.subarray(n,$t+r)),this._overflow=63&r},WASM.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),Pt>$t&&(this._memory.fill(0,$t,Pt),Pt=0),Yt.push(this._pointer)},Fallback.prototype.update=function(e,t){for(var r=new Uint8Array(64),n=0,i=this._overflow,o=e.length+this._overflow,s=this._z,c=-this._overflow,u=-this._overflow;o>=64;){for(core_salsa20(r,s,this._s,Ft);i<64;i++)t[u+i]=e[c+i]^r[i];for(n=1,i=8;i<16;i++)n+=255&s[i]|0,s[i]=255&n,n>>>=8;o-=64,u+=64,c+=64,i=0}if(o>0)for(core_salsa20(r,s,this._s,Ft);i<o;i++)t[u+i]=e[c+i]^r[i];this._overflow=63&o},Fallback.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)},function(e){const t=Kt;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function XOR(e,r){this._instance=t(e,r)}e.crypto_stream_KEYBYTES=32,e.crypto_stream_NONCEBYTES=24,e.crypto_stream_PRIMITIVE="xsalsa20",e.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,e.crypto_stream=function(t,r,n){t.fill(0),e.crypto_stream_xor(t,t,r,n)},e.crypto_stream_xor=function(e,r,n,i){const o=t(n,i);o.update(r,e),o.final()},e.crypto_stream_xor_instance=function(e,t){return new XOR(e,t)},XOR.prototype.update=function(e,t){this._instance.update(t,e)},XOR.prototype.final=function(){this._instance.finalize(),this._instance=null}}(Ot),1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var poly1305=function(e){var t,r,n,i,o,s,c,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),c=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|c<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(c>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};poly1305.prototype.blocks=function(e,t,r){for(var n,i,o,s,c,u,l,h,f,d,p,A,y,b,m,I,w,_,B,C=this.fin?0:2048,S=this.h[0],k=this.h[1],v=this.h[2],x=this.h[3],T=this.h[4],D=this.h[5],Q=this.h[6],L=this.h[7],R=this.h[8],U=this.h[9],M=this.r[0],O=this.r[1],N=this.r[2],F=this.r[3],$=this.r[4],P=this.r[5],Y=this.r[6],K=this.r[7],j=this.r[8],H=this.r[9];r>=16;)d=f=0,d+=(S+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*M,d+=(k+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),d+=(v+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*j),d+=(x+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*K),f=(d+=(T+=8191&(s>>>4|(c=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*Y))>>>13,d&=8191,d+=(D+=c>>>1&8191)*(5*P),d+=(Q+=8191&(c>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*$),d+=(L+=8191&(u>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*F),d+=(R+=8191&(l>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*N),p=f+=(d+=(U+=h>>>5|C)*(5*O))>>>13,p+=S*O,p+=k*M,p+=v*(5*H),p+=x*(5*j),f=(p+=T*(5*K))>>>13,p&=8191,p+=D*(5*Y),p+=Q*(5*P),p+=L*(5*$),p+=R*(5*F),f+=(p+=U*(5*N))>>>13,p&=8191,A=f,A+=S*N,A+=k*O,A+=v*M,A+=x*(5*H),f=(A+=T*(5*j))>>>13,A&=8191,A+=D*(5*K),A+=Q*(5*Y),A+=L*(5*P),A+=R*(5*$),y=f+=(A+=U*(5*F))>>>13,y+=S*F,y+=k*N,y+=v*O,y+=x*M,f=(y+=T*(5*H))>>>13,y&=8191,y+=D*(5*j),y+=Q*(5*K),y+=L*(5*Y),y+=R*(5*P),b=f+=(y+=U*(5*$))>>>13,b+=S*$,b+=k*F,b+=v*N,b+=x*O,f=(b+=T*M)>>>13,b&=8191,b+=D*(5*H),b+=Q*(5*j),b+=L*(5*K),b+=R*(5*Y),m=f+=(b+=U*(5*P))>>>13,m+=S*P,m+=k*$,m+=v*F,m+=x*N,f=(m+=T*O)>>>13,m&=8191,m+=D*M,m+=Q*(5*H),m+=L*(5*j),m+=R*(5*K),I=f+=(m+=U*(5*Y))>>>13,I+=S*Y,I+=k*P,I+=v*$,I+=x*F,f=(I+=T*N)>>>13,I&=8191,I+=D*O,I+=Q*M,I+=L*(5*H),I+=R*(5*j),w=f+=(I+=U*(5*K))>>>13,w+=S*K,w+=k*Y,w+=v*P,w+=x*$,f=(w+=T*F)>>>13,w&=8191,w+=D*N,w+=Q*O,w+=L*M,w+=R*(5*H),_=f+=(w+=U*(5*j))>>>13,_+=S*j,_+=k*K,_+=v*Y,_+=x*P,f=(_+=T*$)>>>13,_&=8191,_+=D*F,_+=Q*N,_+=L*O,_+=R*M,B=f+=(_+=U*(5*H))>>>13,B+=S*H,B+=k*j,B+=v*K,B+=x*Y,f=(B+=T*P)>>>13,B&=8191,B+=D*$,B+=Q*F,B+=L*N,B+=R*O,S=d=8191&(f=(f=((f+=(B+=U*M)>>>13)<<2)+f|0)+(d&=8191)|0),k=p+=f>>>=13,v=A&=8191,x=y&=8191,T=b&=8191,D=m&=8191,Q=I&=8191,L=w&=8191,R=_&=8191,U=B&=8191,t+=16,r-=16;this.h[0]=S,this.h[1]=k,this.h[2]=v,this.h[3]=x,this.h[4]=T,this.h[5]=D,this.h[6]=Q,this.h[7]=L,this.h[8]=R,this.h[9]=U},poly1305.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},poly1305.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var jt=poly1305;const Ht=H,Wt=jt,{crypto_verify_16:qt}=q.exports;var Gt={crypto_onetimeauth:crypto_onetimeauth$1,crypto_onetimeauth_verify:function crypto_onetimeauth_verify$1(e,t,r){Ht(16===e.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),Ht(null!=t.byteLength,"msg must be buffer"),Ht(32===r.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Uint8Array(16);return crypto_onetimeauth$1(n,t,r),qt(e,0,n,0)},crypto_onetimeauth_BYTES:16,crypto_onetimeauth_KEYBYTES:32,crypto_onetimeauth_PRIMITIVE:"poly1305"};function crypto_onetimeauth$1(e,t,r){Ht(16===e.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),Ht(null!=t.byteLength,"msg must be buffer"),Ht(32===r.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Wt(r);n.update(t,0,t.byteLength),n.finish(e,0)}const Vt=H,{crypto_stream:zt,crypto_stream_xor:Jt}=Ot,{crypto_onetimeauth:Xt,crypto_onetimeauth_verify:Zt,crypto_onetimeauth_BYTES:er,crypto_onetimeauth_KEYBYTES:tr}=Gt;var rr={crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_secretbox_detached:function crypto_secretbox_detached$1(e,t,r,n,i){Vt(e.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),Vt(16===t.byteLength,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Vt(24===n.byteLength,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vt(32===i.byteLength,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(r.byteLength+t.byteLength);return crypto_secretbox_easy$1(o,r,n,i),t.set(o.subarray(0,t.byteLength)),e.set(o.subarray(t.byteLength)),!0},crypto_secretbox_open_detached:function crypto_secretbox_open_detached$1(e,t,r,n,i){Vt(t.byteLength===e.byteLength,"o must be 'msg.byteLength' bytes"),Vt(16===r.byteLength,"mac must be 'crypto_secretbox_MACBYTES' bytes"),Vt(24===n.byteLength,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vt(32===i.byteLength,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(t.byteLength+r.byteLength);return o.set(r),o.set(t,r.byteLength),crypto_secretbox_open_easy$1(e,o,n,i)},crypto_secretbox_easy:crypto_secretbox_easy$1,crypto_secretbox_open_easy:crypto_secretbox_open_easy$1,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_secretbox_MACBYTES:16};function crypto_secretbox(e,t,r,n){Vt(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");const i=t.byteLength;Vt(i>=32,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Vt(24===r.byteLength,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vt(32===n.byteLength,"k must be 'crypto_secretbox_KEYBYTES' bytes"),Jt(e,t,r,n),Xt(e.subarray(16,16+er),e.subarray(16+er,e.byteLength),e.subarray(0,tr)),e.fill(0,0,16)}function crypto_secretbox_open(e,t,r,n){Vt(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");const i=e.byteLength;Vt(i>=32,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),Vt(24===r.byteLength,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vt(32===n.byteLength,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(tr);zt(o,r,n);return!1!==Zt(t.subarray(16,16+er),t.subarray(16+er,t.byteLength),o)&&(Jt(e,t,r,n),e.fill(0,0,32),!0)}function crypto_secretbox_easy$1(e,t,r,n){Vt(e.byteLength===t.byteLength+16,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Vt(24===r.byteLength,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vt(32===n.byteLength,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(32+t.byteLength),o=new Uint8Array(i.byteLength);i.set(t,32),crypto_secretbox(o,i,r,n),e.set(o.subarray(16))}function crypto_secretbox_open_easy$1(e,t,r,n){Vt(t.byteLength===e.byteLength+16,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),Vt(24===r.byteLength,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),Vt(32===n.byteLength,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(16+t.byteLength),o=new Uint8Array(i.byteLength);return i.set(t,16),!1!==crypto_secretbox_open(o,i,r,n)&&(e.set(o.subarray(32)),!0)}const{crypto_hash_sha512:nr}=Ue,{crypto_scalarmult:ir,crypto_scalarmult_base:or}=nt,{randombytes:sr}=j.exports,{crypto_generichash_batch:ar}=st.exports,{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:cr}=Ot,{crypto_secretbox_open_easy:ur,crypto_secretbox_easy:lr,crypto_secretbox_detached:hr,crypto_secretbox_open_detached:fr}=rr,dr=Kt,pr=H,gr=cr-16;var Ar={crypto_box_easy:function crypto_box_easy(e,t,r,n,i){return pr(e.length>=t.length+16,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),pr(t.length<=gr,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),crypto_box_detached(e.subarray(16,t.length+16),e.subarray(0,16),t,r,n,i)},crypto_box_open_easy:function crypto_box_open_easy(e,t,r,n,i){return pr(t.length>=e.length+16,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),crypto_box_open_detached(e,t.subarray(16,e.length+16),t.subarray(0,16),r,n,i)},crypto_box_keypair:crypto_box_keypair,crypto_box_seed_keypair:function crypto_box_seed_keypair(e,t,r){pr(32===e.byteLength,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),pr(32===t.byteLength,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),pr(32===t.byteLength,"sk should be 'crypto_box_SEEDBYTES' bytes");const n=new Uint8Array(64);return nr(n,r,32),t.set(n.subarray(0,32)),n.fill(0),or(e,t)},crypto_box_seal:function crypto_box_seal(e,t,r){check$1(e,48+t.length),check$1(r,32);var n=e.subarray(0,32),i=new Uint8Array(32);crypto_box_keypair(n,i);var o=new Uint8Array(24);ar(o,[n,r]);var s=new Uint8Array(32);ir(s,i,r);var c=new Uint8Array(32),u=new Uint8Array(16);dr.core_hsalsa20(c,u,s,dr.SIGMA),lr(e.subarray(n.length),t,o,c),cleanup(i)},crypto_box_seal_open:function crypto_box_seal_open(e,t,r,n){check$1(t,48),check$1(e,t.length-48),check$1(r,32),check$1(n,32);var i=t.subarray(0,32),o=new Uint8Array(24);ar(o,[i,r]);var s=new Uint8Array(32);ir(s,n,i);var c=new Uint8Array(32),u=new Uint8Array(16);return dr.core_hsalsa20(c,u,s,dr.SIGMA),ur(e,t.subarray(i.length),o,c)},crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_box_SEALBYTES:48,crypto_box_SEEDBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_MACBYTES:16};function crypto_box_keypair(e,t){return check$1(e,32),check$1(t,32),sr(t,32),or(e,t)}function crypto_box_beforenm(e,t,r){const n=new Uint8Array(16),i=new Uint8Array(32);return pr(0===ir(i,r,t)),dr.core_hsalsa20(e,n,i,dr.SIGMA),!0}function crypto_box_detached(e,t,r,n,i,o){check$1(t,16),check$1(n,24),check$1(i,32),check$1(o,32);const s=new Uint8Array(32);pr(crypto_box_beforenm(s,i,o));const c=function crypto_box_detached_afternm(e,t,r,n,i){return hr(e,t,r,n,i)}(e,t,r,n,s);return cleanup(s),c}function crypto_box_open_detached(e,t,r,n,i,o){const s=new Uint8Array(32);pr(crypto_box_beforenm(s,i,o));const c=function crypto_box_open_detached_afternm(e,t,r,n,i){return fr(e,t,r,n,i)}(e,t,r,n,s);return cleanup(s),c}function check$1(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function cleanup(e){for(let t=0;t<e.length;t++)e[t]=0}var yr={exports:{}},br={exports:{}};const mr=H,Ir=fe;br.exports=Sha256$1;const Er=br.exports.SHA256_BYTES=32,wr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function expand(e,t,r,n){return((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+t+(((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)+n)<<0}function compress$1(e,t){var r,n,i,[o,s,c,u,l,h,f,d]=e;const p=new Uint32Array(64);for(let e=0;e<16;e++)p[e]=bswap(t[e]);for(let e=16;e<64;e++)p[e]=expand(p[e-2],p[e-7],p[e-15],p[e-16]);for(let e=0;e<64;e+=4)round(e);function round(e){r=o&s^o&c^s&c,n=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),i=d+(l&h^~l&f)+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+p[e]+wr[e],d=u+i,r=(u=i+(n+r))&o^u&s^o&s,n=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),i=f+(d&l^~d&h)+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+p[e+1]+wr[e+1],f=c+i,r=(c=i+(n+r))&u^c&o^u&o,n=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=h+(f&d^~f&l)+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+p[e+2]+wr[e+2],h=s+i,r=(s=i+(n+r))&c^s&u^c&u,n=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),i=l+(h&f^~h&d)+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+p[e+3]+wr[e+3],l=o+i,o=i+(n+r)}e[0]=e[0]+o,e[1]=e[1]+s,e[2]=e[2]+c,e[3]=e[3]+u,e[4]=e[4]+l,e[5]=e[5]+h,e[6]=e[6]+f,e[7]=e[7]+d}function Sha256$1(){return this instanceof Sha256$1?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=Er,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new Sha256$1}function HMAC$1(e){if(!(this instanceof HMAC$1))return new HMAC$1(e);this.pad=Ir.alloc(64),this.inner=Sha256$1(),this.outer=Sha256$1();const t=Ir.alloc(32);e.byteLength>64&&(Sha256$1().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function bswap(e){return(16711935&e)>>>8|(16711935&e)<<24|((4278255360&e)<<8|(4278255360&e)>>>24)}Sha256$1.prototype.update=function(e,t){mr(!1===this.finalised,"Hash instance finalised");var[r,n]=function formatInput$1(e,t){var r=Ir.from(e,t);return[r,r.byteLength]}(e,t),i=0;for(this.bytesRead+=n;n>0&&(this.load.set(r.subarray(i,i+64-this.pos),this.pos),i+=64-this.pos,!((n-=64-this.pos)<0));)this.pos=0,compress$1(this.state,this.words);return this.pos=63&this.bytesRead,this.load.fill(0,this.pos),this},Sha256$1.prototype.digest=function(e,t=0){mr(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(compress$1(this.state,this.words),this.words.fill(0),this.pos=0);const r=new DataView(this.buffer);r.setUint32(56,this.bytesRead/2**29),r.setUint32(60,this.bytesRead<<3),compress$1(this.state,this.words);const n=new Uint8Array(this.state.map(bswap).buffer);if(!e)return new Uint8Array(n);if("string"==typeof e)return Ir.toString(n,e);mr(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),mr(e.byteLength>=this.digestLength+t,"input not large enough for digest");for(let r=0;r<this.digestLength;r++)e[r+t]=n[r];return e},HMAC$1.prototype.update=function(e,t){return this.inner.update(e,t),this},HMAC$1.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},Sha256$1.HMAC=HMAC$1;var _r,Br,Cr={exports:{}};const Sr=H,kr=fe,vr="undefined"!=typeof WebAssembly&&function requireSha256(){if(Br)return _r;Br=1;var e,t,r=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var s=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];n[o++]=s<<2|c>>4,n[o++]=c<<4|u>>2,n[o++]=u<<6|l}return n}})(),n=(e={"wasm-binary:./sha256.wat"(e,t){t.exports=r("AGFzbQEAAAABNAVgAX8Bf2AIf39/f39/f38AYAR/f39/AX9gEX9/f39/f39/f39/f39/f39/AGAEf39/fwADBgUAAQIDBAUDAQABBikIfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwcTAgZtZW1vcnkCAAZzaGEyNTYABAreFwUZACAAQf+B/AdxQQh4IABBgP6DeHFBCHdyC7wDAQZ/IwQjBXEjBEF/cyMGcXMhCiMAIwFxIwAjAnFzIwEjAnFzIQsjAEECeCMAQQ14cyMAQRZ4cyEMIwRBBngjBEELeHMjBEEZeHMhDSMHIApqIA1qIABqIARqIQggDCALaiEJIwMgCGokByAIIAlqJAMjByMEcSMHQX9zIwVxcyEKIwMjAHEjAyMBcXMjACMBcXMhCyMDQQJ4IwNBDXhzIwNBFnhzIQwjB0EGeCMHQQt4cyMHQRl4cyENIwYgCmogDWogAWogBWohCCAMIAtqIQkjAiAIaiQGIAggCWokAiMGIwdxIwZBf3MjBHFzIQojAiMDcSMCIwBxcyMDIwBxcyELIwJBAngjAkENeHMjAkEWeHMhDCMGQQZ4IwZBC3hzIwZBGXhzIQ0jBSAKaiANaiACaiAGaiEIIAwgC2ohCSMBIAhqJAUgCCAJaiQBIwUjBnEjBUF/cyMHcXMhCiMBIwJxIwEjA3FzIwIjA3FzIQsjAUECeCMBQQ14cyMBQRZ4cyEMIwVBBngjBUELeHMjBUEZeHMhDSMEIApqIA1qIANqIAdqIQggDCALaiEJIwAgCGokBCAIIAlqJAALKwAgAEEReCAAQRN4cyAAQQp2cyABaiACQQd4IAJBEnhzIAJBA3ZzIANqagvLCwEwfyAAKAJoRQRAIABB58yn0AY2AgAgAEGF3Z7bezYCBCAAQfLmu+MDNgIIIABBuuq/qno2AgwgAEH/pLmIBTYCECAAQYzRldh5NgIUIABBq7OP/AE2AhggAEGZmoPfBTYCHCAAQQE2AmgLIAAoAgAkACAAKAIEJAEgACgCCCQCIAAoAgwkAyAAKAIQJAQgACgCFCQFIAAoAhgkBiAAKAIcJAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEGY36iUBEGRid2JB0HP94Oue0Glt9fNfhABIAUgBiAHIAhB24TbygNB8aPEzwVBpIX+kXlB1b3x2HoQASAJIAogCyAMQZjVnsB9QYG2jZQBQb6LxqECQcP7sagFEAEgDSAOIA8gEEH0uvmVB0H+4/qGeEGnjfDeeUH04u+MfBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBwdPtpH5Bho/5/X5BxruG/gBBzMOyoAIQASAFIAYgByAIQe/YpO8CQaqJ0tMEQdzTwuUFQdqR5rcHEAEgCSAKIAsgDEHSovnBeUHtjMfBekHIz4yAe0HH/+X6exABIA0gDiAPIBBB85eAt3xBx6KerX1B0capNkHn0qShARABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBhZXcvQJBuMLs8AJB/Nux6QRBk5rgmQUQASAFIAYgByAIQdTmqagGQbuVqLMHQa6Si454QYXZyJN5EAEgCSAKIAsgDEGh0f+VekHLzOnAekHwlq6SfEGjo7G7fBABIA0gDiAPIBBBmdDLjH1BpIzktH1Bheu4oH9B8MCqgwEQASAPIAogAiABEAIhASAQIAsgAyACEAIhAiABIAwgBCADEAIhAyACIA0gBSAEEAIhBCADIA4gBiAFEAIhBSAEIA8gByAGEAIhBiAFIBAgCCAHEAIhByAGIAEgCSAIEAIhCCAHIAIgCiAJEAIhCSAIIAMgCyAKEAIhCiAJIAQgDCALEAIhCyAKIAUgDSAMEAIhDCALIAYgDiANEAIhDSAMIAcgDyAOEAIhDiANIAggECAPEAIhDyAOIAkgASAQEAIhECABIAIgAyAEQZaCk80BQYjY3fEBQczuoboCQbX5wqUDEAEgBSAGIAcgCEGzmfDIA0HK1OL2BEHPlPPcBUHz37nBBhABIAkgCiALIAxB7oW+pAdB78aVxQdBlPChpnhBiISc5ngQASANIA4gDyAQQfr/+4V5QevZwaJ6QffH5vd7QfLxxbN8EAEgACAAKAIAIwBqNgIAIAAgACgCBCMBajYCBCAAIAAoAggjAmo2AgggACAAKAIMIwNqNgIMIAAgACgCECMEajYCECAAIAAoAhQjBWo2AhQgACAAKAIYIwZqNgIYIAAgACgCHCMHajYCHAuKCAIBfhJ/IAApAyAhBCAEp0E/cSACaiEGIAQgAq18IQQgACAENwMgAkAgACgCKCEHIAAoAiwhCCAAKAIwIQkgACgCNCEKIAAoAjghCyAAKAI8IQwgACgCQCENIAAoAkQhDiAAKAJIIQ8gACgCTCEQIAAoAlAhESAAKAJUIRIgACgCWCETIAAoAlwhFCAAKAJgIRUgACgCZCEWIAZBwABrIgZBAEgNACAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAwNAIAEoAgAhByABKAIEIQggASgCCCEJIAEoAgwhCiABKAIQIQsgASgCFCEMIAEoAhghDSABKAIcIQ4gASgCICEPIAEoAiQhECABKAIoIREgASgCLCESIAEoAjAhEyABKAI0IRQgASgCOCEVIAEoAjwhFiABQcAAaiEBIAZBwABrIgZBAEgEQCAAIAc2AiggACAINgIsIAAgCTYCMCAAIAo2AjQgACALNgI4IAAgDDYCPCAAIA02AkAgACAONgJEIAAgDzYCSCAAIBA2AkwgACARNgJQIAAgEjYCVCAAIBM2AlggACAUNgJcIAAgFTYCYCAAIBY2AmQMAgsgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMMAAsLIANBAUYEQCAEp0E/cSEGQYABIAZBA3FBA3R0IQUCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBkECdg4PAwQFBgcICQoLDA0ODxABAgsLIAUgFXIhFUEAIQULIAUgFnIhFkEAIQUgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMgACAENwMgQQAhB0EAIQhBACEJQQAhCkEAIQtBACEMQQAhDUEAIQ5BACEPQQAhEEEAIRFBACESQQAhE0EAIRRBACEVQQAhFgsgBSAHciEHQQAhBQsgBSAIciEIQQAhBQsgBSAJciEJQQAhBQsgBSAKciEKQQAhBQsgBSALciELQQAhBQsgBSAMciEMQQAhBQsgBSANciENQQAhBQsgBSAOciEOQQAhBQsgBSAPciEPQQAhBQsgBSAQciEQQQAhBQsgBSARciERQQAhBQsgBSASciESQQAhBQsgBSATciETQQAhBQsgBSAUciEUQQAhBQsgBEIdiKcQACEVIARCA4anEAAhFiAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAyAAIAAoAgAQADYCACAAIAAoAgQQADYCBCAAIAAoAggQADYCCCAAIAAoAgwQADYCDCAAIAAoAhAQADYCECAAIAAoAhQQADYCFCAAIAAoAhgQADYCGCAAIAAoAhwQADYCHAsL")}},function __require(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})(),i=new WebAssembly.Module(n);return _r=e=>new WebAssembly.Instance(i,e).exports}()({imports:{debug:{log(...e){console.log(...e.map((e=>(e>>>0).toString(16).padStart(8,"0"))))},log_tee:e=>(console.log((e>>>0).toString(16).padStart(8,"0")),e)}}});let xr=0;const Tr=[];Cr.exports=Sha256;const Dr=Cr.exports.SHA256_BYTES=32;function Sha256(){if(!(this instanceof Sha256))return new Sha256;if(!vr)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");Tr.length||(Tr.push(xr),xr+=108),this.finalized=!1,this.digestLength=Dr,this.pointer=Tr.pop(),this.pos=0,this._memory=new Uint8Array(vr.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+108),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+108)}function HMAC(e){if(!(this instanceof HMAC))return new HMAC(e);this.pad=kr.alloc(64),this.inner=Sha256(),this.outer=Sha256();const t=kr.alloc(32);e.byteLength>64&&(Sha256().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function noop$3(){}Sha256.prototype._realloc=function(e){vr.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(vr.memory.buffer)},Sha256.prototype.update=function(e,t){Sr(!1===this.finalized,"Hash instance finalized"),xr%4!=0&&(xr+=4-xr%4),Sr(xr%4==0,"input shoud be aligned for int32");const[r,n]=function formatInput(e,t){var r=kr.from(e,t);return[r,r.byteLength]}(e,t);return Sr(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),xr+n>this._memory.length&&this._realloc(xr+e.length),this._memory.fill(0,xr,xr+function roundUp(e,t){return e+t-1&-t}(n,64)-64),this._memory.set(r.subarray(0,64-this.pos),this.pointer+40+this.pos),this._memory.set(r.subarray(64-this.pos),xr),this.pos=this.pos+n&63,vr.sha256(this.pointer,xr,n,0),this},Sha256.prototype.digest=function(e,t=0){Sr(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,Tr.push(this.pointer);const r=this.pointer+40+this.pos;this._memory.fill(0,r,this.pointer+40+64),vr.sha256(this.pointer,xr,0,1);const n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return n;if("string"==typeof e)return kr.toString(n,e);Sr(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),Sr(e.byteLength>=this.digestLength+t,"output must have at least 'SHA256_BYTES' bytes remaining");for(let r=0;r<this.digestLength;r++)e[r+t]=n[r];return e},Sha256.WASM=vr,Sha256.WASM_SUPPORTED="undefined"!=typeof WebAssembly,Sha256.ready=function(e){return e||(e=noop$3),vr?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},Sha256.prototype.ready=Sha256.ready,HMAC.prototype.update=function(e,t){return this.inner.update(e,t),this},HMAC.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},Sha256.HMAC=HMAC;const Qr=br.exports,Lr=Cr.exports;var Rr=Qr;yr.exports=function(){return new Rr},yr.exports.ready=function(e){Lr.ready((function(){e()}))},yr.exports.WASM_SUPPORTED=Lr.WASM_SUPPORTED,yr.exports.WASM_LOADED=!1,yr.exports.SHA256_BYTES=32,Lr.ready((function(e){e||(yr.exports.WASM_LOADED=!0,yr.exports=Rr=Lr)}));const Ur=yr.exports,Mr=H;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var Or={crypto_hash_sha256:function crypto_hash_sha256(e,t,r){return Mr(32===e.byteLength,"out must be 'crypto_hash_sha256_BYTES' bytes long"),Ur().update(t.subarray(0,r)).digest(e),0},crypto_hash_sha256_BYTES:32},Nr={exports:{}};!function(e){const t=H,r=j.exports.randombytes_buf,n=at.exports;e.exports.crypto_kdf_PRIMITIVE="blake2b",e.exports.crypto_kdf_BYTES_MIN=16,e.exports.crypto_kdf_BYTES_MAX=64,e.exports.crypto_kdf_CONTEXTBYTES=8,e.exports.crypto_kdf_KEYBYTES=32,e.exports.crypto_kdf_derive_from_key=function crypto_kdf_derive_from_key(r,i,o,s){t(r.length>=e.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),t(i>=0&&i<=9007199254740991,"subkey_id must be safe integer"),t(o.length>=e.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var c=new Uint8Array(n.PERSONALBYTES),u=new Uint8Array(n.SALTBYTES);c.set(o,0,e.exports.crypto_kdf_CONTEXTBYTES),function STORE64_LE(e,t){var r=1,n=0;for(e[0]=255&t;++n<8&&(r*=256);)e[n]=t/r&255}(u,i);var l=Math.min(r.length,e.exports.crypto_kdf_BYTES_MAX);n(l,s.subarray(0,e.exports.crypto_kdf_KEYBYTES),u,c,!0).final(r)},e.exports.crypto_kdf_keygen=function crypto_kdf_keygen(n){t(n.length>=e.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),r(n.subarray(0,e.exports.crypto_kdf_KEYBYTES))}}(Nr);const{crypto_scalarmult_base:Fr}=nt,{crypto_generichash:$r}=st.exports,{randombytes_buf:Pr}=j.exports,Yr=H;var Kr={crypto_kx_keypair:function crypto_kx_keypair(e,t){return Yr(32===e.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),Yr(32===t.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),Pr(t,32),Fr(e,t)},crypto_kx_seed_keypair:function crypto_kx_seed_keypair(e,t,r){return Yr(32===e.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),Yr(32===t.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),Yr(32===r.byteLength,"seed must be 'crypto_kx_SEEDBYTES' bytes"),$r(t,r),Fr(e,t)},crypto_kx_SEEDBYTES:32,crypto_kx_SECRETKEYBYTES:32,crypto_kx_PUBLICKEYBYTES:32},jr={};const Hr=H;var Wr=Chacha20;const qr=[1634760805,857760878,2036477234,1797285236];function Chacha20(e,t,r){Hr(32===t.byteLength),Hr(8===e.byteLength||12===e.byteLength);const n=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),i=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);r||(r=0),Hr(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let e=0;e<4;e++)this.state[e]=qr[e];for(let e=0;e<8;e++)this.state[4+e]=i[e];return this.state[12]=4294967295&r,8===n.byteLength?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=n[0],this.state[15]=n[1]):(this.state[13]=n[0],this.state[14]=n[1],this.state[15]=n[2]),this}function chacha20Block(e){const t=new Uint32Array(16);for(let r=16;r--;)t[r]=e[r];for(let e=0;e<20;e+=2)QR(t,0,4,8,12),QR(t,1,5,9,13),QR(t,2,6,10,14),QR(t,3,7,11,15),QR(t,0,5,10,15),QR(t,1,6,11,12),QR(t,2,7,8,13),QR(t,3,4,9,14);for(let r=0;r<16;r++)t[r]+=e[r];return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function rotl(e,t){return e<<t|e>>>32-t}function QR(e,t,r,n,i){e[t]+=e[r],e[i]^=e[t],e[i]=rotl(e[i],16),e[n]+=e[i],e[r]^=e[n],e[r]=rotl(e[r],12),e[t]+=e[r],e[i]^=e[t],e[i]=rotl(e[i],8),e[n]+=e[i],e[r]^=e[n],e[r]=rotl(e[r],7)}Chacha20.prototype.update=function(e,t){Hr(!this.finalized,"cipher finalized."),Hr(e.byteLength>=t.byteLength,"output cannot be shorter than input.");let r=t.length,n=this.pos%64;this.pos+=r;let i=0,o=chacha20Block(this.state);for(;n>0&&r>0;)e[i]=t[i++]^o[n],n=n+1&63,n||this.state[12]++,r--;for(;r>0;){if(o=chacha20Block(this.state),r<64){for(let s=0;s<r;s++)e[i]=t[i++]^o[n++],n&=63;return}for(;n<64;)e[i]=t[i++]^o[n++];this.state[12]++,n=0,r-=64}},Chacha20.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0},function(e){const t=H,r=Wr;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.crypto_stream_chacha20_KEYBYTES=32,e.crypto_stream_chacha20_NONCEBYTES=8,e.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,e.crypto_stream_chacha20_ietf_KEYBYTES=32,e.crypto_stream_chacha20_ietf_NONCEBYTES=12,e.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32,e.crypto_stream_chacha20=function(t,r,n){t.fill(0),e.crypto_stream_chacha20_xor(t,t,r,n)},e.crypto_stream_chacha20_xor=function(n,i,o,s){t(o.byteLength===e.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),t(s.byteLength===e.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const c=new r(o,s);c.update(n,i),c.final()},e.crypto_stream_chacha20_xor_ic=function(n,i,o,s,c){t(o.byteLength===e.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),t(c.byteLength===e.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const u=new r(o,c,s);u.update(n,i),u.final()},e.crypto_stream_chacha20_xor_instance=function(n,i){return t(n.byteLength===e.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),t(i.byteLength===e.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new r(n,i)},e.crypto_stream_chacha20_ietf=function(t,r,n){t.fill(0),e.crypto_stream_chacha20_ietf_xor(t,t,r,n)},e.crypto_stream_chacha20_ietf_xor=function(n,i,o,s){t(o.byteLength===e.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),t(s.byteLength===e.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const c=new r(o,s);c.update(n,i),c.final()},e.crypto_stream_chacha20_ietf_xor_ic=function(n,i,o,s,c){t(o.byteLength===e.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),t(c.byteLength===e.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const u=new r(o,c,s);u.update(n,i),u.final()},e.crypto_stream_chacha20_ietf_xor_instance=function(n,i){return t(n.byteLength===e.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),t(i.byteLength===e.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new r(n,i)}}(jr);const{crypto_stream_chacha20_ietf:Gr,crypto_stream_chacha20_ietf_xor_ic:Vr}=jr,{crypto_verify_16:zr}=q.exports,Jr=jt,Xr=H,Zr=Number.MAX_SAFE_INTEGER,en=new Uint8Array(16);function crypto_aead_chacha20poly1305_ietf_encrypt_detached(e,t,r,n,i,o,s){if(null===n)return crypto_aead_chacha20poly1305_ietf_encrypt_detached(e,t,r,new Uint8Array(0),i,o,s);Xr(e.byteLength===r.byteLength,"ciphertext should be same length than message"),Xr(12===o.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Xr(32===s.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Xr(r.byteLength<=Zr,"message is too large"),Xr(t.byteLength<=16,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const c=new Uint8Array(64);var u=new Uint8Array(8);Gr(c,o,s);const l=new Jr(c);return c.fill(0),l.update(n,0,n.byteLength),l.update(en,0,16-n.byteLength&15),Vr(e,r,o,1,s),l.update(e,0,r.byteLength),l.update(en,0,16-r.byteLength&15),write64LE(u,0,n.byteLength),l.update(u,0,u.byteLength),write64LE(u,0,r.byteLength),l.update(u,0,u.byteLength),l.finish(t,0),u.fill(0),16}function crypto_aead_chacha20poly1305_ietf_decrypt_detached(e,t,r,n,i,o,s){if(null===i)return crypto_aead_chacha20poly1305_ietf_decrypt_detached(e,t,r,n,new Uint8Array(0),o,s);Xr(r.byteLength===e.byteLength,"message should be same length than ciphertext"),Xr(12===o.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Xr(32===s.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Xr(e.byteLength<=Zr,"message is too large"),Xr(n.byteLength<=16,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const c=new Uint8Array(64),u=new Uint8Array(8),l=new Uint8Array(16);Gr(c,o,s);const h=new Jr(c);c.fill(0),h.update(i,0,i.byteLength),h.update(en,0,16-i.byteLength&15);const f=r.byteLength;h.update(r,0,f),h.update(en,0,16-f&15),write64LE(u,0,i.byteLength),h.update(u,0,u.byteLength),write64LE(u,0,f),h.update(u,0,u.byteLength),h.finish(l,0),Xr(16===l.byteLength);const d=zr(l,0,n,0);if(l.fill(0),u.fill(0),!d)throw e.fill(0),new Error("could not verify data");Vr(e,r,o,1,s)}function write64LE(e,t,r){e.fill(0,0,8);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint32(t,4294967295&r,!0),n.setUint32(t+4,r/2**32&4294967295,!0)}var tn={crypto_aead_chacha20poly1305_ietf_encrypt:function crypto_aead_chacha20poly1305_ietf_encrypt(e,t,r,n,i,o){if(null===r)return crypto_aead_chacha20poly1305_ietf_encrypt(e,t,new Uint8Array(0),n,i,o);Xr(e.byteLength===t.byteLength+16,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),Xr(12===i.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Xr(32===o.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Xr(t.byteLength<=Zr,"message is too large");const s=crypto_aead_chacha20poly1305_ietf_encrypt_detached(e.subarray(0,t.byteLength),e.subarray(t.byteLength),t,r,n,i,o);return t.byteLength+s},crypto_aead_chacha20poly1305_ietf_encrypt_detached:crypto_aead_chacha20poly1305_ietf_encrypt_detached,crypto_aead_chacha20poly1305_ietf_decrypt:function crypto_aead_chacha20poly1305_ietf_decrypt(e,t,r,n,i,o){if(null===n)return crypto_aead_chacha20poly1305_ietf_decrypt(e,t,r,new Uint8Array(0),i,o);if(Xr(e.byteLength===r.byteLength-16,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),Xr(12===i.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Xr(32===o.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Xr(e.byteLength<=Zr,"message is too large"),r.byteLength<16)throw new Error("could not verify data");return crypto_aead_chacha20poly1305_ietf_decrypt_detached(e,t,r.subarray(0,r.byteLength-16),r.subarray(r.byteLength-16),n,i,o),r.byteLength-16},crypto_aead_chacha20poly1305_ietf_decrypt_detached:crypto_aead_chacha20poly1305_ietf_decrypt_detached,crypto_aead_chacha20poly1305_ietf_ABYTES:16,crypto_aead_chacha20poly1305_ietf_KEYBYTES:32,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:12,crypto_aead_chacha20poly1305_ietf_NSECBYTES:0,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:Zr};const rn=H;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function ROTL32(e,t){return(e&=4294967295)<<(t&=4294967295)|e>>>32-t}function LOAD32_LE(e,t){rn(e instanceof Uint8Array,"src not byte array");let r=e[t];return r|=e[t+1]<<8,r|=e[t+2]<<16,r|=e[t+3]<<24,r}function STORE32_LE(e,t,r){rn(e instanceof Uint8Array,"dest not byte array");var n=1,i=0;for(e[r]=255&t;++i<4&&(n*=256);)e[r+i]=t/n&255}function QUARTERROUND(e,t,r,n,i){e[t]+=e[r],e[i]=ROTL32(e[i]^e[t],16),e[n]+=e[i],e[r]=ROTL32(e[r]^e[n],12),e[t]+=e[r],e[i]=ROTL32(e[i]^e[t],8),e[n]+=e[i],e[r]=ROTL32(e[r]^e[n],7)}var nn={crypto_core_hchacha20_INPUTBYTES:16,LOAD32_LE:LOAD32_LE,STORE32_LE:STORE32_LE,QUARTERROUND:QUARTERROUND,crypto_core_hchacha20:function crypto_core_hchacha20$1(e,t,r,n){rn(e instanceof Uint8Array&&32===e.length,"out is not an array of 32 bytes"),rn(r instanceof Uint8Array&&32===r.length,"k is not an array of 32 bytes"),rn(null===n||n instanceof Uint8Array&&16===n.length,"c is not null or an array of 16 bytes");let i=0;const o=new Uint32Array(16);for(n?(o[0]=LOAD32_LE(n,0),o[1]=LOAD32_LE(n,4),o[2]=LOAD32_LE(n,8),o[3]=LOAD32_LE(n,12)):(o[0]=1634760805,o[1]=857760878,o[2]=2036477234,o[3]=1797285236),o[4]=LOAD32_LE(r,0),o[5]=LOAD32_LE(r,4),o[6]=LOAD32_LE(r,8),o[7]=LOAD32_LE(r,12),o[8]=LOAD32_LE(r,16),o[9]=LOAD32_LE(r,20),o[10]=LOAD32_LE(r,24),o[11]=LOAD32_LE(r,28),o[12]=LOAD32_LE(t,0),o[13]=LOAD32_LE(t,4),o[14]=LOAD32_LE(t,8),o[15]=LOAD32_LE(t,12),i=0;i<10;i++)QUARTERROUND(o,0,4,8,12),QUARTERROUND(o,1,5,9,13),QUARTERROUND(o,2,6,10,14),QUARTERROUND(o,3,7,11,15),QUARTERROUND(o,0,5,10,15),QUARTERROUND(o,1,6,11,12),QUARTERROUND(o,2,7,8,13),QUARTERROUND(o,3,4,9,14);return STORE32_LE(e,o[0],0),STORE32_LE(e,o[1],4),STORE32_LE(e,o[2],8),STORE32_LE(e,o[3],12),STORE32_LE(e,o[12],16),STORE32_LE(e,o[13],20),STORE32_LE(e,o[14],24),STORE32_LE(e,o[15],28),0},crypto_core_hchacha20_outputbytes:function crypto_core_hchacha20_outputbytes(){return 32},crypto_core_hchacha20_inputbytes:function crypto_core_hchacha20_inputbytes(){return 16},crypto_core_hchacha20_keybytes:function crypto_core_hchacha20_keybytes(){return 32},crypto_core_hchacha20_constbytes:function crypto_core_hchacha20_constbytes(){return 16}};const on=H,{randombytes_buf:sn}=j.exports,{crypto_stream_chacha20_ietf:an,crypto_stream_chacha20_ietf_xor:cn,crypto_stream_chacha20_ietf_xor_ic:un,crypto_stream_chacha20_ietf_KEYBYTES:ln}=jr,{crypto_core_hchacha20:hn,crypto_core_hchacha20_INPUTBYTES:dn}=nn,gn=jt,{sodium_increment:An,sodium_is_zero:yn,sodium_memcmp:bn}=z,mn=Number.MAX_SAFE_INTEGER,In=Number.MAX_SAFE_INTEGER,En=new Uint8Array([0]),wn=new Uint8Array([1]),_n=new Uint8Array([2]),Bn=new Uint8Array([wn|_n]),Cn=new Uint8Array(16);function STORE64_LE(e,t){let r=1,n=0;for(e[0]=255&t;++n<8&&(r*=256);)e[n]=t/r&255}function crypto_secretstream_xchacha20poly1305_counter_reset(e){on(52===e.byteLength,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const t=e.subarray(32,44);for(let e=0;e<4;e++)t[e]=0;t[0]=1}function crypto_secretstream_xchacha20poly1305_rekey(e){on(52===e.byteLength,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const t=e.subarray(0,32),r=e.subarray(32,44),n=new Uint8Array(ln+8);let i;for(i=0;i<ln;i++)n[i]=t[i];for(i=0;i<8;i++)n[ln+i]=r[4+i];for(cn(n,n,r,t),i=0;i<ln;i++)t[i]=n[i];for(i=0;i<8;i++)r[4+i]=n[ln+i];crypto_secretstream_xchacha20poly1305_counter_reset(e)}function xor_buf(e,t,r){for(let n=0;n<r;n++)e[n]^=t[n]}var Sn,kn,xn={crypto_secretstream_xchacha20poly1305_keygen:function crypto_secretstream_xchacha20poly1305_keygen(e){on(32===e.length),sn(e)},crypto_secretstream_xchacha20poly1305_init_push:function crypto_secretstream_xchacha20poly1305_init_push(e,t,r){on(52===e.byteLength,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),on(t instanceof Uint8Array&&24===t.length,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),on(r instanceof Uint8Array&&32===r.length,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const n=e.subarray(0,32),i=e.subarray(32,44),o=e.subarray(44);sn(t,24),hn(n,t,r,null),crypto_secretstream_xchacha20poly1305_counter_reset(e);for(let e=0;e<8;e++)i[e+4]=t[e+dn];o.fill(0)},crypto_secretstream_xchacha20poly1305_init_pull:function crypto_secretstream_xchacha20poly1305_init_pull(e,t,r){on(52===e.byteLength,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),on(t instanceof Uint8Array&&24===t.length,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),on(r instanceof Uint8Array&&32===r.length,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const n=e.subarray(0,32),i=e.subarray(32,44),o=e.subarray(44);hn(n,t,r,null),crypto_secretstream_xchacha20poly1305_counter_reset(e);for(let e=0;e<8;e++)i[e+4]=t[e+dn];o.fill(0)},crypto_secretstream_xchacha20poly1305_rekey:crypto_secretstream_xchacha20poly1305_rekey,crypto_secretstream_xchacha20poly1305_push:function crypto_secretstream_xchacha20poly1305_push(e,t,r,n,i){on(52===e.byteLength,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n||(n=new Uint8Array(0));const o=e.subarray(0,32),s=e.subarray(32,44),c=new Uint8Array(64),u=new Uint8Array(8);on(mn<=In),an(c,s,o);const l=new gn(c);c.fill(0),l.update(n,0,n.byteLength),l.update(Cn,0,16-n.byteLength&15),c[0]=i[0],un(c,c,s,1,o),l.update(c,0,c.byteLength),t[0]=c[0];const h=t.subarray(1,t.byteLength);un(h,r,s,2,o),l.update(h,0,r.byteLength),l.update(Cn,0,16-c.byteLength+r.byteLength&15),STORE64_LE(u,n.byteLength),l.update(u,0,u.byteLength),STORE64_LE(u,c.byteLength+r.byteLength),l.update(u,0,u.byteLength);const f=t.subarray(1+r.byteLength,t.byteLength);return l.finish(f,0),on(!0),xor_buf(s.subarray(4,s.length),f,8),An(s),(0!=(i[0]&_n)||yn(s.subarray(0,4)))&&crypto_secretstream_xchacha20poly1305_rekey(e),17+r.byteLength},crypto_secretstream_xchacha20poly1305_pull:function crypto_secretstream_xchacha20poly1305_pull(e,t,r,n,i){on(52===e.byteLength,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i||(i=new Uint8Array(0));const o=e.subarray(0,32),s=e.subarray(32,44),c=new Uint8Array(64),u=new Uint8Array(8),l=new Uint8Array(16);on(n.byteLength>=17,"ciphertext is too short.");const h=n.byteLength-17;an(c,s,o);const f=new gn(c);c.fill(0),f.update(i,0,i.byteLength),f.update(Cn,0,16-i.byteLength&15),c.fill(0),c[0]=n[0],un(c,c,s,1,o),r[0]=c[0],c[0]=n[0],f.update(c,0,c.byteLength);const d=n.subarray(1,n.length);f.update(d,0,h),f.update(Cn,0,16-c.byteLength+h&15),STORE64_LE(u,i.byteLength),f.update(u,0,u.byteLength),STORE64_LE(u,c.byteLength+t.byteLength),f.update(u,0,u.byteLength),f.finish(l,0);const p=n.subarray(1+h,n.length);if(!bn(l,p))throw l.fill(0),new Error("MAC could not be verified.");return un(t,d.subarray(0,t.length),s,2,o),xor_buf(s.subarray(4,s.length),l,8),An(s),(0!=(r&_n)||yn(s.subarray(0,4)))&&crypto_secretstream_xchacha20poly1305_rekey(e),h},crypto_secretstream_xchacha20poly1305_STATEBYTES:52,crypto_secretstream_xchacha20poly1305_ABYTES:17,crypto_secretstream_xchacha20poly1305_HEADERBYTES:24,crypto_secretstream_xchacha20poly1305_KEYBYTES:32,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:mn,crypto_secretstream_xchacha20poly1305_TAGBYTES:1,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:En,crypto_secretstream_xchacha20poly1305_TAG_PUSH:wn,crypto_secretstream_xchacha20poly1305_TAG_REKEY:_n,crypto_secretstream_xchacha20poly1305_TAG_FINAL:Bn},Tn={};var Dn=function fallback$1(e,t,r){var n,i={h:_get_int(r,4),l:_get_int(r,0)},o={h:_get_int(r,12),l:_get_int(r,8)},s={h:i.h,l:i.l},c=i,u={h:o.h,l:o.l},l=o,h=0,f=t.length,d=f-7,p=new Uint8Array(new ArrayBuffer(8));_xor(s,{h:1936682341,l:1886610805}),_xor(u,{h:1685025377,l:1852075885}),_xor(c,{h:1819895653,l:1852142177}),_xor(l,{h:1952801890,l:2037671283});for(;h<d;)n={h:_get_int(t,h+4),l:_get_int(t,h)},_xor(l,n),_compress(s,u,c,l),_compress(s,u,c,l),_xor(s,n),h+=8;p[7]=f;var A=0;for(;h<f;)p[A++]=t[h++];for(;A<7;)p[A++]=0;n={h:p[7]<<24|p[6]<<16|p[5]<<8|p[4],l:p[3]<<24|p[2]<<16|p[1]<<8|p[0]},_xor(l,n),_compress(s,u,c,l),_compress(s,u,c,l),_xor(s,n),_xor(c,{h:0,l:255}),_compress(s,u,c,l),_compress(s,u,c,l),_compress(s,u,c,l),_compress(s,u,c,l);var y=s;_xor(y,u),_xor(y,c),_xor(y,l),e[0]=255&y.l,e[1]=y.l>>8&255,e[2]=y.l>>16&255,e[3]=y.l>>24&255,e[4]=255&y.h,e[5]=y.h>>8&255,e[6]=y.h>>16&255,e[7]=y.h>>24&255};function _add(e,t){var r=e.l+t.l,n={h:e.h+t.h+(r/2>>>31)>>>0,l:r>>>0};e.h=n.h,e.l=n.l}function _xor(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function _rotl(e,t){var r={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=r.h,e.l=r.l}function _rotl32(e){var t=e.l;e.l=e.h,e.h=t}function _compress(e,t,r,n){_add(e,t),_add(r,n),_rotl(t,13),_rotl(n,16),_xor(t,e),_xor(n,r),_rotl32(e),_add(r,t),_add(e,n),_rotl(t,17),_rotl(n,21),_xor(t,r),_xor(n,e),_rotl32(r)}function _get_int(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}var Qn=H,Ln="undefined"!=typeof WebAssembly&&function requireSiphash24(){if(kn)return Sn;kn=1;var e,t,r=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var s=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],l=e[t.charCodeAt(i++)];n[o++]=s<<2|c>>4,n[o++]=c<<4|u>>2,n[o++]=u<<6|l}return n}})(),n=(e={"wasm-binary:./siphash24.wat"(e,t){t.exports=r("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}},function __require(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})(),i=new WebAssembly.Module(n);return Sn=e=>new WebAssembly.Instance(i,e).exports}()(),Rn=Dn,Un=siphash24,Mn=siphash24.BYTES=8,On=siphash24.KEYBYTES=16;siphash24.WASM_SUPPORTED=!!Ln,siphash24.WASM_LOADED=!!Ln;var Nn=new Uint8Array(Ln?Ln.memory.buffer:0);function siphash24(e,t,r,n){return r||(r=new Uint8Array(8)),!0!==n&&(Qn(r.length>=Mn,"output must be at least "+Mn),Qn(t.length>=On,"key must be at least "+On)),Ln?(e.length+24>Nn.length&&function realloc(e){Ln.memory.grow(Math.max(0,Math.ceil(Math.abs(e-Nn.length)/65536))),Nn=new Uint8Array(Ln.memory.buffer)}(e.length+24),Nn.set(t,8),Nn.set(e,24),Ln.siphash(24,e.length),r.set(Nn.subarray(0,8))):Rn(r,e,t),r}var Fn=Un;if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");Tn.crypto_shorthash_PRIMITIVE="siphash24",Tn.crypto_shorthash_BYTES=Fn.BYTES,Tn.crypto_shorthash_KEYBYTES=Fn.KEYBYTES,Tn.crypto_shorthash_WASM_SUPPORTED=Fn.WASM_SUPPORTED,Tn.crypto_shorthash_WASM_LOADED=Fn.WASM_LOADED,Tn.crypto_shorthash=function shorthash(e,t,r,n){Fn(t,r,e,n)};const{crypto_verify_32:$n}=q.exports,{crypto_hash:Pn}=Ue,{gf:Yn,gf0:Kn,gf1:jn,D:Hn,D2:Wn,X:qn,Y:Gn,I:Vn,A:zn,Z:Jn,M:Xn,S:Zn,sel25519:ei,pack25519:ti,inv25519:ri,unpack25519:ni}=He,{randombytes:ii}=j.exports,{crypto_scalarmult_BYTES:oi}=nt,{crypto_hash_sha512_BYTES:si}=Ue,ai=H;var ci={crypto_sign_keypair:crypto_sign_keypair$1,crypto_sign_seed_keypair:function crypto_sign_seed_keypair(e,t,r){return check(r,32),t.set(r),crypto_sign_keypair$1(e,t,!0)},crypto_sign:crypto_sign,crypto_sign_detached:function crypto_sign_detached$1(e,t,r){var n=new Uint8Array(t.length+64);crypto_sign(n,t,r);for(let t=0;t<64;t++)e[t]=n[t]},crypto_sign_open:crypto_sign_open,crypto_sign_verify_detached:function crypto_sign_verify_detached$1(e,t,r){check(e,64);var n=new Uint8Array(t.length+64),i=0;for(i=0;i<64;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+64]=t[i];return crypto_sign_open(t,n,r)},crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_sign_ed25519_PUBLICKEYBYTES:32,crypto_sign_ed25519_SECRETKEYBYTES:64,crypto_sign_ed25519_SEEDBYTES:32,crypto_sign_ed25519_BYTES:64,crypto_sign_ed25519_pk_to_curve25519:function crypto_sign_ed25519_pk_to_curve25519(e,t){check(e,32),check(t,32);var r=[Yn(),Yn(),Yn(),Yn()],n=Yn([1]),i=Yn([1]);ai(function isSmallOrder(e){var t,r=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],n=new Uint8Array(7);check(r,7);for(let i=0;i<r.length;i++)for(t=0;t<31;t++)n[i]|=e[t]^r[i][t];for(let i=0;i<r.length;i++)n[i]|=127&e[t]^r[i][t];var i=0;for(let e=0;e<r.length;e++)i|=n[e]-1;return 0==(i>>8&1)}(t)&&unpackneg(r,t)&&function ed25519_is_on_main_subgroup(e){var t=[Yn(),Yn(),Yn(),Yn()];!function ed25519_mul_l(e,t){scalarmult(e,t,ui)}(t,e);var r=0;for(let e=0;e<16;e++)r|=65535&t[0][e];return 0===r}(r),"Cannot convert key: bad point");for(let t=0;t<r.length;t++)ti(e,r[t]);return Jn(i,i,r[1]),zn(n,n,r[1]),ri(i,i),Xn(n,n,i),ti(e,n),0},crypto_sign_ed25519_sk_to_curve25519:function crypto_sign_ed25519_sk_to_curve25519(e,t){ai(e&&e.byteLength===oi,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),ai(t&&64===t.byteLength,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(si);return Pn(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,e.set(r.subarray(0,oi)),r.fill(0),e},crypto_sign_ed25519_sk_to_pk:function crypto_sign_ed25519_sk_to_pk(e,t){return check(e,32),e.set(t.subarray(32)),e},unpackneg:unpackneg,pack:pack$5};function set25519(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function add(e,t){var r=Yn(),n=Yn(),i=Yn(),o=Yn(),s=Yn(),c=Yn(),u=Yn(),l=Yn(),h=Yn();Jn(r,e[1],e[0]),Jn(h,t[1],t[0]),Xn(r,r,h),zn(n,e[0],e[1]),zn(h,t[0],t[1]),Xn(n,n,h),Xn(i,e[3],t[3]),Xn(i,i,Wn),Xn(o,e[2],t[2]),zn(o,o,o),Jn(s,n,r),Jn(c,o,i),zn(u,o,i),zn(l,n,r),Xn(e[0],s,c),Xn(e[1],l,u),Xn(e[2],u,c),Xn(e[3],s,l)}function cswap(e,t,r){var n;for(n=0;n<4;n++)ei(e[n],t[n],r)}function pack$5(e,t){var r=Yn(),n=Yn(),i=Yn();ri(i,t[2]),Xn(r,t[0],i),Xn(n,t[1],i),ti(e,n),e[31]^=par25519(r)<<7}function scalarmult(e,t,r){var n,i,o=[Yn(t[0]),Yn(t[1]),Yn(t[2]),Yn(t[3])];for(set25519(e[0],Kn),set25519(e[1],jn),set25519(e[2],jn),set25519(e[3],Kn),i=255;i>=0;--i)cswap(e,o,n=r[i/8|0]>>(7&i)&1),add(o,e),add(e,e),cswap(e,o,n)}function scalarbase(e,t){var r=[Yn(),Yn(),Yn(),Yn()];set25519(r[0],qn),set25519(r[1],Gn),set25519(r[2],jn),Xn(r[3],qn,Gn),scalarmult(e,r,t)}function crypto_sign_keypair$1(e,t,r){check(e,32),check(t,64);var n,i=new Uint8Array(64),o=[Yn(),Yn(),Yn(),Yn()];for(r||ii(t,32),Pn(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,scalarbase(o,i),pack$5(e,o),n=0;n<32;n++)t[n+32]=e[n]}var ui=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ui[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ui[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ui[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function reduce(e){var t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;modL(e,t)}function crypto_sign(e,t,r){check(e,64+t.length),check(t,0),check(r,64);var n,i,o=t.length,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),h=[Yn(),Yn(),Yn(),Yn()];Pn(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=o+64;for(n=0;n<o;n++)e[64+n]=t[n];for(n=0;n<32;n++)e[32+n]=s[32+n];for(Pn(u,e.subarray(32),o+32),reduce(u),scalarbase(h,u),pack$5(e,h),n=32;n<64;n++)e[n]=r[n];for(Pn(c,e,o+64),reduce(c),n=0;n<64;n++)l[n]=0;for(n=0;n<32;n++)l[n]=u[n];for(n=0;n<32;n++)for(i=0;i<32;i++)l[n+i]+=c[n]*s[i];return modL(e.subarray(32),l),f}function unpackneg(e,t){var r=Yn(),n=Yn(),i=Yn(),o=Yn(),s=Yn(),c=Yn(),u=Yn();return set25519(e[2],jn),ni(e[1],t),Zn(i,e[1]),Xn(o,i,Hn),Jn(i,i,e[2]),zn(o,e[2],o),Zn(s,o),Zn(c,s),Xn(u,c,s),Xn(r,u,i),Xn(r,r,o),function pow2523(e,t){var r,n=Yn();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)Zn(n,n),1!==r&&Xn(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(r,r),Xn(r,r,i),Xn(r,r,o),Xn(r,r,o),Xn(e[0],r,o),Zn(n,e[0]),Xn(n,n,o),neq25519(n,i)||Xn(e[0],e[0],Vn),Zn(n,e[0]),Xn(n,n,o),!!neq25519(n,i)&&(par25519(e[0])===t[31]>>7&&Jn(e[0],Yn(),e[0]),Xn(e[3],e[0],e[1]),!0)}function crypto_sign_open(e,t,r){check(e,t.length-64),check(t,64),check(r,32);var n,i=t.length,o=new Uint8Array(t.length),s=new Uint8Array(32),c=new Uint8Array(64),u=[Yn(),Yn(),Yn(),Yn()],l=[Yn(),Yn(),Yn(),Yn()];if(i<64)return!1;if(!unpackneg(l,r))return!1;for(n=0;n<i;n++)o[n]=t[n];for(n=0;n<32;n++)o[n+32]=r[n];if(Pn(c,o,i),reduce(c),scalarmult(u,l,c),scalarbase(l,t.subarray(32)),add(u,l),pack$5(s,u),i-=64,!$n(t,0,s,0)){for(n=0;n<i;n++)o[n]=0;return!1}for(n=0;n<i;n++)e[n]=t[n+64];return!0}function par25519(e){var t=new Uint8Array(32);return ti(t,e),1&t[0]}function neq25519(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return ti(r,e),ti(n,t),$n(r,0,n,0)}function check(e,t,r="Argument"){if(!e||t&&e.length<t)throw new Error(r+" must be a buffer"+(t?" of length "+t:""))}!function(e){function forward(t){Object.keys(t).forEach((function(r){e.exports[r]=t[r]}))}forward(j.exports),forward(W),forward(z),forward(q.exports),forward(Qe),forward(Ar),forward(st.exports),forward(Ue),forward(Or),forward(Nr.exports),forward(Kr),forward(tn),forward(Gt),forward(nt),forward(rr),forward(xn),forward(Tn),forward(ci),forward(Ot),forward(jr)}(Y),P.exports=Y.exports;var li=Symbol.for("nodejs.util.inspect.custom");const{crypto_sign_BYTES:hi,crypto_sign_SECRETKEYBYTES:fi,crypto_sign_PUBLICKEYBYTES:di,crypto_sign_detached:pi,crypto_sign_verify_detached:gi,crypto_sign_keypair:Ai}=P.exports,yi=li,bi=Symbol.for("Pico::block"),mi=Symbol.for("Pico::feed"),Ii=Buffer$2.alloc(hi).fill(0);var Ei=class PicoFeed{static get MAX_FEED_SIZE(){return 65536}static get INITIAL_FEED_SIZE(){return 1024}static get PICKLE(){return Buffer$2.from("PIC0.")}static get KEY(){return Buffer$2.from("K0.")}static get BLOCK(){return Buffer$2.from("B0.")}static get KEY_SIZE(){return di}static get SIGNATURE_SIZE(){return hi}static get COUNTER_SIZE(){return 4}static get META_SIZE(){return 2*PicoFeed.SIGNATURE_SIZE+PicoFeed.COUNTER_SIZE}static get BLOCK_SYMBOL(){return bi}static get FEED_SYMBOL(){return mi}static get GENESIS(){return Ii}constructor(e={}){this[mi]=!0,this.tail=0,this._hasGenisis=null,this._keychain=[],this._cache=[],this._MAX_FEED_SIZE=e.maxSize||PicoFeed.MAX_FEED_SIZE,this.buf=Buffer$2.alloc(e.initialSize||PicoFeed.INITIAL_FEED_SIZE)}get partial(){return!(null===this._hasGenisis&&!this.length)&&!this._hasGenisis}get free(){return this._MAX_FEED_SIZE-this.tail}get _isDirty(){if(!this.tail)return!1;if(!this._cache.length)return!0;const e=this._cache[this._cache.length-1];return PicoFeed.mapBlock(this.buf,e.offset).end!==this.tail}get length(){return this._reIndex(),this._cache.length}get last(){return this.get(this.length-1)}get first(){return this.get(0)}get keys(){return this._reIndex(),[...this._keychain]}_reIndex(e=!1){if(!e&&!this._isDirty)return;const t=this._index(e);for(;!t.next().done;)continue}_appendKey(e){this._ensureMinimumCapacity(this.tail+PicoFeed.KEY.length+e.length),this.tail+=PicoFeed.KEY.copy(this.buf,this.tail),this.tail+=e.copy(this.buf,this.tail)}_appendBlock(e){this._ensureMinimumCapacity(this.tail+e.length),this.tail+=e.copy(this.buf,this.tail)}_ensureMinimumCapacity(e){if(this.buf.length<e){const t=Buffer$2.allocUnsafe(e+32);this.buf.copy(t),this.buf=t}}_ensureKey(e){for(const t of this.keys)if(e.equals(t))return;this._appendKey(e)}get(e){this._isDirty&&this._reIndex(),e<0&&(e=this.length+e);const t=this._cache[e];if(t)return PicoFeed.mapBlock(this.buf,t.offset,this._keychain[t.keyId])}toArray(){const e=[];for(const t of this.blocks())e.push(t);return e}append(e,t,r){if(!t)throw new Error("Can't append without a signing secret");if(64!==t.length)throw new Error("Unknown signature secret key format");const n=t.slice(PicoFeed.KEY_SIZE);this._ensureKey(n);const i=PicoFeed.META_SIZE,o=this.last;Buffer$2.isBuffer(e)||(e=Buffer$2.from(e));const s=e.length,c=this.tail+s+i;if(this._MAX_FEED_SIZE<c){console.error(`MAX_FEED_SIZE reached, block won't fit: ${c} > ${this._MAX_FEED_SIZE}`);const e=new Error("FeedOverflowError");throw e.type=e.message,e.maxSize=this._MAX_FEED_SIZE,e.requestedSize=c,e.bytesOverflow=c-this._MAX_FEED_SIZE,e}this._ensureMinimumCapacity(c);const u=PicoFeed.mapBlock(this.buf,this.tail);if(u.header.fill(0),u.size=s,e.copy(u.body),o&&o.sig.copy(u.parentSig),pi(u.sig,u.dat,t),!u.verify(n))throw new Error("newly stored block is invalid. something went wrong");return this.tail=c,"function"==typeof r&&r(null,this.length),this.length}*_index(e=!1){let t=0,r=0;e&&this._clearCache();const n=PicoFeed.KEY,i=PicoFeed.KEY_SIZE;let o=null;for(;;){if(t>=this.tail)return;if(t+n.length>this.buf.length)return;if(n.equals(this.buf.slice(t,t+n.length))){const e=this.buf.slice(t+n.length,t+n.length+i);let r=this._keychain.findIndex((t=>t.equals(e)));~r||(r=this._keychain.length,this._keychain.push(e)),yield{type:0,id:r,key:e,offset:t},t+=n.length+i}else if(this._cache[r]&&this._cache[r].offset===t){const e=r++,n=this._cache[e],i=this._keychain[n.keyId];if(!i)throw new Error("InternalError:KeyCacheBroken");const s=PicoFeed.mapBlock(this.buf,n.offset,i);yield{type:1,seq:e,key:i,block:s,offset:n.offset},o=s.sig,t=s.end}else{const e=PicoFeed.mapBlock(this.buf,t);if(0===e.size)return;if(t+e.size>this.buf.length)return;if(r){if(!o.equals(e.parentSig))return}else this._hasGenisis=e.parentSig.equals(Buffer$2.alloc(64));let n=!1;for(let i=this._keychain.length-1;i>=0;i--){if(n=e.verify(this._keychain[i]),!n)continue;const s=r++;e.key=this._keychain[i],this._cache[s]={offset:t,keyId:i},yield{type:1,seq:s,block:e,offset:t,key:this._keychain[i]},o=e.sig,t=e.end;break}if(!n)return}}}toString(){return this.pickle()}pickle(e=0){let t=encodeURIComponent(PicoFeed.PICKLE.toString("utf8"));const r=PicoFeed.KEY,n=PicoFeed.BLOCK,i=(e?this.slice(e):this)._index();for(const e of i)t+=e.type?n+b2ub(e.block.buffer):r+b2ub(e.key);return t}slice(e=0,t,r=!1){const n=new PicoFeed;for(const i of this.blocks(e,t))r||n._ensureKey(i.key),n._appendBlock(i.buffer);return n}_unpack(e){if(!e)throw new Error("Missing first argument");if("string"!=typeof e)throw new Error("url-friendly string expected");const t=encodeURIComponent(PicoFeed.PICKLE),r=encodeURIComponent(PicoFeed.KEY),n=encodeURIComponent(PicoFeed.BLOCK),i=e.indexOf(t);if(-1===i)throw new Error("NotPickleError");let o=t.length+i,s=0,c=0,u=-1,l=-1;const processChunk=()=>{if(-1!==u){const t=decodeURIComponent(e.substr(l,o-l-c-s+1));if(u)this._appendBlock(ub2b(t));else{const e=ub2b(t);if(e.length!==PicoFeed.KEY_SIZE)throw new Error("PSIG key wrong size: ");this._ensureKey(e)}u=-1}l=o+1,u=s?0:1,s=c=0};for(;o<e.length;)e[o]===r[s]?++s===r.length&&processChunk():s=0,e[o]===n[c]?++c===n.length&&processChunk():c=0,o++;processChunk()}truncate(e){if(0===e)return this.tail=0,this._cache=[],this._keychain=[],!0;const t=this.tail,r=this.get(e-1);if(this.tail=r.end,t===this.tail)return!1;let n=this._cache.length-e;for(;n--;)this._cache.pop();return!0}*blocks(e=0,t=0){for(e<0&&(e=this.length+e),t||(t=this.length),t<0&&(t=this.length+t+1);e<t;)yield this.get(e++)}_steal(e,t=!1){return t?(this.buf=Buffer$2.alloc(e.buf.length),e.buf.copy(this.buf),this._cache=e._cache.map((e=>({...e})))):(this.buf=e.buf,this._cache=[...e._cache]),this._keychain=[...e._keychain],this._hasGenisis=e._hasGenisis,this.tail=e.tail,e._robbed=!0,!0}_clearCache(){this._keychain=[],this._cache=[]}merge(e,t={},r=null){if("function"==typeof t)return this.merge(e,void 0,t);const n=t.forceCopy||!1;if(!e)throw new Error("First argument `source` expected by merge");const i=PicoFeed.from(e),o="function"==typeof r,s=o?e=>{let t=!1;return r(e,(()=>{t=!0})),t}:()=>!1,rebase=e=>{let t=!1;for(const r of e){const e=r.key;if(o){if(s(r))return t}this._ensureKey(e),this._appendBlock(r.buffer),t=!0}return t};if(!this.length)return o?rebase(i.blocks()):this._steal(i,n);const attemptReverseMerge=()=>{if(this._reverseMergeFlag)return!1;const e=i.clone();e._reverseMergeFlag=!0;const n=e.length;if((!o||!s(e.get(0)))&&e.merge(this,t,r)){if(n===e.length)throw new Error("InternalError:NothingMerged");return this._steal(e)}return!1};try{const e=this._compare(i);return e<1||rebase(i.blocks(i.length-e))}catch(e){switch(e.type){case"BlockConflict":return!1;case"NoCommonParent":return!!this.partial&&attemptReverseMerge()}throw e}}clone(){const e=new PicoFeed;return e._steal(this,!0),e}_compare(e){if(this===e)return 0;const t=[-1,-1],r=[this._index(),e._index()],n=[],i=[!1,!1],step=e=>{for(n[e]&&n[e].sig,n[e]=null;!n[e]&&!i[e];){const o=r[e].next();if(i[e]=i[e]||o.done,o.done&&void 0===o.value)break;o.value.type&&(t[e]++,n[e]=o.value.block)}},fastForward=e=>{const r=t[e]-1;for(;n[e];)step(e);return t[e]-r},mkErr=e=>{const r=new Error(e);return r.type=e,r.idxA=t[0],r.idxB=t[1],r};if(step(1),!n[1])return-fastForward(0);const o=n[1].parentSig;for(;!i[0]&&(step(0),n[0])&&!n[0].parentSig.equals(o);)if(n[0].sig.equals(o)&&this.length===t[0]+1)return fastForward(1);if(!n[0])throw mkErr("NoCommonParent");if(!n[0].sig.equals(n[1].sig))throw mkErr("BlockConflict");for(;;){if(step(0),step(1),!n[0]||!n[1])return n[0]||n[1]?n[0]?-fastForward(0):fastForward(1):0;if(!n[0].sig.equals(n[1].sig))throw mkErr("BlockConflict")}}inspect(e=!1){const t=[["ID","KEY","SIG","PARENT","HEX","ASCII"]],r=[2];let n=0;for(const e of this.blocks()){const i=e.body.slice(0,12).toString("utf8"),o=[""+n++,e.key.slice(0,2).toString("hex"),e.sig.slice(0,4).toString("hex"),e.isGenesis?"_GENESIS":e.parentSig.slice(0,4).toString("hex"),e.body.slice(0,6).toString("hex").replace(/(.{2})/g,"$1 ").trimEnd(),i];for(let e=0;e<o.length;e++)r[e]=Math.max(r[e]||0,o[e].length);t.push(o)}const i=[];for(const e of t)i.push("│ "+e.map(((e,t)=>e.padEnd(r[t]))).join(" │ ")+" │");if(i.splice(1,0,"├".padEnd(i[0].length-1,"─")+"┤"),e)return i.join("\n");console.log(i.join("\n"))}static isFeed(e){return e&&e[mi]}static from(e,t={}){if(PicoFeed.isFeed(e))return e;const r=new PicoFeed(t);if(e[bi])r._ensureKey(e.key),r._appendBlock(e.buffer);else if("string"==typeof e)r._unpack(e);else if("string"==typeof e.hash)r._unpack(e.hash);else{if(!Buffer$2.isBuffer(e))throw new Error("NotAFeed");r._unpack(e.toString("utf8"))}return r}static fromBlockArray(e){if(!Array.isArray(e))throw new Error("fromBlockArray() expects an Array of blocks");const t={};let r=0;for(const n of e)r+=n.size,t[n.key.toString("hex")]=1;const n=new PicoFeed,i=Object.keys(t).length*(PicoFeed.KEY_SIZE+PicoFeed.KEY.length)+e.length*PicoFeed.META_SIZE+r;n.buf=Buffer$2.alloc(i);for(const r of e)t[r.key.toString("hex")]<2&&n._appendKey(r.key),n._appendBlock(r.buffer);return n._reIndex(!0),n}static signPair(){const e=Buffer$2.allocUnsafe(fi),t=Buffer$2.allocUnsafe(di);return Ai(t,e),{sk:e,pk:t}}static mapBlock(e,t=0,r=null){const n=PicoFeed.SIGNATURE_SIZE,i=PicoFeed.COUNTER_SIZE,o=n+i,s={[bi]:!0,get start(){return t},get sig(){return e.subarray(t,t+n)},get header(){return e.subarray(t+n,t+n+o)},get parentSig(){return e.subarray(t+n,t+n+n)},get size(){return e.readUInt32BE(t+2*n)},set size(r){if("number"!=typeof r||r<0||r+t+n+o>e.length)throw new Error("Invalid blob size");return e.writeUInt32BE(r,t+2*n)},get body(){return e.subarray(t+n+o,s.safeEnd)},get dat(){return e.subarray(t+n,s.safeEnd)},get end(){return t+n+o+s.size},get safeEnd(){const r=s.size;if(r<1)throw new Error("Invalid blob size: "+r);const i=t+n+o+r;if(i>e.length)throw new Error("Incomplete or invalid block: end overflows buffer length"+i);return i},get next(){return PicoFeed.mapBlock(e,s.safeEnd)},verify:e=>gi(s.sig,s.dat,e),get buffer(){return e.subarray(t,s.safeEnd)},get key(){if(!r)throw new Error("InternalError:MissingKey");return r},set key(e){if(r)throw new Error("InternalError:KeyExists");r=e},get isGenesis(){return Ii.equals(s.parentSig)},[yi]:()=>`[BlockMapper] start: ${s.start}, blocksize: ${s.size}, id: ${s.sig.slice(0,6).toString("hex")}, parent: ${s.parentSig.slice(0,6).toString("hex")}`};return s}};function b2ub(e){return e.toString("base64").replace(/\+/,"-").replace(/\//g,"_").replace(/=+$/,"")}function ub2b(e){return e=(e=(e+"===").slice(0,e.length+e.length%4)).replace(/-/g,"+").replace(/_/g,"/"),Buffer$2.from(e,"base64")}const wi=Ei,_i=Symbol.for("PicoRepo");function mkKey(e,r){if(!t.Buffer.isBuffer(r))throw new Error("Expected key to be a Buffer");const n=t.Buffer.alloc(1+r.length);return r.copy(n,1),n[0]=e,n}var Bi,Ci,Si,ki=class PicoRepo$1{static isRepo(e){return e&&e[_i]}constructor(e,t=[]){this[_i]=!0,this._db=e,this.allowDetached=!1,this._strategies=Array.isArray(t)?t:[t];for(const e of this._strategies)if("function"!=typeof e)throw new Error("ExpectedCallback")}get mkKey(){return mkKey}async _setHeadPtr(e,t){const r=mkKey(0,e);return await this._db.put(r,t),t}async _setLatestPtr(e,t){const r=mkKey(3,e);return await this._db.put(r,t),t}async _getTag(e,t){const r=mkKey(e,t);return await this._db.get(r).catch((e=>{if(!e.notFound)throw e}))}async _getHeadPtr(e){return this._getTag(0,e)}async _getTailPtr(e){return this._getTag(2,e)}async _getLatestPtr(e){return this._getTag(3,e)}async _getChainPtr(e){return this._getTag(5,e)}async writeBlock(e){const r=mkKey(1,e.sig),n=t.Buffer.alloc(32+e.buffer.length);e.key.copy(n,0),e.buffer.copy(n,32);const i=[];if(i.push({type:"put",key:r,value:n}),e.isGenesis)i.push({type:"put",key:mkKey(2,e.key),value:e.sig}),i.push({type:"put",key:mkKey(5,e.sig),value:e.sig}),i.push({type:"put",key:mkKey(6,e.sig),value:e.sig});else{const t=mkKey(5,e.parentSig),r=await this._db.get(t);i.push({type:"del",key:t}),i.push({type:"put",key:mkKey(5,e.sig),value:r}),i.push({type:"put",key:mkKey(6,r),value:e.sig})}return await this._db.batch(i),!0}async readBlock(e){const t=mkKey(1,e),r=await this._db.get(t).catch((e=>{if(!e.notFound)throw e}));if(r)return wi.mapBlock(r,32,r.slice(0,32))}async _hasBlock(e){return!!await this.readBlock(e)}async _traceOwnerOf(e){let t=0;for await(const r of this._chainLoad(e)){if(r.isGenesis)return r.key;t++}if(t)throw new Error("Orphaned Chain")}async resolveFeed(e,t){let r=await this._getTag(5,e);if(r)return this.loadFeed(e,t);for await(const t of this._chainLoad(e))t.isGenesis&&(r=await this._getTag(6,t.sig));if(!r)throw new Error("Unknown feed");return this.loadFeed(r,t)}async merge(e,t){if(wi.isFeed(e)||(e=wi.from(e)),!e.length)return 0;let r=0,n=null;const i=e.first;if(n=i.isGenesis?i.key:await this._traceOwnerOf(i.parentSig),!n)throw new Error("CannotMerge: Unknown Chain");for(const i of e.blocks()){const e=i.key,o=i.sig;if(await this._hasBlock(o))continue;const bumpHead=async()=>{await this.writeBlock(i),await this._setHeadPtr(n,i.sig),await this._setLatestPtr(e,i.sig),r++},s=await this._getHeadPtr(n);if(!s){await bumpHead();continue}if(s.equals(i.parentSig)){await bumpHead();continue}if(this.allowDetached&&(i.isGenesis||await this._hasBlock(i.parentSig))){await bumpHead();continue}if(!await this._hasBlock(i.parentSig))break;let c=!1;for await(const e of this._chainLoad(i.parentSig))if(s.equals(e.sig)){c=!0;break}if(c)await bumpHead();else{if(!await this._queryUserStrategy(i,t))break;await bumpHead()}}return r}async _queryUserStrategy(e,t){for(const r of[t,...this._strategies]){if(!r)continue;const t=r(e,this);if("function"!=typeof t.then)throw new Error("PromiseExpected");if(await t)return!0}return!1}async loadHead(e,t){const r=await this._getHeadPtr(e);if(r)return this.loadFeed(r,t)}async loadLatest(e,t){const r=await this._getLatestPtr(e);if(r)return this.loadFeed(r,t)}async loadFeed(e,t){let r=0;Number.isInteger(t)&&t>0&&(r=t),r&&(t=(e,t)=>!--r&&t(!0));const n=[];for await(const r of this._chainLoad(e)){let e=!1,i=!1;if("function"==typeof t&&t(r,(t=>{t?i=!0:e=!0})),e||n.unshift(r),i||e)break}const i=wi.fromBlockArray(n);if(i.length)return i}async*_chainLoad(e){let t=!0;for(;;){const r=await this.readBlock(e);if(!r&&t)break;if(t=!1,!r)throw new Error("ParentNotFound");if(yield r,r.isGenesis)break;e=r.parentSig}}async rollback(e,t){let r=!1;const n=await this.loadHead(e,((e,n)=>{t&&e.sig.equals(t)&&(r=!0,n())}));if(t&&!r)throw new Error("ReferenceNotFound");const i=[],o=[],s={};for(let e=n.length-1;e>=0;e--){const t=n.get(e),r=t.key.toString("hex");s[r]||(s[r]=await this._getLatestPtr(t.key)),s[r]?.equals(t.sig)&&o.push(t.key),i.push({type:"del",key:mkKey(1,t.sig)})}const c=n.first.isGenesis;c&&i.push({type:"del",key:mkKey(2,e)}),i.push({type:"del",key:mkKey(0,e)}),t?i.push({type:"put",key:mkKey(0,e),value:t}):c||i.push({type:"put",key:mkKey(0,e),value:n.first.parentSig}),i.push({type:"del",key:mkKey(5,n.last.sig)});const u=await this._getTag(5,n.last.sig);u&&i.push({type:"del",key:mkKey(6,u)}),u&&!c&&(i.push({type:"put",key:mkKey(5,n.first.parentSig),value:u}),i.push({type:"put",key:mkKey(6,u),value:n.first.parentSig}));for(const e of o)i.push({type:"del",key:mkKey(3,e)});return await this._db.batch(i),n}get headOf(){return this._getHeadPtr}get tailOf(){return this._getTailPtr}get latestOf(){return this._getLatestPtr}get chainload(){return this._chainLoad}get ownerOf(){return this._traceOwnerOf}async writeReg(e,r){const n=mkKey(4,t.Buffer.from(e));return await this._db.put(n,t.Buffer.from(r)),!0}async readReg(e){const r=mkKey(4,t.Buffer.from(e));return await this._db.get(r).catch((e=>{if(!e.notFound)throw e}))}async listHeads(){return this._listRange({gt:mkKey(0,t.Buffer.alloc(32).fill(0)),lt:mkKey(0,t.Buffer.alloc(32).fill(255))})}async listTails(){return this._listRange({gt:mkKey(2,t.Buffer.alloc(32).fill(0)),lt:mkKey(2,t.Buffer.alloc(32).fill(255))})}async listLatest(){return this._listRange({gt:mkKey(3,t.Buffer.alloc(32).fill(0)),lt:mkKey(3,t.Buffer.alloc(32).fill(255))})}async listFeeds(){return this._listRange({gt:mkKey(5,t.Buffer.alloc(32).fill(0)),lt:mkKey(5,t.Buffer.alloc(32).fill(255))})}async listFeedHeads(){return this._listRange({gt:mkKey(6,t.Buffer.alloc(32).fill(0)),lt:mkKey(6,t.Buffer.alloc(32).fill(255))})}async _listRange(e){const t=this._db.iterator(e),r=[];for(;;)try{const[e,n]=await new Promise(((e,r)=>{t.next(((t,n,i)=>{t?r(t):e([n,i])}))}));if(!e)break;r.push({key:e.slice(1),value:n})}catch(e){console.warn("Iterator died with an error",e);break}return await new Promise(((e,r)=>{t.close((t=>t?r(t):e()))})),r}};try{Bi=new TextDecoder}catch(e){}var vi,xi,Ti,Di,Qi,Li=0,Ri={},Ui=0,Mi=0,Oi=[],Ni={useRecords:!1,mapsAsObjects:!0};class C1Type{}const Fi=new C1Type;Fi.name="MessagePack 0xC1";var $i=!1,Pi=2;try{new Function("")}catch(e){Pi=1/0}class Unpackr{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.sequential&&!1!==e.trusted&&(e.trusted=!0,e.structures||0==e.useRecords||(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(Ci)return saveState((()=>(clearSource(),this?this.unpack(e,t):Unpackr.prototype.unpack.call(Ni,e,t))));"object"==typeof t?(Si=t.end||e.length,Li=t.start||0):(Li=0,Si=t>-1?t:e.length),Mi=0,xi=null,Ti=null,Ci=e;try{Qi=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){if(Ci=null,e instanceof Uint8Array)throw t;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof Unpackr){if(Ri=this,this.structures)return vi=this.structures,checkedRead(t);(!vi||vi.length>0)&&(vi=[])}else Ri=Ni,(!vi||vi.length>0)&&(vi=[]);return checkedRead(t)}unpackMultiple(e,t){let r,n=0;try{$i=!0;let i=e.length,o=this?this.unpack(e,i):Zi.unpack(e,i);if(!t){for(r=[o];Li<i;)n=Li,r.push(checkedRead());return r}for(t(o);Li<i;)if(n=Li,!1===t(checkedRead()))return}catch(e){throw e.lastPosition=n,e.values=r,e}finally{$i=!1,clearSource()}}_mergeStructures(e,t){e=e||[],Object.isFrozen(e)&&(e=e.map((e=>e.slice(0))));for(let t=0,r=e.length;t<r;t++){let r=e[t];r&&(r.isShared=!0,t>=32&&(r.highByte=t-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let n=e[r],i=t[r];i&&(n&&((e.restoreStructures||(e.restoreStructures=[]))[r]=n),e[r]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function checkedRead(e){try{if(!Ri.trusted&&!$i){let e=vi.sharedLength||0;e<vi.length&&(vi.length=e)}let e;if(Ri.randomAccessStructure&&Ci[Li]<64&&Ci[Li],e=read(),Ti&&(Li=Ti.postBundlePosition),Li==Si)vi.restoreStructures&&restoreStructures(),vi=null,Ci=null,Di&&(Di=null);else{if(Li>Si)throw new Error("Unexpected end of MessagePack data");if(!$i)throw new Error("Data read, but end of buffer not reached "+JSON.stringify(e).slice(0,100))}return e}catch(e){throw vi?.restoreStructures&&restoreStructures(),clearSource(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||Li>Si)&&(e.incomplete=!0),e}}function restoreStructures(){for(let e in vi.restoreStructures)vi[e]=vi.restoreStructures[e];vi.restoreStructures=null}function read(){let e=Ci[Li++];if(e<160){if(e<128){if(e<64)return e;{let t=vi[63&e]||Ri.getStructures&&loadStructures()[63&e];return t?(t.read||(t.read=createStructureReader(t,63&e)),t.read()):e}}if(e<144){if(e-=128,Ri.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[readKey()]=read();return t}{let t=new Map;for(let r=0;r<e;r++)t.set(read(),read());return t}}{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=read();return Ri.freezeData?Object.freeze(t):t}}if(e<192){let t=e-160;if(Mi>=Li)return xi.slice(Li-Ui,(Li+=t)-Ui);if(0==Mi&&Si<140){let e=t<16?shortStringInJS(t):longStringInJS(t);if(null!=e)return e}return Ki(t)}{let t;switch(e){case 192:return null;case 193:return Ti?(t=read(),t>0?Ti[1].slice(Ti.position1,Ti.position1+=t):Ti[0].slice(Ti.position0,Ti.position0-=t)):Fi;case 194:return!1;case 195:return!0;case 196:if(t=Ci[Li++],void 0===t)throw new Error("Unexpected end of buffer");return readBin(t);case 197:return t=Qi.getUint16(Li),Li+=2,readBin(t);case 198:return t=Qi.getUint32(Li),Li+=4,readBin(t);case 199:return readExt(Ci[Li++]);case 200:return t=Qi.getUint16(Li),Li+=2,readExt(t);case 201:return t=Qi.getUint32(Li),Li+=4,readExt(t);case 202:if(t=Qi.getFloat32(Li),Ri.useFloat32>2){let e=Ji[(127&Ci[Li])<<1|Ci[Li+1]>>7];return Li+=4,(e*t+(t>0?.5:-.5)>>0)/e}return Li+=4,t;case 203:return t=Qi.getFloat64(Li),Li+=8,t;case 204:return Ci[Li++];case 205:return t=Qi.getUint16(Li),Li+=2,t;case 206:return t=Qi.getUint32(Li),Li+=4,t;case 207:return Ri.int64AsNumber?(t=4294967296*Qi.getUint32(Li),t+=Qi.getUint32(Li+4)):t=Qi.getBigUint64(Li),Li+=8,t;case 208:return Qi.getInt8(Li++);case 209:return t=Qi.getInt16(Li),Li+=2,t;case 210:return t=Qi.getInt32(Li),Li+=4,t;case 211:return Ri.int64AsNumber?(t=4294967296*Qi.getInt32(Li),t+=Qi.getUint32(Li+4)):t=Qi.getBigInt64(Li),Li+=8,t;case 212:if(t=Ci[Li++],114==t)return recordDefinition(63&Ci[Li++]);{let e=Oi[t];if(e)return e.read?(Li++,e.read(read())):e.noBuffer?(Li++,e()):e(Ci.subarray(Li,++Li));throw new Error("Unknown extension "+t)}case 213:return t=Ci[Li],114==t?(Li++,recordDefinition(63&Ci[Li++],Ci[Li++])):readExt(2);case 214:return readExt(4);case 215:return readExt(8);case 216:return readExt(16);case 217:return t=Ci[Li++],Mi>=Li?xi.slice(Li-Ui,(Li+=t)-Ui):ji(t);case 218:return t=Qi.getUint16(Li),Mi>=(Li+=2)?xi.slice(Li-Ui,(Li+=t)-Ui):Hi(t);case 219:return t=Qi.getUint32(Li),Mi>=(Li+=4)?xi.slice(Li-Ui,(Li+=t)-Ui):Wi(t);case 220:return t=Qi.getUint16(Li),Li+=2,readArray(t);case 221:return t=Qi.getUint32(Li),Li+=4,readArray(t);case 222:return t=Qi.getUint16(Li),Li+=2,readMap(t);case 223:return t=Qi.getUint32(Li),Li+=4,readMap(t);default:if(e>=224)return e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}const Yi=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(e,t){function readObject(){if(readObject.count++>Pi){let r=e.read=new Function("r","return function(){return "+(Ri.freezeData?"Object.freeze":"")+"({"+e.map((e=>Yi.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"})}")(read);return 0===e.highByte&&(e.read=createSecondByteReader(t,e.read)),r()}let r={};for(let t=0,n=e.length;t<n;t++){r[e[t]]=read()}return Ri.freezeData?Object.freeze(r):r}return readObject.count=0,0===e.highByte?createSecondByteReader(t,readObject):readObject}const createSecondByteReader=(e,t)=>function(){let r=Ci[Li++];if(0===r)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),i=vi[n]||loadStructures()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=createStructureReader(i,e)),i.read()};function loadStructures(){let e=saveState((()=>(Ci=null,Ri.getStructures())));return vi=Ri._mergeStructures(e,vi)}var Ki=readStringJS,ji=readStringJS,Hi=readStringJS,Wi=readStringJS;function readStringJS(e){let t;if(e<16&&(t=shortStringInJS(e)))return t;if(e>64&&Bi)return Bi.decode(Ci.subarray(Li,Li+=e));const r=Li+e,n=[];for(t="";Li<r;){const e=Ci[Li++];if(0==(128&e))n.push(e);else if(192==(224&e)){const t=63&Ci[Li++];n.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&Ci[Li++],r=63&Ci[Li++];n.push((31&e)<<12|t<<6|r)}else if(240==(248&e)){let t=(7&e)<<18|(63&Ci[Li++])<<12|(63&Ci[Li++])<<6|63&Ci[Li++];t>65535&&(t-=65536,n.push(t>>>10&1023|55296),t=56320|1023&t),n.push(t)}else n.push(e);n.length>=4096&&(t+=qi.apply(String,n),n.length=0)}return n.length>0&&(t+=qi.apply(String,n)),t}function readArray(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=read();return Ri.freezeData?Object.freeze(t):t}function readMap(e){if(Ri.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[readKey()]=read();return t}{let t=new Map;for(let r=0;r<e;r++)t.set(read(),read());return t}}var qi=String.fromCharCode;function longStringInJS(e){let t=Li,r=new Array(e);for(let n=0;n<e;n++){const e=Ci[Li++];if((128&e)>0)return void(Li=t);r[n]=e}return qi.apply(String,r)}function shortStringInJS(e){if(e<4){if(e<2){if(0===e)return"";{let e=Ci[Li++];return(128&e)>1?void(Li-=1):qi(e)}}{let t=Ci[Li++],r=Ci[Li++];if((128&t)>0||(128&r)>0)return void(Li-=2);if(e<3)return qi(t,r);let n=Ci[Li++];return(128&n)>0?void(Li-=3):qi(t,r,n)}}{let t=Ci[Li++],r=Ci[Li++],n=Ci[Li++],i=Ci[Li++];if((128&t)>0||(128&r)>0||(128&n)>0||(128&i)>0)return void(Li-=4);if(e<6){if(4===e)return qi(t,r,n,i);{let e=Ci[Li++];return(128&e)>0?void(Li-=5):qi(t,r,n,i,e)}}if(e<8){let o=Ci[Li++],s=Ci[Li++];if((128&o)>0||(128&s)>0)return void(Li-=6);if(e<7)return qi(t,r,n,i,o,s);let c=Ci[Li++];return(128&c)>0?void(Li-=7):qi(t,r,n,i,o,s,c)}{let o=Ci[Li++],s=Ci[Li++],c=Ci[Li++],u=Ci[Li++];if((128&o)>0||(128&s)>0||(128&c)>0||(128&u)>0)return void(Li-=8);if(e<10){if(8===e)return qi(t,r,n,i,o,s,c,u);{let e=Ci[Li++];return(128&e)>0?void(Li-=9):qi(t,r,n,i,o,s,c,u,e)}}if(e<12){let l=Ci[Li++],h=Ci[Li++];if((128&l)>0||(128&h)>0)return void(Li-=10);if(e<11)return qi(t,r,n,i,o,s,c,u,l,h);let f=Ci[Li++];return(128&f)>0?void(Li-=11):qi(t,r,n,i,o,s,c,u,l,h,f)}{let l=Ci[Li++],h=Ci[Li++],f=Ci[Li++],d=Ci[Li++];if((128&l)>0||(128&h)>0||(128&f)>0||(128&d)>0)return void(Li-=12);if(e<14){if(12===e)return qi(t,r,n,i,o,s,c,u,l,h,f,d);{let e=Ci[Li++];return(128&e)>0?void(Li-=13):qi(t,r,n,i,o,s,c,u,l,h,f,d,e)}}{let p=Ci[Li++],A=Ci[Li++];if((128&p)>0||(128&A)>0)return void(Li-=14);if(e<15)return qi(t,r,n,i,o,s,c,u,l,h,f,d,p,A);let y=Ci[Li++];return(128&y)>0?void(Li-=15):qi(t,r,n,i,o,s,c,u,l,h,f,d,p,A,y)}}}}}function readOnlyJSString(){let e,t=Ci[Li++];if(t<192)e=t-160;else switch(t){case 217:e=Ci[Li++];break;case 218:e=Qi.getUint16(Li),Li+=2;break;case 219:e=Qi.getUint32(Li),Li+=4;break;default:throw new Error("Expected string")}return readStringJS(e)}function readBin(e){return Ri.copyBuffers?Uint8Array.prototype.slice.call(Ci,Li,Li+=e):Ci.subarray(Li,Li+=e)}function readExt(e){let t=Ci[Li++];if(Oi[t]){let r;return Oi[t](Ci.subarray(Li,r=Li+=e),(e=>{Li=e;try{return read()}finally{Li=r}}))}throw new Error("Unknown extension type "+t)}var Gi=new Array(4096);function readKey(){let e=Ci[Li++];if(!(e>=160&&e<192))return Li--,read();if(e-=160,Mi>=Li)return xi.slice(Li-Ui,(Li+=e)-Ui);if(!(0==Mi&&Si<180))return Ki(e);let t,r=4095&(e<<5^(e>1?Qi.getUint16(Li):e>0?Ci[Li]:0)),n=Gi[r],i=Li,o=Li+e-3,s=0;if(n&&n.bytes==e){for(;i<o;){if(t=Qi.getUint32(i),t!=n[s++]){i=1879048192;break}i+=4}for(o+=3;i<o;)if(t=Ci[i++],t!=n[s++]){i=1879048192;break}if(i===o)return Li=i,n.string;o-=3,i=Li}for(n=[],Gi[r]=n,n.bytes=e;i<o;)t=Qi.getUint32(i),n.push(t),i+=4;for(o+=3;i<o;)t=Ci[i++],n.push(t);let c=e<16?shortStringInJS(e):longStringInJS(e);return n.string=null!=c?c:Ki(e)}const recordDefinition=(e,t)=>{var r=read();let n=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=vi[e];return i&&i.isShared&&((vi.restoreStructures||(vi.restoreStructures=[]))[e]=i),vi[e]=r,r.read=createStructureReader(r,n),r.read()};Oi[0]=()=>{},Oi[0].noBuffer=!0,Oi[101]=()=>{let e=read();return(globalThis[e[0]]||Error)(e[1])},Oi[105]=e=>{let t=Qi.getUint32(Li-4);Di||(Di=new Map);let r,n=Ci[Li];r=n>=144&&n<160||220==n||221==n?[]:{};let i={target:r};Di.set(t,i);let o=read();return i.used?Object.assign(r,o):(i.target=o,o)},Oi[112]=e=>{let t=Qi.getUint32(Li-4),r=Di.get(t);return r.used=!0,r.target},Oi[115]=()=>new Set(read());const Vi=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));Oi[116]=e=>{let t=e[0],r=Vi[t];if(!r)throw new Error("Could not find typed array for code "+t);return new globalThis[r](Uint8Array.prototype.slice.call(e,1).buffer)},Oi[120]=()=>{let e=read();return new RegExp(e[0],e[1])};const zi=[];function saveState(e){let t=Si,r=Li,n=Ui,i=Mi,o=xi,s=Di,c=Ti,u=new Uint8Array(Ci.slice(0,Si)),l=vi,h=vi.slice(0,vi.length),f=Ri,d=$i,p=e();return Si=t,Li=r,Ui=n,Mi=i,xi=o,Di=s,Ti=c,Ci=u,$i=d,(vi=l).splice(0,vi.length,...h),Ri=f,Qi=new DataView(Ci.buffer,Ci.byteOffset,Ci.byteLength),p}function clearSource(){Ci=null,Di=null,vi=null}Oi[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=Li;return Li+=t-e.length,Ti=zi,(Ti=[readOnlyJSString(),readOnlyJSString()]).position0=0,Ti.position1=0,Ti.postBundlePosition=Li,Li=r,read()},Oi[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const Ji=new Array(147);for(let e=0;e<256;e++)Ji[e]=+("1e"+Math.floor(45.15-.30103*e));const Xi=Unpackr;var Zi=new Unpackr({useRecords:!1});const eo=Zi.unpack,to=Zi.unpackMultiple,ro=Zi.unpack,no={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};let io,oo,so,ao=new Float32Array(1),co=new Uint8Array(ao.buffer,0,4);try{io=new TextEncoder}catch(e){}const uo=void 0!==t.Buffer,lo=uo?function(e){return t.Buffer.allocUnsafeSlow(e)}:Uint8Array,ho=uo?t.Buffer:Uint8Array,fo=uo?4294967296:2144337920;let po,go,Ao,yo,bo=0,mo=null;const Io=/[\u0080-\uFFFF]/,Eo=Symbol("record-id");class Packr$1 extends Unpackr{constructor(e){let t,r,n,i;super(e),this.offset=0;let o=ho.prototype.utf8Write?function(e,t){return po.utf8Write(e,t,4294967295)}:!(!io||!io.encodeInto)&&function(e,t){return io.encodeInto(e,po.subarray(t)).written},s=this;e||(e={});let c=e&&e.sequential,u=e.structures||e.saveStructures,l=e.maxSharedStructures;if(null==l&&(l=u?32:0),l>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&null==e.moreTypes&&(e.moreTypes=!0);let h=e.maxOwnStructures;null==h&&(h=u?32:64),this.structures||0==e.useRecords||(this.structures=[]);let f=l>32||h+l>64,d=l+64,p=l+h+64;if(p>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let A=[],y=0,b=0;this.pack=this.encode=function(e,o){if(po||(po=new lo(8192),Ao=po.dataView=new DataView(po.buffer,0,8192),bo=0),yo=po.length-10,yo-bo<2048?(po=new lo(po.length),Ao=po.dataView=new DataView(po.buffer,0,po.length),yo=po.length-10,bo=0):bo=bo+7&2147483640,t=bo,i=s.structuredClone?new Map:null,s.bundleStrings&&"string"!=typeof e?(mo=[],mo.size=1/0):mo=null,n=s.structures,n){n.uninitialized&&(n=s._mergeStructures(s.getStructures()));let e=n.sharedLength||0;if(e>l)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let t=0;t<e;t++){let e=n[t];if(!e)continue;let r,i=n.transitions;for(let t=0,n=e.length;t<n;t++){let n=e[t];r=i[n],r||(r=i[n]=Object.create(null)),i=r}i[Eo]=t+64}this.lastNamedStructuresLength=e}c||(n.nextId=e+64)}r&&(r=!1);try{if(s.randomAccessStructure&&e.constructor&&e.constructor===Object?writeStruct(e):pack(e),mo&&writeBundles(t,pack),s.offset=bo,i&&i.idsToInsert){bo+=6*i.idsToInsert.length,bo>yo&&makeRoom(bo),s.offset=bo;let e=function insertIds(e,t){let r,n=6*t.length,i=e.length-n;t.sort(((e,t)=>e.offset>t.offset?1:-1));for(;r=t.pop();){let t=r.offset,o=r.id;e.copyWithin(t+n,t,i),n-=6;let s=t+n;e[s++]=214,e[s++]=105,e[s++]=o>>24,e[s++]=o>>16&255,e[s++]=o>>8&255,e[s++]=255&o,i=t}return e}(po.subarray(t,bo),i.idsToInsert);return i=null,e}return o&To?(po.start=t,po.end=bo,po):po.subarray(t,bo)}finally{if(n){b<10&&b++;let i=n.sharedLength||0;if(n.length>i&&(n.length=i),y>1e4)n.transitions=null,b=0,y=0,A.length>0&&(A=[]);else if(A.length>0&&!c){for(let e=0,t=A.length;e<t;e++)A[e][Eo]=0;A=[]}if(r&&s.saveStructures){let r=po.subarray(t,bo),o=function prepareStructures(e,t){return e.isCompatible=e=>{let r=!e||(t.lastNamedStructuresLength||0)===e.length;return r||t._mergeStructures(e),r},e}(n,s);return!1===s.saveStructures(o,o.isCompatible)?s.pack(e):(s.lastNamedStructuresLength=i,r)}}o&Do&&(bo=t)}};const pack=e=>{bo>yo&&(po=makeRoom(bo));var r,n=typeof e;if("string"===n){let n,i=e.length;if(mo&&i>=4&&i<4096){if((mo.size+=i)>61440){let e,r=(mo[0]?3*mo[0].length+mo[1].length:0)+10;bo+r>yo&&(po=makeRoom(bo+r)),mo.position?(po[bo]=200,bo+=3,po[bo++]=98,e=bo-t,bo+=4,writeBundles(t,pack),Ao.setUint16(e+t-3,bo-t-e)):(po[bo++]=214,po[bo++]=98,e=bo-t,bo+=4),mo=["",""],mo.size=0,mo.position=e}let r=Io.test(e);return mo[r?0:1]+=e,po[bo++]=193,void pack(r?-i:i)}n=i<32?1:i<256?2:i<65536?3:5;let s=3*i;if(bo+s>yo&&(po=makeRoom(bo+s)),i<64||!o){let t,o,s,c=bo+n;for(t=0;t<i;t++)o=e.charCodeAt(t),o<128?po[c++]=o:o<2048?(po[c++]=o>>6|192,po[c++]=63&o|128):55296==(64512&o)&&56320==(64512&(s=e.charCodeAt(t+1)))?(o=65536+((1023&o)<<10)+(1023&s),t++,po[c++]=o>>18|240,po[c++]=o>>12&63|128,po[c++]=o>>6&63|128,po[c++]=63&o|128):(po[c++]=o>>12|224,po[c++]=o>>6&63|128,po[c++]=63&o|128);r=c-bo-n}else r=o(e,bo+n);r<32?po[bo++]=160|r:r<256?(n<2&&po.copyWithin(bo+2,bo+1,bo+1+r),po[bo++]=217,po[bo++]=r):r<65536?(n<3&&po.copyWithin(bo+3,bo+2,bo+2+r),po[bo++]=218,po[bo++]=r>>8,po[bo++]=255&r):(n<5&&po.copyWithin(bo+5,bo+3,bo+3+r),po[bo++]=219,Ao.setUint32(bo,r),bo+=4),bo+=r}else if("number"===n)if(e>>>0===e)e<32||e<128&&!1===this.useRecords||e<64&&!this.randomAccessStructure?po[bo++]=e:e<256?(po[bo++]=204,po[bo++]=e):e<65536?(po[bo++]=205,po[bo++]=e>>8,po[bo++]=255&e):(po[bo++]=206,Ao.setUint32(bo,e),bo+=4);else if(e>>0===e)e>=-32?po[bo++]=256+e:e>=-128?(po[bo++]=208,po[bo++]=e+256):e>=-32768?(po[bo++]=209,Ao.setInt16(bo,e),bo+=2):(po[bo++]=210,Ao.setInt32(bo,e),bo+=4);else{let t;if((t=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){let r;if(po[bo++]=202,Ao.setFloat32(bo,e),t<4||(r=e*Ji[(127&po[bo])<<1|po[bo+1]>>7])>>0===r)return void(bo+=4);bo--}po[bo++]=203,Ao.setFloat64(bo,e),bo+=8}else if("object"===n)if(e){if(i){let r=i.get(e);if(r){if(!r.id){let e=i.idsToInsert||(i.idsToInsert=[]);r.id=e.push(r)}return po[bo++]=214,po[bo++]=112,Ao.setUint32(bo,r.id),void(bo+=4)}i.set(e,{offset:bo-t})}let n=e.constructor;if(n===Object)m(e,!0);else if(n===Array){(r=e.length)<16?po[bo++]=144|r:r<65536?(po[bo++]=220,po[bo++]=r>>8,po[bo++]=255&r):(po[bo++]=221,Ao.setUint32(bo,r),bo+=4);for(let t=0;t<r;t++)pack(e[t])}else if(n===Map){(r=e.size)<16?po[bo++]=128|r:r<65536?(po[bo++]=222,po[bo++]=r>>8,po[bo++]=255&r):(po[bo++]=223,Ao.setUint32(bo,r),bo+=4);for(let[t,r]of e)pack(t),pack(r)}else{for(let t=0,r=oo.length;t<r;t++){if(e instanceof so[t]){let r=oo[t];if(r.write)return r.type&&(po[bo++]=212,po[bo++]=r.type,po[bo++]=0),void pack(r.write.call(this,e));let n,i=po,o=Ao,s=bo;po=null;try{n=r.pack.call(this,e,(e=>(po=i,i=null,bo+=e,bo>yo&&makeRoom(bo),{target:po,targetView:Ao,position:bo-e})),pack)}finally{i&&(po=i,Ao=o,bo=s,yo=po.length-10)}return void(n&&(n.length+bo>yo&&makeRoom(n.length+bo),bo=writeExtensionData(n,po,bo,r.type)))}}m(e,!e.hasOwnProperty)}}else po[bo++]=192;else if("boolean"===n)po[bo++]=e?195:194;else if("bigint"===n){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))po[bo++]=211,Ao.setBigInt64(bo,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)po[bo++]=207,Ao.setBigUint64(bo,e);else{if(!this.largeBigIntToFloat)throw new RangeError(e+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");po[bo++]=203,Ao.setFloat64(bo,Number(e))}bo+=8}else if("undefined"===n)this.encodeUndefinedAsNil?po[bo++]=192:(po[bo++]=212,po[bo++]=0,po[bo++]=0);else{if("function"!==n)throw new Error("Unknown type: "+n);pack(this.writeFunction&&this.writeFunction())}},m=!1===this.useRecords?this.variableMapSize?e=>{let t,r=Object.keys(e),n=r.length;n<16?po[bo++]=128|n:n<65536?(po[bo++]=222,po[bo++]=n>>8,po[bo++]=255&n):(po[bo++]=223,Ao.setUint32(bo,n),bo+=4);for(let i=0;i<n;i++)pack(t=r[i]),pack(e[t])}:(e,r)=>{po[bo++]=222;let n=bo-t;bo+=2;let i=0;for(let t in e)(r||e.hasOwnProperty(t))&&(pack(t),pack(e[t]),i++);po[n+++t]=i>>8,po[n+t]=255&i}:e.progressiveRecords&&!f?(e,r)=>{let i,o,s=n.transitions||(n.transitions=Object.create(null)),c=bo++-t;for(let u in e)if(r||e.hasOwnProperty(u)){if(i=s[u],i)s=i;else{let r=Object.keys(e),l=s;s=n.transitions;let h=0;for(let e=0,t=r.length;e<t;e++){let t=r[e];i=s[t],i||(i=s[t]=Object.create(null),h++),s=i}c+t+1==bo?(bo--,newRecord(s,r,h)):insertNewRecord(s,r,c,h),o=!0,s=l[u]}pack(e[u])}if(!o){let r=s[Eo];r?po[c+t]=r:insertNewRecord(s,Object.keys(e),c,0)}}:(e,t)=>{let r,i=n.transitions||(n.transitions=Object.create(null)),o=0;for(let n in e)(t||e.hasOwnProperty(n))&&(r=i[n],r||(r=i[n]=Object.create(null),o++),i=r);let s=i[Eo];s?s>=96&&f?(po[bo++]=96+(31&(s-=96)),po[bo++]=s>>5):po[bo++]=s:newRecord(i,i.__keys__||Object.keys(e),o);for(let r in e)(t||e.hasOwnProperty(r))&&pack(e[r])},makeRoom=e=>{let r;if(e>16777216){if(e-t>fo)throw new Error("Packed buffer would be larger than maximum buffer size");r=Math.min(fo,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else r=1+(Math.max(e-t<<2,po.length-1)>>12)<<12;let n=new lo(r);return Ao=n.dataView=new DataView(n.buffer,0,r),e=Math.min(e,po.length),po.copy?po.copy(n,0,t,e):n.set(po.slice(t,e)),bo-=t,t=0,yo=n.length-10,po=n},newRecord=(e,t,i)=>{let o=n.nextId;o||(o=64),o<d&&this.shouldShareStructure&&!this.shouldShareStructure(t)?(o=n.nextOwnId,o<p||(o=d),n.nextOwnId=o+1):(o>=p&&(o=d),n.nextId=o+1);let s=t.highByte=o>=96&&f?o-96>>5:-1;e[Eo]=o,e.__keys__=t,n[o-64]=t,o<d?(t.isShared=!0,n.sharedLength=o-63,r=!0,s>=0?(po[bo++]=96+(31&o),po[bo++]=s):po[bo++]=o):(s>=0?(po[bo++]=213,po[bo++]=114,po[bo++]=96+(31&o),po[bo++]=s):(po[bo++]=212,po[bo++]=114,po[bo++]=o),i&&(y+=b*i),A.length>=h&&(A.shift()[Eo]=0),A.push(e),pack(t))},insertNewRecord=(e,r,n,i)=>{let o=po,s=bo,c=yo,u=t;po=go,bo=0,t=0,po||(go=po=new lo(8192)),yo=po.length-10,newRecord(e,r,i),go=po;let l=bo;if(po=o,bo=s,yo=c,t=u,l>1){let e=bo+l-1;e>yo&&makeRoom(e);let r=n+t;po.copyWithin(r+l,r+1,bo),po.set(go.slice(0,l),r),bo=e}else po[n+t]=go[0]},writeStruct=(e,i)=>{let o=undefined(e,po,bo,n,makeRoom,((e,n,i)=>{if(i)return r=!0;if(bo=n,t>0){if(pack(e),0==t)return{position:bo,targetView:Ao,target:po}}else pack(e);return bo}),this);if(0===o)return m(e,!0);bo=o}}useBuffer(e){po=e,Ao=new DataView(po.buffer,po.byteOffset,po.byteLength),bo=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function writeExtBuffer(e,t,r,n){let i=e.byteLength;if(i+1<256){var{target:o,position:s}=r(4+i);o[s++]=199,o[s++]=i+1}else if(i+1<65536){var{target:o,position:s}=r(5+i);o[s++]=200,o[s++]=i+1>>8,o[s++]=i+1&255}else{var{target:o,position:s,targetView:c}=r(7+i);o[s++]=201,c.setUint32(s,i+1),s+=4}o[s++]=116,o[s++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function writeBuffer(e,t){let r=e.byteLength;var n,i;if(r<256){var{target:n,position:i}=t(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=t(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=255&r}else{var{target:n,position:i,targetView:o}=t(r+5);n[i++]=198,o.setUint32(i,r),i+=4}n.set(e,i)}function writeExtensionData(e,t,r,n){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):i<65536?(t[r++]=200,t[r++]=i>>8,t[r++]=255&i):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255,t[r++]=255&i)}return t[r++]=n,t.set(e,r),r+=i}function writeBundles(e,t){if(mo.length>0){Ao.setUint32(mo.position+e,bo-mo.position-e);let r=mo;mo=null,t(r[0]),t(r[1])}}so=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,C1Type],oo=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&n>=0&&n<4294967296){let{target:e,targetView:r,position:i}=t(6);e[i++]=214,e[i++]=255,r.setUint32(i,n)}else if(n>0&&n<4294967296){let{target:r,targetView:i,position:o}=t(10);r[o++]=215,r[o++]=255,i.setUint32(o,4e6*e.getMilliseconds()+(n/1e3/4294967296>>0)),i.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:e,targetView:n,position:i}=t(3);e[i++]=212,e[i++]=255,e[i++]=255}else{let{target:r,targetView:i,position:o}=t(15);r[o++]=199,r[o++]=12,r[o++]=255,i.setUint32(o,1e6*e.getMilliseconds()),i.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){let n=Array.from(e),{target:i,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),r(n)}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),r([e.source,e.flags])}},{pack(e,r){this.moreTypes?writeExtBuffer(e,16,r):writeBuffer(uo?t.Buffer.from(e):new Uint8Array(e),r)}},{pack(e,t){let r=e.constructor;r!==ho&&this.moreTypes?writeExtBuffer(e,Vi.indexOf(r.name),t):writeBuffer(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];let wo=new Packr$1({useRecords:!1});const _o=wo.pack,Bo=wo.pack,Co=Packr$1,{NEVER:So,ALWAYS:ko,DECIMAL_ROUND:vo,DECIMAL_FIT:xo}=no,To=512,Do=1024;const Qo=function unpackIter(e,r={}){if(!e||"object"!=typeof e)throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");const n=new Unpackr(r);let i;const parser=e=>{let r;i&&(e=t.Buffer.concat([i,e]),i=void 0);try{r=n.unpackMultiple(e)}catch(t){if(!t.incomplete)throw t;i=e.slice(t.lastPosition),r=t.values}return r};return"function"==typeof e[Symbol.iterator]?function*iter(){for(const t of e)yield*parser(t)}():"function"==typeof e[Symbol.asyncIterator]?async function*iter(){for await(const t of e)yield*parser(t)}():void 0},Lo=function packIter(e,t={}){if(e&&"object"==typeof e){if("function"==typeof e[Symbol.iterator])return function*packIterSync(e,t){const r=new Packr$1(t);for(const t of e)yield r.pack(t)}(e,t);if("function"==typeof e.then||"function"==typeof e[Symbol.asyncIterator])return async function*packIterAsync(e,t){const r=new Packr$1(t);for await(const t of e)yield r.pack(t)}(e,t);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable")};var Ro=getAugmentedNamespace(Object.freeze({__proto__:null,useRecords:!1,mapsAsObjects:!0,Packr:Packr$1,Encoder:Co,addExtension:function addExtension(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");so.unshift(e.Class),oo.unshift(e)}!function addExtension$1(e){e.unpack?Oi[e.type]=e.unpack:Oi[e.type]=e}(e)},pack:_o,encode:Bo,NEVER:So,ALWAYS:ko,DECIMAL_ROUND:vo,DECIMAL_FIT:xo,REUSE_BUFFER_MODE:To,Unpackr:Unpackr,Decoder:Xi,C1:Fi,unpack:eo,unpackMultiple:to,decode:ro,FLOAT32_OPTIONS:no,clearSource:clearSource,roundFloat32:function roundFloat32(e){ao[0]=e;let t=Ji[(127&co[3])<<1|co[2]>>7];return(t*e+(e>0?.5:-.5)>>0)/t},isNativeAccelerationEnabled:!1,decodeIter:Qo,encodeIter:Lo}));const Uo=ki,Mo=Ei,{Packr:Oo,pack:No,unpack:Fo}=Ro;var $o=class PicoStore{constructor(e,t){this.repo=Uo.isRepo(e)?e:new Uo(e),this.cache=new SparseBlockCache(this.repo._db),this._strategy=t||(()=>{}),this._stores=[],this._loaded=!1,this._mutex=Promise.resolve(0),this._tap=null,this._packr=null,this.mutexTimeout=5e3}async _waitLock(){const e=this._mutex;let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));this._mutex=n;let i=null;try{throw new Error("MutexTimeout")}catch(e){i=e}const o=setTimeout((()=>{console.error("MutexTimeout",i.stack),r(i)}),this.mutexTimeout);return await e,()=>{clearTimeout(o),t()}}register(e,t,r,n,i){if(this._loaded)throw new Error("register() must be invoked before load()");return"string"!=typeof e?this.register(e.name,e.initialValue,e.filter,e.reducer,e.trap):"function"==typeof t?this.register(e,void 0,t,r):void this._stores.push({name:e,validator:r,reducer:n,trap:i,version:0,head:void 0,value:t,initialValue:t,observers:new Set})}async load(){const e=await this._waitLock();if(this._loaded)throw new Error("Store already loaded");let t=await this.repo.readReg("msgpackr::structs");t=t?Fo(t):[],this._packr=new Oo({structures:t,saveStructures:()=>this.repo.writeReg("msgpackr::structs",No(t)).catch(console.error.bind(null,"Failed saving msgpackr:structs"))});for(const e of this._stores){const t=await this.repo.readReg(`HEADS/${e.name}`);if(t){e.head=t,e.version=this._decodeValue(await this.repo.readReg(`VER/${e.name}`)),e.value=this._decodeValue(await this.repo.readReg(`STATES/${e.name}`));for(const t of e.observers)t(e.value)}}this._loaded=!0,e()}async dispatch(e,t){const r=await this._waitLock();try{const n=await this._dispatch(e,t);return r(),n}catch(e){throw r(),e}}async _dispatch(e,t=!1){if(!this._loaded)throw Error("Store not ready, call load()");e=Mo.from(e);let r=null;try{const t=e.first.isGenesis?e.first.sig:e.first.parentSig;r=await this.repo.resolveFeed(t)}catch(t){if("Unknown feed"!==t.message)throw t;if(!e.first.isGenesis)return await this.cache.push(e),[];r=new Mo}for(const t of e.blocks()){const[r,n]=await this.cache.pop(t.parentSig,t.sig);r&&assert(!e.merge(r),"Backward merge failed"),n&&assert(!e.merge(n),"Forwrad merge failed")}if(!r.clone().merge(e)){if(t)throw new Error("UnmergablePatch");return[]}const n={};r.first?.isGenesis?(n.HEAD=r.first.key,n.CHAIN=r.first.sig):!r.length&&e.first.isGenesis&&(n.HEAD=e.first.key,n.CHAIN=e.first.sig);const i=r.length?r._compare(e):e.length;if(i<1)return[];const o=new Set,s=this.state;let c=null;const u=e.get(-i);if(!u.isGenesis&&!r.length){if(t)throw new Error("NoCommonParent");return[]}if(!u.isGenesis&&r.length){const e=r.blocks();let t=e.next();for(;!c&&!t.done;)t.value.sig.equals(u.parentSig)&&(c=t.value),t=e.next();if(!c)throw new Error("ParentNotFound")}let l=0;for(const r of e.blocks(-i)){const e=[];for(const i of this._stores){if("function"!=typeof i.validator)continue;let o=i.validator({block:r,parentBlock:c,state:i.value,root:s,...n});if(o){if(!0===o);else if(t)throw"string"==typeof o&&(o=new Error(`InvalidBlock: ${o}`)),o}else e.push(i)}if(!e.length)break;const i=await this._mutateState(r,c,n,!1,t);for(const e of i)o.add(e);c=r,l++}this._notifyObservers(o);const h=Array.from(o);return Object.defineProperty(h,"patch",{enumerable:!1,get:()=>e.slice(-i,-i+l)}),h}async _mutateState(e,t,r,n=!1,i=!1){const o=[],s=[];for(const n of this._stores){if("function"!=typeof n.validator)continue;if("function"!=typeof n.reducer)continue;const i=this.state;n.validator({block:e,parentBlock:t,state:n.value,root:i,...r})||s.push(n)}if(s.length){const t=await this.repo.merge(e,this._strategy);if(!n&&!t)return i&&console.warn("RejectedByBucket: MergeStrategy failed"),o}const c=[],signal=(e,t)=>c.push([e,t]);for(const n of s){const i=this.state,s=n.reducer({block:e,parentBlock:t,state:n.value,root:i,signal:signal,...r});void 0===s&&console.warn("Reducer returned `undefined` state."),await this._commitHead(n,e.sig,s),o.push(n.name)}for(const[n,i]of c)for(const s of this._stores){if("function"!=typeof s.trap)continue;const c=this.state,u=s.trap({code:n,payload:i,block:e,parentBlock:t,state:s.value,root:c,...r});void 0!==u&&(await this._commitHead(s,e.sig,u),o.push(s.name))}if("function"==typeof this._tap)for(const[e,t]of c)this._tap(e,t);return o}_notifyObservers(e){for(const t of e){const e=this._stores.find((e=>e.name===t));for(const t of e.observers)t(e.value)}}async _commitHead(e,t,r){await this.repo.writeReg(`STATES/${e.name}`,this._encodeValue(r)),await this.repo.writeReg(`HEADS/${e.name}`,t),await this.repo.writeReg(`VER/${e.name}`,this._encodeValue(e.version++)),e.value=r,e.head=t}get state(){return this._stores.reduce(((e,t)=>(e[t.name]=t.value,e)),{})}async reload(){const e=await this._waitLock();try{const t=[],r=await this.repo.listFeeds();for(const e of this._stores){e.value=e.initialValue,e.version=0,e.head=void 0;for(const t of e.observers)t(e.value)}for(const{key:e,value:n}of r){const r=await this.repo.loadFeed(e),i={HEAD:r.first.key,CHAIN:n};let o=null;for(const e of r.blocks()){const r=await this._mutateState(e,o,i,!0);for(const e of r)~t.indexOf(e)||t.push(e);o=e}}return e(),this._notifyObservers(t),t}catch(t){throw e(),t}}on(e,t){const r=this._stores.find((t=>t.name===e));if(!r)throw new Error(`No such store: "${e}"`);if("function"!=typeof t)throw new Error("observer must be a function");return r.observers.add(t),t(r.value),()=>r.observers.delete(t)}hotswap(e){const t=this.repo;this.repo=e instanceof Uo?e:new Uo(e);return[this.reload(),t._db.clear()]}_decodeValue(e){return e?this._packr.unpack(e):e}_encodeValue(e){return this._packr.pack(e)}};class SparseBlockCache{constructor(e){this.blocks=e.sublevel("b",{keyEncoding:"buffer",valueEncoding:"buffer"}),this.refs=e.sublevel("r",{keyEncoding:"buffer",valueEncoding:"buffer"})}async push(e){if(e.first.isGenesis)throw new Error("GenesisRefused");for(const t of e.blocks())await this.refs.put(t.parentSig,t.sig),await this._writeBlock(t)}async pop(e,t){const r=[],n=[],i=[];let o=e,s=[];for(;;){const e=await this._readBlock(o);if(!e)break;r.push(e.parentSig),n.push(e.parentSig),s.push(e),o=e.parentSig}for(s.length&&i.push(Mo.fromBlockArray(s)),o=t,s=[];;){const e=await this.refs.get(o).catch(ignore404);if(!e)break;const t=await this._readBlock(e);r.push(e),n.push(t.sig),s.push(t),o=t.sig}return s.length&&i.push(Mo.fromBlockArray(s)),await Promise.all([this.blocks.batch(n.map((e=>({type:"del",key:e})))),this.refs.batch(r.map((e=>({type:"del",key:e}))))]),i}async _writeBlock(e){const r=e.sig,n=t.Buffer.alloc(32+e.buffer.length);e.key.copy(n,0),e.buffer.copy(n,32),await this.blocks.put(r,n)}async _readBlock(e){const t=await this.blocks.get(e).catch(ignore404);if(t)return Mo.mapBlock(t,32,t.slice(0,32))}async _hasBlock(e){return!!await this.readBlock(e)}}function ignore404(e){if(!e.notFound)throw e}function assert(e,t){if(e)throw new Error(t||"AssertionError")}var Po={exports:{}};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var Yo=defaultSetTimout,Ko=defaultClearTimeout;function runTimeout(e){if(Yo===setTimeout)return setTimeout(e,0);if((Yo===defaultSetTimout||!Yo)&&setTimeout)return Yo=setTimeout,setTimeout(e,0);try{return Yo(e,0)}catch(t){try{return Yo.call(null,e,0)}catch(t){return Yo.call(this,e,0)}}}"function"==typeof L.setTimeout&&(Yo=setTimeout),"function"==typeof L.clearTimeout&&(Ko=clearTimeout);var jo,Ho=[],Wo=!1,qo=-1;function cleanUpNextTick(){Wo&&jo&&(Wo=!1,jo.length?Ho=jo.concat(Ho):qo=-1,Ho.length&&drainQueue())}function drainQueue(){if(!Wo){var e=runTimeout(cleanUpNextTick);Wo=!0;for(var t=Ho.length;t;){for(jo=Ho,Ho=[];++qo<t;)jo&&jo[qo].run();qo=-1,t=Ho.length}jo=null,Wo=!1,function runClearTimeout(e){if(Ko===clearTimeout)return clearTimeout(e);if((Ko===defaultClearTimeout||!Ko)&&clearTimeout)return Ko=clearTimeout,clearTimeout(e);try{return Ko(e)}catch(t){try{return Ko.call(null,e)}catch(t){return Ko.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};function noop$2(){}var Go=noop$2,Vo=noop$2,zo=noop$2,Jo=noop$2,Xo=noop$2,Zo=noop$2,es=noop$2;var ts=L.performance||{},rs=ts.now||ts.mozNow||ts.msNow||ts.oNow||ts.webkitNow||function(){return(new Date).getTime()};var ns=new Date;var is,os,ss={nextTick:function nextTick$1(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ho.push(new Item(e,t)),1!==Ho.length||Wo||runTimeout(drainQueue)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Go,addListener:Vo,once:zo,off:Jo,removeListener:Xo,removeAllListeners:Zo,emit:es,binding:function binding(e){throw new Error("process.binding is not supported")},cwd:function cwd(){return"/"},chdir:function chdir(e){throw new Error("process.chdir is not supported")},umask:function umask(){return 0},hrtime:function hrtime(e){var t=.001*rs.call(ts),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function uptime(){return(new Date-ns)/1e3}},as=ss,cs={exports:{}};function requireMs(){if(os)return is;os=1;var e=1e3,t=60*e,r=60*t,n=24*r,i=7*n,o=365.25*n;function plural(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}return is=function(s,c){c=c||{};var u=typeof s;if("string"===u&&s.length>0)return function parse(s){if((s=String(s)).length>100)return;var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!c)return;var u=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*o;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*n;case"hours":case"hour":case"hrs":case"hr":case"h":return u*r;case"minutes":case"minute":case"mins":case"min":case"m":return u*t;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(s);if("number"===u&&isFinite(s))return c.long?function fmtLong(i){var o=Math.abs(i);if(o>=n)return plural(i,o,n,"day");if(o>=r)return plural(i,o,r,"hour");if(o>=t)return plural(i,o,t,"minute");if(o>=e)return plural(i,o,e,"second");return i+" ms"}(s):function fmtShort(i){var o=Math.abs(i);if(o>=n)return Math.round(i/n)+"d";if(o>=r)return Math.round(i/r)+"h";if(o>=t)return Math.round(i/t)+"m";if(o>=e)return Math.round(i/e)+"s";return i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))},is}var us=function setup(e){function createDebug(e){let t,r,n,i=null;function debug(...e){if(!debug.enabled)return;const r=debug,n=Number(new Date),i=n-(t||n);r.diff=i,r.prev=t,r.curr=n,t=n,e[0]=createDebug.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if("%%"===t)return"%";o++;const i=createDebug.formatters[n];if("function"==typeof i){const n=e[o];t=i.call(r,n),e.splice(o,1),o--}return t})),createDebug.formatArgs.call(r,e);(r.log||createDebug.log).apply(r,e)}return debug.namespace=e,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(e),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(r!==createDebug.namespaces&&(r=createDebug.namespaces,n=createDebug.enabled(e)),n),set:e=>{i=e}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(e,t){const r=createDebug(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(e){if(e instanceof Error)return e.stack||e.message;return e},createDebug.disable=function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");return createDebug.enable(""),e},createDebug.enable=function enable(e){let t;createDebug.save(e),createDebug.namespaces=e,createDebug.names=[],createDebug.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+e.slice(1)+"$")):createDebug.names.push(new RegExp("^"+e+"$")))},createDebug.enabled=function enabled(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=createDebug.skips.length;t<r;t++)if(createDebug.skips[t].test(e))return!1;for(t=0,r=createDebug.names.length;t<r;t++)if(createDebug.names[t].test(e))return!0;return!1},createDebug.humanize=requireMs(),createDebug.destroy=function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((t=>{createDebug[t]=e[t]})),createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=function selectColor(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return createDebug.colors[Math.abs(t)%createDebug.colors.length]},createDebug.enable(createDebug.load()),createDebug};!function(e,t){t.formatArgs=function formatArgs(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function save(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==as&&"env"in as&&(e=as.env.DEBUG);return e},t.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function localstorage(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=us(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(cs,cs.exports),function(e){const r=cs.exports("pico-net"),n=Symbol.for("pico:plug");function picoWire(i={}){const o=i?.timeout||3e4;let s=i?.id,c=!1,[u,l]=[!1,!1];const h=mkPlug(!0),f=mkPlug(!1),[d,p,A]=unpromise(),[y,b,m]=unpromise(),I=[!1,!1],[w,_]=unpromise(),B=new Set;return[h,f];function mkPlug(e){const t={get name(){return`${s||"|"} ${e?"--\x3e":"<--"} `},get id(){return s},set id(e){if(s)throw new Error("ID has already been set");s=e},get onmessage(){return I[e?0:1]=!0,e?d:y},get opened(){return c?Promise.reject(new Error("Disconnected")):(I[e?1:0]=!0,(e?y:d).then((e=>!!e)))},get closed(){return w},set onmessage(t){if("function"!=typeof t)throw new Error("expected onmessage to be a function");if(e?u:l)throw new Error("Handler has already been set");e?(p(t),u=!0):(b(t),l=!0)},async postMessage(r,n){if(c)throw new Error("Disconnected");if(!t.isActive)throw new Error("Void");I[e?1:0]=!0;const i=await(e?y:d);return Recurser(e,(e=>i(e)),r,n)},get isActive(){return(e?l:u)&&!c},get isClosed(){return c},open:e=>isPlug(e)?spliceWires(t,e):(t.onmessage=e,t.opened.then((()=>[t.postMessage,t]))),close(t=null){!function tearDown(e,t=null){if(c)return!0;r("PipeClosed by: %s cause: %s pending: %d",e?"A":"B",t?.message,B.size),c=!0;for(const e of Array.from(B))B.delete(e),e.abort(t||new Error("Disconnected"));_(t),I[0]&&A(t||new Error("Disconnected"));I[1]&&m(t||new Error("Disconnected"));return w}(e,t)},get other(){return e?f:h}};return t[n]=!0,t}async function Recurser(r,n,i,s){if(c)throw new Error("Disconnected");if("function"==typeof s)throw new Error("Callback API has been deprecated");const u=1&s||s,l=e.exports.V&&`${(r?h:f).name} = ${i.toString(t.Buffer.isBuffer(i)&&"hex").slice(0,14)}`,[d,p,A]=function unpromiseTimeout(e,t=!1){const[r,n,i]=unpromise(t),o=setTimeout(i.bind(null,new Error("Timeout")),e);return[r,(e,t)=>{clearTimeout(o),n(e,t)},function _abort(e){clearTimeout(o),i(e||new Error("Aborted"))}]}(o,l);p.abort=A,u&&B.add(p),B.delete(n);const y=u?Recurser.bind(null,!r,p):null;try{n([i,y,r?f:h]),u||p([])}catch(e){A(e),console.warn("Trap A: ",e.message)}return d.catch((e=>{throw console.warn("Trap B: ",e.message),e}))}}function isPlug(e){return!(!e||!e[n])}function spliceWires(e,t){if(!isPlug(e)||!isPlug(t))throw new Error("Expected two pipe-ends");function stitch(e,t){if(!Array.isArray(t))throw new Error("DesignFlaw");const[r,n]=t;let i=e(r,!!n);return n&&(i=i.then(stitch.bind(null,n))),i.catch((e=>{console.warn("Trap S: ",e.message)}))}return e.onmessage=e=>stitch(t.postMessage,e),t.onmessage=t=>stitch(e.postMessage,t),e.closed.then(t.close).catch(t.close),t.closed.then(e.close).catch(e.close),e.close}let i=0;const o=[];function unpromise(t=!1){if(t)return function unpromiseD(t="_"){const r=i++;let n=null;try{throw new Error}catch(e){n=e.stack}console.debug("[UNP]",r,t,"Promise Created\n",e.exports.V>1&&n);const[s,c,u]=unpromise();return o[r]=u,[s.then((e=>(notify("resolved",e),e))).catch((e=>{throw notify("rejected",void 0,e),e})),e=>{notify("set",e),c(e)},e=>{notify("abort",void 0,e),u(e)}];function notify(n,i,s){o[r]=void 0;const c=o.map(((e,t)=>e&&t)).filter((e=>e));if("set"!==n)console.debug("[UNP]",r,t,n,`P(${c.join(",")})`,s?s.message:Array.isArray(i)?`Arr[${i.length}]: ${i[0]||""}`:i);else{let n=null;try{throw new Error}catch(e){n=e.stack}e.exports.V>1&&console.debug("[UNP]",r,t,"SET at: \n",n)}}}(t);let r,n;return[new Promise(((e,t)=>{r=e,n=t})),r,n]}const s=3e4;function encodingTransformer(e,t){const encode=(e,r,n,i)=>e(t.encode(r),n&&decode.bind(null,n,i)),decode=(e,r,n,i)=>e(t.decode(r),n&&encode.bind(null,n,i));return t=>{const r=e(decode.bind(null,t));return encode.bind(null,r)}}e.exports=class PicoHub{constructor(e,t){this._nodes=new Set,this._tap=null,"function"==typeof e&&(this._tap=e),"function"==typeof t&&(this._afterRemove=t)}createWire(e,t={}){const[r,n]=picoWire(t);r.onmessage=([e,t])=>{if(!this._tap)return this.broadcast(e,t,r).catch((e=>console.error("_broadcast failed:",e)));this._tap(r,e,t).catch((e=>console.error("_tap failed:",e)))};const i=setTimeout((()=>r.close(new Error("NodeTimedout"))),3e4);return r.opened.then((t=>{if(!t)return console.warn("wire.opened resolved false?",t);clearTimeout(i),this._nodes.add(r),"function"==typeof e&&e(r)})).catch((e=>this.disconnect(r,e))),r.closed.then((e=>this.disconnect(r,e))),n}disconnect(e,t){if(!e)return!1;if(this._nodes.delete(e))return"function"==typeof this._afterRemove?this._afterRemove(e,t):t&&console.warn("NodeDisconnected",t),!0;for(const e of this._nodes)if(e.id===e&&this._nodes.delete(e))return"function"==typeof this._afterRemove?this._afterRemove(e,t):t&&console.warn("NodeDisconnected",t),!0}get count(){return this._nodes.size}async*survey(e,t,r){let n=!1;const i=new Set;for(const n of this._filterNodes(r)){const r=n.postMessage(e,t);i.add(r),r.catch((e=>{i.delete(r),console.warn("Survey node ignored:",e)}))}for(;!n&&i.size;){const e=await Promise.race(Array.from(i).map((e=>e.then((t=>({val:t,p:e}))))));if(!e)continue;i.delete(e.p);const abortSurvey=()=>{n=!0};yield[...e.val,abortSurvey]}}async broadcast(e,t,r){const n=this.survey(e,t,r),i=[];let o=await n.next();for(;!o.done;)i.push(o.value),o=await n.next();return i}_filterNodes(e){return e?(Array.isArray(e)||(e=[e]),Array.from(this._nodes).filter((t=>t.isActive&&!e.find((e=>isPlug(e)?e===t:e===t.id))))):this._nodes}},e.exports.V=0,e.exports.picoWire=picoWire,e.exports.simpleWire=function _picoWire(e,t,r){const[n,i]=picoWire();return n.closed.then(r).catch(r),n.opened.then(t).catch(t),n.onmessage=e,i},e.exports.streamWire=function streamWire(e,r){const n=new Map;let i=1,o=t.Buffer.alloc(256);const c=e(streamSend.bind(null,0));r.on("data",onStreamReceive),r.once("close",onclose),r.once("error",onclose);const closeStream=e=>e?r.end():r.destroy(e);return closeStream;function onclose(e){r.off("data",onStreamReceive),r.off("error",onclose),r.off("close",onclose),c.close(e)}function onStreamReceive(e){const t=e.readUInt16BE(0),r=e.readUInt16BE(2);if(n.has(t)){const{replyTo:i,timer:o}=n.get(t);n.delete(t),clearTimeout(o),i(e.slice(6),((e,t)=>streamSend(r,e,t)))}else 0===t?c(e.slice(6),((e,t)=>streamSend(r,e,t))):console.warn("WARN: streamWire Message dropped",e[6])}function streamSend(e,c,u){let l=0;"function"==typeof u&&(l=i++,function registerCallback(e,t){const r=setTimeout((()=>{n.has(e)&&(n.delete(e),closeStream(new Error("ResponseTimeout")))}),s);n.set(e,{replyTo:t,timer:r})}(l,u));const h=c.length+6;if(h>o.length){if(h>=262144)throw new Error("Message exceeds MTU");o=t.Buffer.alloc(h)}o.writeUInt16BE(e),o.writeUInt16BE(l,2),o.writeUInt16BE(h,4),c.copy(o,6),r.write(o.slice(0,h))}},e.exports.hyperWire=function hyperWire(e,r,n,i=125){if(!isPlug(e))throw new Error("Wire end expected");const o=new Map;let c=1;const u=r.open(n,{onextension:function onStreamReceive(t,r){if(t!==i)return console.warn("Message dropped! multiple extensions on this channel??",i,t);const n=r.readUInt16BE(0),s=r.readUInt16BE(2),c=r[4],u=!!(1&c);if(o.has(n)){const{replyTo:e,timer:t}=o.get(n);o.delete(n),clearTimeout(t),e(r.slice(5),c).then(u&&sendExt.bind(null,s)).catch((e=>console.error("Hyperwire writeerror",e)))}else 0===n?e.postMessage(r.slice(5),c).then(u&&sendExt.bind(null,s)).catch((e=>console.error("Hyperwire writeerror",e))):console.warn("Hyperwire message dropped! unknown port",n,s)},onclose:e.close}),closeStream=()=>{u.close()};return e.onmessage=e=>sendExt(0,e),e.closed.then((()=>!u.closed&&closeStream())).catch((e=>r.delete(e))),closeStream;function sendExt(e,r){const[n,l]=r;if(!t.Buffer.isBuffer(n))throw new Error("Binary message expected");let h=0,f=0;"function"==typeof l&&(h=c++,function registerCallback(e,t){const r=setTimeout((()=>{o.has(e)&&(o.delete(e),closeStream())}),s);o.set(e,{replyTo:t,timer:r})}(h,l),f|=1);const d=t.Buffer.alloc(n.length+5);d.writeUInt16BE(e),d.writeUInt16BE(h,2),d[4]=f,n.copy(d,5),u.extension(i,d)}},e.exports.spliceWires=spliceWires,e.exports.jsonTransformer=function jsonTransformer(e){return encodingTransformer(e,{encode:e=>t.Buffer.from(JSON.stringify(e)),decode:e=>JSON.parse(e)})},e.exports.encodingTransformer=encodingTransformer,e.exports.messageIterator=async function*messageIterator(e){const t=[],r=[];let n=!1;t.push(new Promise((e=>r.push(e))));const i=e(((e,o)=>{t.push(new Promise((e=>r.push(e)))),r.shift()([e,o,function stopGeneratorAndCloseWire(){i.close(),n=!0}])}));for(;!n;)yield await t.shift()},e.exports.unpromise=unpromise}(Po);const ls=Po.exports,hs=Ei,{pack:fs,unpack:ds}=Ro,{write:ps}=Q.exports;var gs=class SimpleRPC$2{constructor(e){this.nodeId=(e=>t.Buffer.from(Array.from(new Array(e)).map((e=>Math.floor(256*Math.random())))))(8),this._controller=this._controller.bind(this),this.hub=new ls(((...e)=>this._controller(...e)),((...e)=>this._ondisconnect(...e))),this.handlers=e;const[r,n]=ps([]);this._setConnections=n,this.$connections=r}spawnWire(){return this.hub.createWire((e=>{e.postMessage(encodeMsg(3,this.nodeId),!0).then((([t,r])=>{if(0===decodeMsg(t).type)return this._setConnections(Array.from(this.hub._nodes)),this.handlers.onconnect(e)})).catch((e=>console.error("Handshake failed",e)))}))}_ondisconnect(...e){this._setConnections(Array.from(this.hub._nodes)),this.handlers.ondisconnect(...e)}async _controller(e,r,n){try{const{type:i,data:o}=decodeMsg(r);switch(i){case 2:for await(const t of this._downloadFeeds(r,n)){const r=await this.handlers.onblocks(t);r&&this.shareBlocks(r,e).catch((e=>console.error("Gossip failed",e)))}break;case 1:{const e=await this.handlers.onquery(o);this._uploadFeeds(n,e).catch((e=>console.error("Failed uploading blocks",e)))}break;case 3:for(const r of this.hub._nodes)if(t.Buffer.isBuffer(r.id)&&r.id.equals(o))return n(encodeMsg(-1)),e.close(new Error("DuplicatePeer"));e.id=o,await n(encodeMsg(0));break;default:throw new Error(`Unknown message type: ${i}`)}}catch(e){console.error("RPC:internal error",e)}}async shareBlocks(e,t){hs.isFeed(e)&&(e=[e]);const r=(e=[...e]).shift(),n=this.hub.survey(encodeMsg(2,r),!!e.length,t);for await(const[t,r]of n)e.length&&(0===typeOfMsg(t)&&r?this._uploadFeeds(r,e).catch((e=>console.error("Failed sending subsequent feeds",e))):console.warn("Remote rejected subsequent blocks",typeOfMsg(t)))}async query(e,t={}){const[r,n]=await e.postMessage(encodeMsg(1,t),!0);0!==decodeMsg(r).type&&this._controller(e,r,n)}_uploadFeeds(e,t){if(!t||!t.length)return e(encodeMsg(0));const r=[...t];return e(encodeMsg(2,r.shift()),!!r.length).then((([e,t])=>{if(r.length)return e?0!==typeOfMsg(e)?console.warn("Peer rejected subsequent blocks",typeOfMsg(e)):this._uploadFeeds(t,r):console.warn("Empty scope")}))}async*_downloadFeeds(e,t){let r=!1;for(;!r;){r=!0;const{type:n,data:i}=decodeMsg(e);if(2===n)yield i;else if(t){console.warn("Expected BLOCKS but got",n),await t(encodeMsg(-1),!1);continue}if(!t)continue;const o=await t(encodeMsg(0),!0);e=o[0],t=o[1],r=!1}}};function encodeMsg(e,r){let n=null;switch(e){case 2:if(!r)throw new Error("Feed expected");r=hs.from(r),n=t.Buffer.alloc(r.tail+1),r.buf.copy(n,1,0,r.tail);break;case-1:case 0:n=t.Buffer.alloc(1);break;case 1:{const e=fs(r);n=t.Buffer.alloc(e.length+1),e.copy(n,1)}break;case 3:n=t.Buffer.alloc(9),r.copy(n,1);break;default:throw new Error("UnknownMessageType: "+e)}return n[0]=e,n}function typeOfMsg(e){if(!t.Buffer.isBuffer(e))throw new Error("BufferExpected");return e[0]}function decodeMsg(e){if(!t.Buffer.isBuffer(e))throw new Error("BufferExpected");const r=typeOfMsg(e);let n=null;switch(r){case 2:n=new hs,n.buf=e.slice(1),n.tail=e.length-1;break;case 0:n="OK";break;case-1:n="ERROR";break;case 1:n=ds(e.slice(1));break;case 3:n=e.slice(1,9);break;default:throw new Error("UnknownMessageType: "+r)}return{type:r,data:n}}const As=ki,ys=$o,ms=Ei,{pack:Is,unpack:Es}=Ro,ws=gs;class SimplePicoKernel{constructor(e,t={}){this.db=e,this.repo=new As(e),this.store=new ys(this.repo,this.mergeStrategy.bind(this)),this.ready=!1,this._secret=t.secret??null,this.rpc=new ws({onconnect:e=>this.onconnect(e),ondisconnect:e=>this.ondisconnect(e),onquery:(e,t)=>this.onquery(e,t),onblocks:e=>this.onblocks(e)})}get pk(){return this._secret?.slice(32)}async boot(){return this.__loading||(this.__loading=(async()=>{if(!this._secret)try{this._secret=await this.repo.readReg("reg/sk")}catch(e){if(!e.notFound)throw e}if(!this._secret){const{sk:e}=ms.signPair();this._secret=e,await this.repo.writeReg("reg/sk",e)}await this.store.load(),this.ready=!0})()),this.__loading}mergeStrategy(e,t){return!1}async feed(e){return this._checkReady(),this.repo.loadHead(this.pk)}_checkReady(){if(!this.ready)throw new Error("Kernel not ready, did you await kernel.boot()?")}async seq(){const e=await this.feed(1);return e?SimplePicoKernel.decodeBlock(e.last.body).seq:-1}async dispatch(e,t=!1){return this._checkReady(),await this.store.dispatch(e,t)}async createBlock(e,t,r){if("string"==typeof e)return this.createBlock(null,e,t);this._checkReady(),e=e||await this.feed()||new ms;const n=await this.seq()+1,i=SimplePicoKernel.encodeBlock(t,n,r);e.append(i,this._secret);if(!(await this.dispatch(e,!0)).length)throw new Error("createBlock() failed: rejected by store");return this.rpc.shareBlocks(e.slice(-1)),e}spawnWire(){return this.rpc.spawnWire()}ondisconnect(e){}async onconnect(e){await this.rpc.query(e)}async onquery(e){const t=[],r=await this.repo.listHeads();for(const{key:e}of r){const r=await this.repo.loadHead(e);r&&t.push(r)}return t}async onblocks(e){return(await this.dispatch(e,!1)).patch}async _networkResolveFeed(e,t){}$connections(){return this.rpc.$connections}async close(){for(const e of this.rpc.hub._nodes)this.rpc.hub.disconnect(e);await this.db.close()}static encodeBlock(e,t,r){return Is({...r,type:e,seq:t,date:(new Date).getTime()})}static decodeBlock(e){return Es(e)}static typeOfBlock(e){return SimplePicoKernel.decodeBlock(e).type}}const _s=Ei,Bs=$o,Cs=Po.exports,Ss=SimplePicoKernel,ks=gs,vs=ki,{decodeBlock:xs,encodeBlock:Ts}=Ss;var Ds={Feed:_s,SimpleKernel:Ss,decodeBlock:xs,encodeBlock:Ts,n:Q.exports,Store:Bs,Hub:Cs,SimpleRPC:ks,Repo:vs},Qs=getAugmentedNamespace(Object.freeze({__proto__:null,default:{}}));const Ls="#bbbba9";async function inspect(e,r={}){const n=await e.listHeads(),i=await e.listTails(),o=await e.listLatest(),s=await e.listFeeds(),c=await e.listFeedHeads(),u=r.colors||{},l=r.blockLabel||(e=>{const t=e.body.subarray(0,8).toString("hex");return`ID: ${hx8(e.sig)}\nKEY: ${hx8(e.key)}\nBDY: ${t}`});let h="// Nodes\n",f="// Edges\n";const d=[],p=[];for(const e of n){const t=hx8(e.key);h+=`"H${t}"\n      [\n        fontcolor="#cd94b0",\n        color="#cd94b0",\n        label="${`Author Head \n${hx8(e.key)}`}"\n      ];\n`,f+=`"H${t}" -> "B${hx8(e.value)}"[arrowhead=odot];\n`,d.push(e.value)}for(const e of i){const t=hx8(e.value);h+=`"T${t}"\n      [\n        fontcolor="#cd94b0",\n        color="#cd94b0",\n        label="${`Author Tail\n ${hx8(e.key)}`}"\n      ];\n`,f+=`"B${t}" -> "T${t}"[dir=back,arrowtail=odot];\n`}for(const e of o){const t=hx8(e.value);h+=`"L${t}"\n      [\n        fontcolor="#9ab278",\n        color="#9ab278",\n        label="${`Latest\n ${hx8(e.key)}`}"\n      ];\n`,f+=`"L${t}" -> "B${t}"[arrowhead=odot];\n`}for(const e of s){const t=hx8(e.key);h+=`"F${t}"\n      [\n        fontcolor="#db797b",\n        color="#db797b",\n        label="${`Chain Tail\n${hx8(e.value)}`}"\n      ];\n`,f+=`"B${hx8(e.value)}" -> "F${t}"[dir=back,arrowtail=odot];\n`,d.find((t=>t.equals(e.key)))||(d.push(e.key),p.push(e.key))}for(const e of c){const t=hx8(e.key);h+=`"FT${t}"\n      [\n        fontcolor="#db797b",\n        color="#db797b",\n        label="${`Chain Head\n${hx8(e.key)}`}"\n      ];\n`,f+=`"FT${t}" -> "B${hx8(e.value)}"[arrowhead=odot];\n`}let A=0,y=0,b=0,m=0;for(const r of d){const n=p.find((e=>e.equals(r)));A++;for await(const i of e._chainLoad(r)){y++,b+=i.buffer.length,m+=i.size;const e=hx8(i.sig),r=l(i,{link(r,n='style=dashed,weight=0.1,color="#d08c6d"'){if(!t.Buffer.isBuffer(r))throw new Error("link(id) expected id to be Buffer");f+=`"B${e}" -> "B${hx8(r)}"[${n}];\n`}}),o=n?u.orphanBlock||"#73a8a2":u.block||Ls;h+=`"B${e}"\n        [\n          fontcolor="${o}",\n          color="${o}"\n          shape="square",\n          label="${r}"\n        ];\n`,i.isGenesis||(f+=`"B${e}" -> "B${hx8(i.parentSig)}"\n          [\n            color="#818e85",\n            fillcolor="#bbbba9",\n            weight=1.0\n          ];\n`)}}return`\n    digraph G {\n      graph [pad=0.2,labelloc="t",fontcolor="#bbbba9",bgcolor="#2f383e",fontname="fixed",overlap="false",center="1",ratio="compress",label="${r.label||`[PicoRepo] Authors: ${o.length} Feeds: ${A}, Blocks: ${y}, Bytes: ${bs(b)} (${bs(b-m)} ${(100*(b-m)/b).toFixed(2)}%)`}",rankdir=BT];\n      edge [color="black",fillcolor="#2c323d",weight=2.0];\n      node [style=filled,fillcolor="#2c323d",color="#818e85",shape="rect",fontcolor="#bbbba9",shape=box];\n    ${h}\n    ${f}\n    }\n  `;function hx8(e){return e.subarray(0,4).toString("hex")}}var Rs={inspect:inspect,dump:async function dump(e,t="repo.dot",r={}){const n=await inspect(e,r);Qs.writeFileSync(t,n)}};function bs(e,t=!1){const r=e<0?-e:e;return r<1e3?fmt(e,"B"):r<1e6?fmt(e/1e3,"kB"):r<1e9?fmt(e/1e6,"MB"):fmt(e/1e9,"GB");function fmt(e,r){return(e=Math.round(10*e)/10)+(t?" ":"")+r}}var Us,Ms,Os={exports:{}},Ns={exports:{}},Fs={exports:{}};function requirePrimordials(){return Ms||(Ms=1,Us={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error:Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array:Uint8Array}),Us}var $s,Ps={exports:{}};function requireUtil(){return $s||($s=1,function(e){const r=t,n=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||r.Blob,o=void 0!==i?function isBlob(e){return e instanceof i}:function isBlob(e){return!1};class AggregateError extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:AggregateError,once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){const n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"===r&&"object"==typeof n){return`${n.constructor!==Object?n.constructor.name:""} {}`.trim()}return n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof n,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:o},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Ps)),Ps.exports}var Ys,Ks,js,Hs,Ws,qs={},Gs={exports:{}};function requireBrowser$1(){if(Ys)return Gs.exports;Ys=1;const{AbortController:e,AbortSignal:t}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;return Gs.exports=e,Gs.exports.AbortSignal=t,Gs.exports.default=e,Gs.exports}function requireErrors(){if(js)return Ks;js=1;const{format:e,inspect:t,AggregateError:r}=requireUtil(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,c={};function assert(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function addNumericalSeparator(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function E(t,r,n){n||(n=Error);class NodeError extends n{constructor(...n){super(function getMessage(t,r,n){if("function"==typeof r)return assert(r.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r.length}).`),r(...n);const i=(r.match(/%[dfijoOs]/g)||[]).length;return assert(i===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?r:e(r,...n)}(t,r,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(NodeError.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),NodeError.prototype.code=t,NodeError.prototype[i]=!0,c[t]=NodeError}function hideStackFrames(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class AbortError extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}return E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",((e,r,n)=>{assert("string"==typeof e,"'name' must be a string"),Array.isArray(r)||(r=[r]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";const c=[],u=[],l=[];for(const e of r)assert("string"==typeof e,"All expected entries have to be of type string"),o.includes(e)?c.push(e.toLowerCase()):s.test(e)?u.push(e):(assert("object"!==e,'The value "object" should be written as "Object"'),l.push(e));if(u.length>0){const e=c.indexOf("object");-1!==e&&(c.splice(c,e,1),u.push("Object"))}if(c.length>0){switch(c.length){case 1:i+=`of type ${c[0]}`;break;case 2:i+=`one of type ${c[0]} or ${c[1]}`;break;default:{const e=c.pop();i+=`one of type ${c.join(", ")}, or ${e}`}}(u.length>0||l.length>0)&&(i+=" or ")}if(u.length>0){switch(u.length){case 1:i+=`an instance of ${u[0]}`;break;case 2:i+=`an instance of ${u[0]} or ${u[1]}`;break;default:{const e=u.pop();i+=`an instance of ${u.join(", ")}, or ${e}`}}l.length>0&&(i+=" or ")}switch(l.length){case 0:break;case 1:l[0].toLowerCase()!==l[0]&&(i+="an "),i+=`${l[0]}`;break;case 2:i+=`one of ${l[0]} or ${l[1]}`;break;default:{const e=l.pop();i+=`one of ${l.join(", ")}, or ${e}`}}if(null==n)i+=`. Received ${n}`;else if("function"==typeof n&&n.name)i+=`. Received function ${n.name}`;else if("object"==typeof n){var h;if(null!==(h=n.constructor)&&void 0!==h&&h.name)i+=`. Received an instance of ${n.constructor.name}`;else{i+=`. Received ${t(n,{depth:-1})}`}}else{let e=t(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof n} (${e})`}return i}),TypeError),E("ERR_INVALID_ARG_VALUE",((e,r,n="is invalid")=>{let i=t(r);i.length>128&&(i=i.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${i}`}),TypeError),E("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),E("ERR_MISSING_ARGS",((...e)=>{let t;assert(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),E("ERR_OUT_OF_RANGE",((e,r,n)=>{let i;return assert(r,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?i=addNumericalSeparator(String(n)):"bigint"==typeof n?(i=String(n),(n>2n**32n||n<-(2n**32n))&&(i=addNumericalSeparator(i)),i+="n"):i=t(n),`The value of "${e}" is out of range. It must be ${r}. Received ${i}`}),RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ks={AbortError:AbortError,aggregateTwoErrors:hideStackFrames((function aggregateTwoErrors(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new n([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:hideStackFrames,codes:c}}function requireValidators(){if(Ws)return Hs;Ws=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:c,RegExpPrototypeTest:u,String:l,StringPrototypeToUpperCase:h,StringPrototypeTrim:f}=requirePrimordials(),{hideStackFrames:d,codes:{ERR_SOCKET_BAD_PORT:p,ERR_INVALID_ARG_TYPE:A,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:m}}=requireErrors(),{normalizeEncoding:I}=requireUtil(),{isAsyncFunction:w,isArrayBufferView:_}=requireUtil().types,B={};function isInt32(e){return e===(0|e)}function isUint32(e){return e===e>>>0}const C=/^[0-7]+$/;const S=d(((e,t,r=s,n=o)=>{if("number"!=typeof e)throw new A(t,"number",e);if(!i(e))throw new b(t,"an integer",e);if(e<r||e>n)throw new b(t,`>= ${r} && <= ${n}`,e)})),k=d(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new A(t,"number",e);if(!isInt32(e)){if(!i(e))throw new b(t,"an integer",e);throw new b(t,`>= ${r} && <= ${n}`,e)}if(e<r||e>n)throw new b(t,`>= ${r} && <= ${n}`,e)})),v=d(((e,t,r)=>{if("number"!=typeof e)throw new A(t,"number",e);if(!isUint32(e)){if(!i(e))throw new b(t,"an integer",e);throw new b(t,`>= ${r?1:0} && < 4294967296`,e)}if(r&&0===e)throw new b(t,">= 1 && < 4294967296",e)}));function validateString(e,t){if("string"!=typeof e)throw new A(t,"string",e)}const x=d(((e,i,o)=>{if(!t(o,e)){const t=r(n(o,(e=>"string"==typeof e?`'${e}'`:l(e))),", ");throw new y(i,e,"must be one of: "+t)}}));const T=d(((t,r,n)=>{const i=null==n,o=!i&&n.allowArray,s=!i&&n.allowFunction;if(!(!i&&n.nullable)&&null===t||!o&&e(t)||"object"!=typeof t&&(!s||"function"!=typeof t))throw new A(r,"Object",t)})),D=d(((t,r,n=0)=>{if(!e(t))throw new A(r,"Array",t);if(t.length<n){throw new y(r,t,`must be longer than ${n}`)}}));const Q=d(((e,t="buffer")=>{if(!_(e))throw new A(t,["Buffer","TypedArray","DataView"],e)}));const L=d(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new A(t,"AbortSignal",e)})),R=d(((e,t)=>{if("function"!=typeof e)throw new A(t,"Function",e)})),U=d(((e,t)=>{if("function"!=typeof e||w(e))throw new A(t,"Function",e)})),M=d(((e,t)=>{if(void 0!==e)throw new A(t,"undefined",e)}));return Hs={isInt32:isInt32,isUint32:isUint32,parseFileMode:function parseFileMode(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(!u(C,e))throw new y(t,e,"must be a 32-bit unsigned integer or an octal string");e=c(e,8)}return k(e,t,0,2**32-1),e},validateArray:D,validateBoolean:function validateBoolean(e,t){if("boolean"!=typeof e)throw new A(t,"boolean",e)},validateBuffer:Q,validateEncoding:function validateEncoding(e,t){const r=I(t),n=e.length;if("hex"===r&&n%2!=0)throw new y("encoding",t,`is invalid for data of length ${n}`)},validateFunction:R,validateInt32:k,validateInteger:S,validateNumber:function validateNumber(e,t){if("number"!=typeof e)throw new A(t,"number",e)},validateObject:T,validateOneOf:x,validatePlainFunction:U,validatePort:function validatePort(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===f(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new p(t,e,r);return 0|e},validateSignalName:function validateSignalName(e,t="signal"){if(validateString(e,t),void 0===B[e]){if(void 0!==B[h(e)])throw new m(e+" (signals must use all capital letters)");throw new m(e)}},validateString:validateString,validateUint32:v,validateUndefined:M,validateAbortSignal:L},Hs}var Vs,zs,Js,Xs,Zs,ea,ta={exports:{}};function requireUtils(){if(zs)return Vs;zs=1;const{Symbol:e,SymbolAsyncIterator:t,SymbolIterator:r}=requirePrimordials(),n=e("kDestroyed"),i=e("kIsErrored"),o=e("kIsReadable"),s=e("kIsDisturbed");function isReadableNodeStream(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function isWritableNodeStream(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function isNodeStream(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function isDestroyed(e){if(!isNodeStream(e))return null;const t=e._writableState,r=e._readableState,i=t||r;return!!(e.destroyed||e[n]||null!=i&&i.destroyed)}function isWritableEnded(e){if(!isWritableNodeStream(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function isReadableFinished(e,t){if(!isReadableNodeStream(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function isReadable(e){return e&&null!=e[o]?e[o]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!isDestroyed(e)&&(isReadableNodeStream(e)&&e.readable&&!isReadableFinished(e))}function isWritable(e){return"boolean"!=typeof(null==e?void 0:e.writable)?null:!isDestroyed(e)&&(isWritableNodeStream(e)&&e.writable&&!isWritableEnded(e))}function isOutgoingMessage(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function isServerResponse(e){return"boolean"==typeof e._sent100&&isOutgoingMessage(e)}return Vs={kDestroyed:n,isDisturbed:function isDisturbed(e){var t;return!(!e||!(null!==(t=e[s])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:s,isErrored:function isErrored(e){var t,r,n,o,s,c,u,l,h,f;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(o=null!==(s=null!==(c=e[i])&&void 0!==c?c:e.readableErrored)&&void 0!==s?s:e.writableErrored)&&void 0!==o?o:null===(u=e._readableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==n?n:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(h=e._readableState)||void 0===h?void 0:h.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:i,isReadable:isReadable,kIsReadable:o,isClosed:function isClosed(e){if(!isNodeStream(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&isOutgoingMessage(e)?e._closed:null},isDestroyed:isDestroyed,isDuplexNodeStream:function isDuplexNodeStream(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function isFinished(e,t){return isNodeStream(e)?!!isDestroyed(e)||(!1===(null==t?void 0:t.readable)||!isReadable(e))&&(!1===(null==t?void 0:t.writable)||!isWritable(e)):null},isIterable:function isIterable(e,n){return null!=e&&(!0===n?"function"==typeof e[t]:!1===n?"function"==typeof e[r]:"function"==typeof e[t]||"function"==typeof e[r])},isReadableNodeStream:isReadableNodeStream,isReadableEnded:function isReadableEnded(e){if(!isReadableNodeStream(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:isReadableFinished,isReadableErrored:function isReadableErrored(e){var t,r;return isNodeStream(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:isNodeStream,isWritable:isWritable,isWritableNodeStream:isWritableNodeStream,isWritableEnded:isWritableEnded,isWritableFinished:function isWritableFinished(e,t){if(!isWritableNodeStream(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function isWritableErrored(e){var t,r;return isNodeStream(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function isServerRequest(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:isServerResponse,willEmitClose:function willEmitClose(e){if(!isNodeStream(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&isServerResponse(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)}},Vs}function requireEndOfStream(){if(Js)return ta.exports;Js=1;const{AbortError:e,codes:t}=requireErrors(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:n}=t,{once:i}=requireUtil(),{validateAbortSignal:o,validateFunction:s,validateObject:c}=requireValidators(),{Promise:u}=requirePrimordials(),{isClosed:l,isReadable:h,isReadableNodeStream:f,isReadableFinished:d,isReadableErrored:p,isWritable:A,isWritableNodeStream:y,isWritableFinished:b,isWritableErrored:m,isNodeStream:I,willEmitClose:w}=requireUtils();function isRequest(e){return e.setHeader&&"function"==typeof e.abort}const nop=()=>{};function eos(t,u,_){var B,C;2===arguments.length?(_=u,u={}):null==u?u={}:c(u,"options"),s(_,"callback"),o(u.signal,"options.signal"),_=i(_);const S=null!==(B=u.readable)&&void 0!==B?B:f(t),k=null!==(C=u.writable)&&void 0!==C?C:y(t);if(!I(t))throw new r("stream","Stream",t);const v=t._writableState,x=t._readableState,onlegacyfinish=()=>{t.writable||onfinish()};let T=w(t)&&f(t)===S&&y(t)===k,D=b(t,!1);const onfinish=()=>{D=!0,t.destroyed&&(T=!1),(!T||t.readable&&!S)&&(S&&!Q||_.call(t))};let Q=d(t,!1);const onend=()=>{Q=!0,t.destroyed&&(T=!1),(!T||t.writable&&!k)&&(k&&!D||_.call(t))},onerror=e=>{_.call(t,e)};let L=l(t);const onclose=()=>{L=!0;const e=m(t)||p(t);return e&&"boolean"!=typeof e?_.call(t,e):S&&!Q&&f(t,!0)&&!d(t,!1)?_.call(t,new n):!k||D||b(t,!1)?void _.call(t):_.call(t,new n)},onrequest=()=>{t.req.on("finish",onfinish)};isRequest(t)?(t.on("complete",onfinish),T||t.on("abort",onclose),t.req?onrequest():t.on("request",onrequest)):k&&!v&&(t.on("end",onlegacyfinish),t.on("close",onlegacyfinish)),T||"boolean"!=typeof t.aborted||t.on("aborted",onclose),t.on("end",onend),t.on("finish",onfinish),!1!==u.error&&t.on("error",onerror),t.on("close",onclose),L?as.nextTick(onclose):null!=v&&v.errorEmitted||null!=x&&x.errorEmitted?T||as.nextTick(onclose):(S||T&&!h(t)||!D&&!1!==A(t))&&(k||T&&!A(t)||!Q&&!1!==h(t))?x&&t.req&&t.aborted&&as.nextTick(onclose):as.nextTick(onclose);const cleanup=()=>{_=nop,t.removeListener("aborted",onclose),t.removeListener("complete",onfinish),t.removeListener("abort",onclose),t.removeListener("request",onrequest),t.req&&t.req.removeListener("finish",onfinish),t.removeListener("end",onlegacyfinish),t.removeListener("close",onlegacyfinish),t.removeListener("finish",onfinish),t.removeListener("end",onend),t.removeListener("error",onerror),t.removeListener("close",onclose)};if(u.signal&&!L){const abort=()=>{const r=_;cleanup(),r.call(t,new e(void 0,{cause:u.signal.reason}))};if(u.signal.aborted)as.nextTick(abort);else{const e=_;_=i(((...r)=>{u.signal.removeEventListener("abort",abort),e.apply(t,r)})),u.signal.addEventListener("abort",abort)}}return cleanup}return ta.exports=eos,ta.exports.finished=function finished(e,t){return new u(((r,n)=>{eos(e,t,(e=>{e?n(e):r()}))}))},ta.exports}function requireDestroy(){if(ea)return Zs;ea=1;const{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:t},AbortError:r}=requireErrors(),{Symbol:n}=requirePrimordials(),{kDestroyed:i,isDestroyed:o,isFinished:s,isServerRequest:c}=requireUtils(),u=n("kDestroy"),l=n("kConstruct");function checkError(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function _destroy(e,t,r){let n=!1;function onDestroy(t){if(n)return;n=!0;const i=e._readableState,o=e._writableState;checkError(t,o,i),o&&(o.closed=!0),i&&(i.closed=!0),"function"==typeof r&&r(t),t?as.nextTick(emitErrorCloseNT,e,t):as.nextTick(emitCloseNT,e)}try{e._destroy(t||null,onDestroy)}catch(t){onDestroy(t)}}function emitErrorCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}function emitErrorNT(e,t){const r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function errorOrDestroy(e,t,r){const n=e._readableState,i=e._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?as.nextTick(emitErrorNT,e,t):emitErrorNT(e,t))}function constructNT(e){let r=!1;function onConstruct(n){if(r)return void errorOrDestroy(e,null!=n?n:new t);r=!0;const i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(u,n):n?errorOrDestroy(e,n,!0):as.nextTick(emitConstructNT,e)}try{e._construct(onConstruct)}catch(e){onConstruct(e)}}function emitConstructNT(e){e.emit(l)}function isRequest(e){return e&&e.setHeader&&"function"==typeof e.abort}function emitCloseLegacy(e){e.emit("close")}function emitErrorCloseLegacy(e,t){e.emit("error",t),as.nextTick(emitCloseLegacy,e)}return Zs={construct:function construct(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(l,t),e.listenerCount(l)>1||as.nextTick(constructNT,e)},destroyer:function destroyer(e,t){e&&!o(e)&&(t||s(e)||(t=new r),c(e)?(e.socket=null,e.destroy(t)):isRequest(e)?e.abort():isRequest(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?as.nextTick(emitErrorCloseLegacy,e):as.nextTick(emitCloseLegacy,e),e.destroyed||(e[i]=!0))},destroy:function destroy(t,r){const n=this._readableState,i=this._writableState,o=i||n;return i&&i.destroyed||n&&n.destroyed?("function"==typeof r&&r(),this):(checkError(t,i,n),i&&(i.destroyed=!0),n&&(n.destroyed=!0),o.constructed?_destroy(this,t,r):this.once(u,(function(n){_destroy(this,e(n,t),r)})),this)},undestroy:function undestroy(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:errorOrDestroy},Zs}function EventHandlers(){}function EventEmitter$1(){EventEmitter$1.init.call(this)}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter$1.defaultMaxListeners:e._maxListeners}function emitNone(e,t,r){if(t)e.call(r);else for(var n=e.length,i=arrayClone(e,n),o=0;o<n;++o)i[o].call(r)}function emitOne(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=arrayClone(e,i),s=0;s<i;++s)o[s].call(r,n)}function emitTwo(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=arrayClone(e,o),c=0;c<o;++c)s[c].call(r,n,i)}function emitThree(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,c=arrayClone(e,s),u=0;u<s;++u)c[u].call(r,n,i,o)}function emitMany(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=arrayClone(e,i),s=0;s<i;++s)o[s].apply(r,n)}function _addListener(e,t,r,n){var i,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]):(o=e._events=new EventHandlers,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=$getMaxListeners(e))&&i>0&&s.length>i){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,function emitWarning(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(c)}}else s=o[t]=r,++e._eventsCount;return e}function _onceWrap(e,t,r){var n=!1;function g(){e.removeListener(t,g),n||(n=!0,r.apply(e,arguments))}return g.listener=r,g}function listenerCount(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}EventHandlers.prototype=Object.create(null),EventEmitter$1.EventEmitter=EventEmitter$1,EventEmitter$1.usingDomains=!1,EventEmitter$1.prototype.domain=void 0,EventEmitter$1.prototype._events=void 0,EventEmitter$1.prototype._maxListeners=void 0,EventEmitter$1.defaultMaxListeners=10,EventEmitter$1.init=function(){this.domain=null,EventEmitter$1.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new EventHandlers,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$1.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter$1.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter$1.prototype.emit=function emit(e){var t,r,n,i,o,s,c,u="error"===e;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(c=this.domain,u){if(t=arguments[1],!c){if(t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=c,t.domainThrown=!1,c.emit("error",t),!1}if(!(r=s[e]))return!1;var h="function"==typeof r;switch(n=arguments.length){case 1:emitNone(r,h,this);break;case 2:emitOne(r,h,this,arguments[1]);break;case 3:emitTwo(r,h,this,arguments[1],arguments[2]);break;case 4:emitThree(r,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];emitMany(r,h,this,i)}return!0},EventEmitter$1.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener,EventEmitter$1.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter$1.prototype.once=function once(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter$1.prototype.prependOnceListener=function prependOnceListener(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter$1.prototype.removeListener=function removeListener(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new EventHandlers:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new EventHandlers,this;delete n[e]}else!function spliceOne(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter$1.prototype.removeAllListeners=function removeAllListeners(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new EventHandlers,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new EventHandlers:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new EventHandlers,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},EventEmitter$1.prototype.listeners=function listeners(e){var t,r,n=this._events;return r=n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[],r},EventEmitter$1.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter$1.prototype.listenerCount=listenerCount,EventEmitter$1.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ra,na,ia=getAugmentedNamespace(Object.freeze({__proto__:null,default:EventEmitter$1,EventEmitter:EventEmitter$1}));function requireLegacy(){if(na)return ra;na=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=requirePrimordials(),{EventEmitter:r}=ia;function Stream(e){r.call(this,e)}function prependListener(t,r,n){if("function"==typeof t.prependListener)return t.prependListener(r,n);t._events&&t._events[r]?e(t._events[r])?t._events[r].unshift(n):t._events[r]=[n,t._events[r]]:t.on(r,n)}return t(Stream.prototype,r.prototype),t(Stream,r),Stream.prototype.pipe=function(e,t){const n=this;function ondata(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function ondrain(){n.readable&&n.resume&&n.resume()}n.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&!1===t.end||(n.on("end",onend),n.on("close",onclose));let i=!1;function onend(){i||(i=!0,e.end())}function onclose(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){cleanup(),0===r.listenerCount(this,"error")&&this.emit("error",e)}function cleanup(){n.removeListener("data",ondata),e.removeListener("drain",ondrain),n.removeListener("end",onend),n.removeListener("close",onclose),n.removeListener("error",onerror),e.removeListener("error",onerror),n.removeListener("end",cleanup),n.removeListener("close",cleanup),e.removeListener("close",cleanup)}return prependListener(n,"error",onerror),prependListener(e,"error",onerror),n.on("end",cleanup),n.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",n),e},ra={Stream:Stream,prependListener:prependListener}}var oa,sa,aa,ca,ua,la={exports:{}};function requireAddAbortSignal(){return oa||(oa=1,function(e){const{AbortError:t,codes:r}=requireErrors(),n=requireEndOfStream(),{ERR_INVALID_ARG_TYPE:i}=r;e.exports.addAbortSignal=function addAbortSignal(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new i(t,"AbortSignal",e)})(t,"signal"),!function isNodeStream(e){return!(!e||"function"!=typeof e.pipe)}(r))throw new i("stream","stream.Stream",r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,r){if("object"!=typeof e||!("aborted"in e))return r;const onAbort=()=>{r.destroy(new t(void 0,{cause:e.reason}))};return e.aborted?onAbort():(e.addEventListener("abort",onAbort),n(r,(()=>e.removeEventListener("abort",onAbort)))),r}}(la)),la.exports}function requireBuffer_list(){if(aa)return sa;aa=1;const{StringPrototypeSlice:e,SymbolIterator:r,TypedArrayPrototypeSet:n,Uint8Array:i}=requirePrimordials(),{inspect:o}=requireUtil();return sa=class BufferList{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return t.Buffer.alloc(0);const r=t.Buffer.allocUnsafe(e>>>0);let i=this.head,o=0;for(;i;)n(r,i.data,o),o+=i.data.length,i=i.next;return r}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[r](){for(let e=this.head;e;e=e.next)yield e.data}_getString(t){let r="",n=this.head,i=0;do{const o=n.data;if(!(t>o.length)){t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=e(o,0,t),this.head=n,n.data=e(o,t));break}r+=o,t-=o.length,++i}while(null!==(n=n.next));return this.length-=i,r}_getBuffer(e){const r=t.Buffer.allocUnsafe(e),o=e;let s=this.head,c=0;do{const t=s.data;if(!(e>t.length)){e===t.length?(n(r,t,o-e),++c,s.next?this.head=s.next:this.head=this.tail=null):(n(r,new i(t.buffer,t.byteOffset,e),o-e),this.head=s,s.data=t.slice(e));break}n(r,t,o-e),e-=t.length,++c}while(null!==(s=s.next));return this.length-=c,r}[Symbol.for("nodejs.util.inspect.custom")](e,t){return o(this,{...t,depth:0,customInspect:!1})}},sa}function requireState(){if(ua)return ca;ua=1;const{MathFloor:e,NumberIsInteger:t}=requirePrimordials(),{ERR_INVALID_ARG_VALUE:r}=requireErrors().codes;function getDefaultHighWaterMark(e){return e?16:16384}return ca={getHighWaterMark:function getHighWaterMark(n,i,o,s){const c=function highWaterMarkFrom(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(i,s,o);if(null!=c){if(!t(c)||c<0){throw new r(s?`options.${o}`:"options.highWaterMark",c)}return e(c)}return getDefaultHighWaterMark(n.objectMode)},getDefaultHighWaterMark:getDefaultHighWaterMark}}var ha=t.Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function assertEncoding(e){if(e&&!ha(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new t.Buffer(6),this.charReceived=0,this.charLength=0}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var fa,da,pa,ga,Aa,ya,ba,ma,Ia,Ea,wa,_a,Ba,Ca,Sa,ka,va,xa,Ta,Da,Qa,La,Ra,Ua,Ma=getAugmentedNamespace(Object.freeze({__proto__:null,StringDecoder:StringDecoder}));function requireFrom(){if(da)return fa;da=1;const{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=requirePrimordials(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:o}=requireErrors().codes;return fa=function from(s,c,u){let l,h;if("string"==typeof c||c instanceof t.Buffer)return new s({objectMode:!0,...u,read(){this.push(c),this.push(null)}});if(c&&c[r])h=!0,l=c[r]();else{if(!c||!c[n])throw new i("iterable",["Iterable"],c);h=!1,l=c[n]()}const f=new s({objectMode:!0,highWaterMark:1,...u});let d=!1;return f._read=function(){d||(d=!0,async function next(){for(;;){try{const{value:e,done:t}=h?await l.next():l.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new o;if(f.push(t))continue;d=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(t,r){e(async function close(e){const t=null!=e,r="function"==typeof l.throw;if(t&&r){const{value:t,done:r}=await l.throw(e);if(await t,r)return}if("function"==typeof l.return){const{value:e}=await l.return();await e}}(t),(()=>as.nextTick(r,t)),(e=>as.nextTick(r,e||t)))},f},fa}function requireReadable(){if(ga)return pa;ga=1;const{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:c,Promise:u,SafeSet:l,SymbolAsyncIterator:h,Symbol:f}=requirePrimordials();pa=Readable,Readable.ReadableState=ReadableState;const{EventEmitter:d}=ia,{Stream:p,prependListener:A}=requireLegacy(),{addAbortSignal:y}=requireAddAbortSignal(),b=requireEndOfStream();let m=requireUtil().debuglog("stream",(e=>{m=e}));const I=requireBuffer_list(),w=requireDestroy(),{getHighWaterMark:_,getDefaultHighWaterMark:B}=requireState(),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:k,ERR_OUT_OF_RANGE:v,ERR_STREAM_PUSH_AFTER_EOF:x,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:T}}=requireErrors(),{validateObject:D}=requireValidators(),Q=f("kPaused"),{StringDecoder:L}=Ma,R=requireFrom();c(Readable.prototype,p.prototype),c(Readable,p);const nop=()=>{},{errorOrDestroy:U}=w;function ReadableState(e,t,r){"boolean"!=typeof r&&(r=t instanceof requireDuplex()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?_(this,e,"readableHighWaterMark",r):B(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Q]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new L(e.encoding),this.encoding=e.encoding)}function Readable(e){if(!(this instanceof Readable))return new Readable(e);const t=this instanceof requireDuplex();this._readableState=new ReadableState(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&y(e.signal,this)),p.call(this,e),w.construct(this,(()=>{this._readableState.needReadable&&maybeReadMore(this,this._readableState)}))}function readableAddChunk(e,r,n,i){m("readableAddChunk",r);const o=e._readableState;let s;if(o.objectMode||("string"==typeof r?(n=n||o.defaultEncoding,o.encoding!==n&&(i&&o.encoding?r=t.Buffer.from(r,n).toString(o.encoding):(r=t.Buffer.from(r,n),n=""))):r instanceof t.Buffer?n="":p._isUint8Array(r)?(r=p._uint8ArrayToBuffer(r),n=""):null!=r&&(s=new S("chunk",["string","Buffer","Uint8Array"],r))),s)U(e,s);else if(null===r)o.reading=!1,function onEofChunk(e,t){if(m("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable=!0,emitReadable_(e))}(e,o);else if(o.objectMode||r&&r.length>0)if(i)if(o.endEmitted)U(e,new T);else{if(o.destroyed||o.errored)return!1;addChunk(e,o,r,!0)}else if(o.ended)U(e,new x);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!n?(r=o.decoder.write(r),o.objectMode||0!==r.length?addChunk(e,o,r,!1):maybeReadMore(e,o)):addChunk(e,o,r,!1)}else i||(o.reading=!1,maybeReadMore(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Readable.prototype.destroy=w.destroy,Readable.prototype._undestroy=w.undestroy,Readable.prototype._destroy=function(e,t){t(e)},Readable.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},Readable.prototype.push=function(e,t){return readableAddChunk(this,e,t,!1)},Readable.prototype.unshift=function(e,t){return readableAddChunk(this,e,t,!0)},Readable.prototype.isPaused=function(){const e=this._readableState;return!0===e[Q]||!1===e.flowing},Readable.prototype.setEncoding=function(e){const t=new L(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:n(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function emitReadable(e){const t=e._readableState;m("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,as.nextTick(emitReadable_,e))}function emitReadable_(e){const t=e._readableState;m("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,as.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(m("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function updateReadableListening(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[Q]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function nReadingNextTick(e){m("readable nexttick read 0"),e.read(0)}function resume_(e,t){m("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){const t=e._readableState;for(m("flow",t.flowing);t.flowing&&null!==e.read(););}function streamToAsyncIterator(e,t){"function"!=typeof e.read&&(e=Readable.wrap(e,{objectMode:!0}));const r=async function*createAsyncIterator(e,t){let r,n=nop;function next(t){this===e?(n(),n=nop):n=t}e.on("readable",next);const i=b(e,{writable:!1},(e=>{r=e?C(r,e):null,n(),n=nop}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new u(next)}}}catch(e){throw r=C(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",next),i()):w.destroyer(e,null)}}(e,t);return r.stream=e,r}function fromList(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function endReadable(e){const t=e._readableState;m("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,as.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(m("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)as.nextTick(endWritableNT,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function endWritableNT(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let M;function lazyWebStreams(){return void 0===M&&(M={}),M}return Readable.prototype.read=function(e){m("read",e),void 0===e?e=NaN:r(e)||(e=i(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function computeNewHighWaterMark(e){if(e>1073741824)throw new v("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;let o,s=t.needReadable;if(m("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&(s=!0,m("length less than watermark",s)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)s=!1,m("reading, ended or constructing",s);else if(s){m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(e){U(this,e)}t.sync=!1,t.reading||(e=howMuchToRead(n,t))}return o=e>0?fromList(e,t):null,null===o?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&endReadable(this)),null===o||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",o)),o},Readable.prototype._read=function(e){throw new k("_read()")},Readable.prototype.pipe=function(e,t){const r=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new l(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),m("pipe count=%d opts=%j",n.pipes.length,t);const i=(!t||!1!==t.end)&&e!==as.stdout&&e!==as.stderr?onend:unpipe;function onunpipe(t,i){m("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,function cleanup(){m("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),o&&e.removeListener("drain",o);e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),r.removeListener("end",onend),r.removeListener("end",unpipe),r.removeListener("data",ondata),s=!0,o&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&o()}())}function onend(){m("onend"),e.end()}let o;n.endEmitted?as.nextTick(i):r.once("end",i),e.on("unpipe",onunpipe);let s=!1;function pause(){s||(1===n.pipes.length&&n.pipes[0]===e?(m("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(m("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),o||(o=function pipeOnDrain(e,t){return function pipeOnDrainFunctionResult(){const r=e._readableState;r.awaitDrainWriters===t?(m("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(m("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",o))}function ondata(t){m("ondata");const r=e.write(t);m("dest.write",r),!1===r&&pause()}function onerror(t){if(m("onerror",t),unpipe(),e.removeListener("error",onerror),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){m("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){m("unpipe"),r.unpipe(e)}return r.on("data",ondata),A(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",r),!0===e.writableNeedDrain?n.flowing&&pause():n.flowing||(m("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(t){const r=this._readableState;if(0===r.pipes.length)return this;if(!t){const e=r.pipes;r.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=e(r.pipes,t);return-1===n||(r.pipes.splice(n,1),0===r.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},Readable.prototype.on=function(e,t){const r=p.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,m("on readable",n.length,n.reading),n.length?emitReadable(this):n.reading||as.nextTick(nReadingNextTick,this))),r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(e,t){const r=p.prototype.removeListener.call(this,e,t);return"readable"===e&&as.nextTick(updateReadableListening,this),r},Readable.prototype.off=Readable.prototype.removeListener,Readable.prototype.removeAllListeners=function(e){const t=p.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||as.nextTick(updateReadableListening,this),t},Readable.prototype.resume=function(){const e=this._readableState;return e.flowing||(m("resume"),e.flowing=!e.readableListening,function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,as.nextTick(resume_,e,t))}(this,e)),e[Q]=!1,this},Readable.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Q]=!0,this},Readable.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{U(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=s(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},Readable.prototype[h]=function(){return streamToAsyncIterator(this)},Readable.prototype.iterator=function(e){return void 0!==e&&D(e,"options"),streamToAsyncIterator(this,e)},o(Readable.prototype,{readable:{get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{get(){return!!this._readableState&&this._readableState.closed}},destroyed:{enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),o(ReadableState.prototype,{pipesCount:{get(){return this.pipes.length}},paused:{get(){return!1!==this[Q]},set(e){this[Q]=!!e}}}),Readable._fromList=fromList,Readable.from=function(e,t){return R(Readable,e,t)},Readable.fromWeb=function(e,t){return lazyWebStreams().newStreamReadableFromReadableStream(e,t)},Readable.toWeb=function(e){return lazyWebStreams().newReadableStreamFromStreamReadable(e)},Readable.wrap=function(e,t){var r,n;return new Readable({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){w.destroyer(e,t),r(t)}}).wrap(e)},pa}function requireWritable(){if(ya)return Aa;ya=1;const{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:c,Symbol:u,SymbolHasInstance:l}=requirePrimordials();Aa=Writable,Writable.WritableState=WritableState;const{EventEmitter:h}=ia,f=requireLegacy().Stream,d=requireDestroy(),{addAbortSignal:p}=requireAddAbortSignal(),{getHighWaterMark:A,getDefaultHighWaterMark:y}=requireState(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:I,ERR_STREAM_CANNOT_PIPE:w,ERR_STREAM_DESTROYED:_,ERR_STREAM_ALREADY_FINISHED:B,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:S,ERR_UNKNOWN_ENCODING:k}=requireErrors().codes,{errorOrDestroy:v}=d;function nop(){}s(Writable.prototype,f.prototype),s(Writable,f);const x=u("kOnFinished");function WritableState(e,t,r){"boolean"!=typeof r&&(r=t instanceof requireDuplex()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?A(this,e,"writableHighWaterMark",r):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const n=!(!e||!1!==e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=onwrite.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,resetBuffer(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[x]=[]}function resetBuffer(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function Writable(e){const t=this instanceof requireDuplex();if(!t&&!n(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&p(e.signal,this)),f.call(this,e),d.construct(this,(()=>{const e=this._writableState;e.writing||clearBuffer(this,e),finishMaybe(this,e)}))}function _write(e,r,n,i){const o=e._writableState;if("function"==typeof n)i=n,n=o.defaultEncoding;else{if(n){if("buffer"!==n&&!t.Buffer.isEncoding(n))throw new k(n)}else n=o.defaultEncoding;"function"!=typeof i&&(i=nop)}if(null===r)throw new C;if(!o.objectMode)if("string"==typeof r)!1!==o.decodeStrings&&(r=t.Buffer.from(r,n),n="buffer");else if(r instanceof t.Buffer)n="buffer";else{if(!f._isUint8Array(r))throw new b("chunk",["string","Buffer","Uint8Array"],r);r=f._uint8ArrayToBuffer(r),n="buffer"}let s;return o.ending?s=new S:o.destroyed&&(s=new _("write")),s?(as.nextTick(i,s),v(e,s,!0),s):(o.pendingcb++,function writeOrBuffer(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const s=t.length<t.highWaterMark;s||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==nop&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return s&&!t.errored&&!t.destroyed}(e,o,r,n,i))}function doWrite(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,n){--t.pendingcb,n(r),errorBuffer(t),v(e,r)}function onwrite(e,t){const r=e._writableState,n=r.sync,i=r.writecb;"function"==typeof i?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?as.nextTick(onwriteError,e,r,t,i):onwriteError(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&clearBuffer(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},as.nextTick(afterWriteTick,r.afterWriteTickInfo)):afterWrite(e,r,1,i))):v(e,new I)}function afterWriteTick({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,afterWrite(e,t,r,n)}function afterWrite(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&errorBuffer(t),finishMaybe(e,t)}function errorBuffer(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new _("write"))}const r=e[x].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new _("end"))}resetBuffer(e)}function clearBuffer(t,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;const{buffered:n,bufferedIndex:i,objectMode:o}=r,s=n.length-i;if(!s)return;let c=i;if(r.bufferProcessing=!0,s>1&&t._writev){r.pendingcb-=s-1;const i=r.allNoop?nop:e=>{for(let t=c;t<n.length;++t)n[t].callback(e)},o=r.allNoop&&0===c?n:e(n,c);o.allBuffers=r.allBuffers,doWrite(t,r,!0,r.length,o,"",i),resetBuffer(r)}else{do{const{chunk:e,encoding:i,callback:s}=n[c];n[c++]=null;doWrite(t,r,!1,o?1:e.length,e,i,s)}while(c<n.length&&!r.writing);c===n.length?resetBuffer(r):c>256?(n.splice(0,c),r.bufferedIndex=0):r.bufferedIndex=c}r.bufferProcessing=!1}function needFinish(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function prefinish(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function callFinal(e,t){let r=!1;function onFinish(n){if(r)v(e,null!=n?n:I());else if(r=!0,t.pendingcb--,n){const r=t[x].splice(0);for(let e=0;e<r.length;e++)r[e](n);v(e,n,t.sync)}else needFinish(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,as.nextTick(finish,e,t))}t.sync=!0,t.pendingcb++;try{e._final(onFinish)}catch(e){onFinish(e)}t.sync=!1}(e,t)))}function finishMaybe(e,t,r){needFinish(t)&&(prefinish(e,t),0===t.pendingcb&&(r?(t.pendingcb++,as.nextTick(((e,t)=>{needFinish(t)?finish(e,t):t.pendingcb--}),e,t)):needFinish(t)&&(t.pendingcb++,finish(e,t))))}function finish(e,t){t.pendingcb--,t.finished=!0;const r=t[x].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}WritableState.prototype.getBuffer=function getBuffer(){return e(this.buffered,this.bufferedIndex)},i(WritableState.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}}),i(Writable,l,{value:function(e){return!!n(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}}),Writable.prototype.pipe=function(){v(this,new w)},Writable.prototype.write=function(e,t,r){return!0===_write(this,e,t,r)},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if("string"==typeof e&&(e=c(e)),!t.Buffer.isEncoding(e))throw new k(e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){if(!this._writev)throw new m("_write()");this._writev([{chunk:e,encoding:t}],r)},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){const i=this._writableState;let o;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){const n=_write(this,e,t);n instanceof r&&(o=n)}return i.corked&&(i.corked=1,this.uncork()),o||(i.errored||i.ending?i.finished?o=new B("end"):i.destroyed&&(o=new _("end")):(i.ending=!0,finishMaybe(this,i,!0),i.ended=!0)),"function"==typeof n&&(o||i.finished?as.nextTick(n,o):i[x].push(n)),this},o(Writable.prototype,{closed:{get(){return!!this._writableState&&this._writableState.closed}},destroyed:{get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}},errored:{enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const T=d.destroy;let D;function lazyWebStreams(){return void 0===D&&(D={}),D}return Writable.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[x].length)&&as.nextTick(errorBuffer,r),T.call(this,e,t),this},Writable.prototype._undestroy=d.undestroy,Writable.prototype._destroy=function(e,t){t(e)},Writable.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},Writable.fromWeb=function(e,t){return lazyWebStreams().newStreamWritableFromWritableStream(e,t)},Writable.toWeb=function(e){return lazyWebStreams().newWritableStreamFromStreamWritable(e)},Aa}function requireDuplexify(){if(ma)return ba;ma=1;const e=t,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:c,isDuplexNodeStream:u}=requireUtils(),l=requireEndOfStream(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:d}}=requireErrors(),{destroyer:p}=requireDestroy(),A=requireDuplex(),y=requireReadable(),{createDeferredPromise:b}=requireUtil(),m=requireFrom(),I=globalThis.Blob||e.Blob,w=void 0!==I?function isBlob(e){return e instanceof I}:function isBlob(e){return!1},_=globalThis.AbortController||requireBrowser$1().AbortController,{FunctionPrototypeCall:B}=requirePrimordials();class Duplexify extends A{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function _duplexify(e){const t=e.readable&&"function"!=typeof e.readable.read?y.wrap(e.readable):e.readable,i=e.writable;let o,s,c,u,f,d=!!r(t),A=!!n(i);function onfinished(e){const t=u;u=null,t?t(e):e?f.destroy(e):d||A||f.destroy()}return f=new Duplexify({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==i||!i.writableObjectMode),readable:d,writable:A}),A&&(l(i,(e=>{A=!1,e&&p(t,e),onfinished(e)})),f._write=function(e,t,r){i.write(e,t)?r():o=r},f._final=function(e){i.end(),s=e},i.on("drain",(function(){if(o){const e=o;o=null,e()}})),i.on("finish",(function(){if(s){const e=s;s=null,e()}}))),d&&(l(t,(e=>{d=!1,e&&p(t,e),onfinished(e)})),t.on("readable",(function(){if(c){const e=c;c=null,e()}})),t.on("end",(function(){f.push(null)})),f._read=function(){for(;;){const e=t.read();if(null===e)return void(c=f._read);if(!f.push(e))return}}),f._destroy=function(e,r){e||null===u||(e=new h),c=null,o=null,s=null,null===u?r(e):(u=r,p(i,e),p(t,e))},f}return ba=function duplexify(e,t){if(u(e))return e;if(s(e))return _duplexify({readable:e});if(c(e))return _duplexify({writable:e});if(o(e))return _duplexify({writable:!1,readable:!1});if("function"==typeof e){const{value:r,write:n,final:o,destroy:s}=function fromAsyncGen(e){let{promise:t,resolve:r}=b();const n=new _,i=n.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:n,done:o,cb:s}=await e;if(as.nextTick(s),o)return;if(i.aborted)throw new h(void 0,{cause:i.reason});({promise:t,resolve:r}=b()),yield n}}(),{signal:i}),write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){n.abort(),t(e)}}}(e);if(i(r))return m(Duplexify,r,{objectMode:!0,write:n,final:o,destroy:s});const c=null==r?void 0:r.then;if("function"==typeof c){let e;const t=B(c,r,(e=>{if(null!=e)throw new d("nully","body",e)}),(t=>{p(e,t)}));return e=new Duplexify({objectMode:!0,readable:!1,write:n,final(e){o((async()=>{try{await t,as.nextTick(e,null)}catch(t){as.nextTick(e,t)}}))},destroy:s})}throw new d("Iterable, AsyncIterable or AsyncFunction",t,r)}if(w(e))return duplexify(e.arrayBuffer());if(i(e))return m(Duplexify,e,{objectMode:!0,writable:!1});if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable)){return _duplexify({readable:null!=e&&e.readable?s(null==e?void 0:e.readable)?null==e?void 0:e.readable:duplexify(e.readable):void 0,writable:null!=e&&e.writable?c(null==e?void 0:e.writable)?null==e?void 0:e.writable:duplexify(e.writable):void 0})}const r=null==e?void 0:e.then;if("function"==typeof r){let t;return B(r,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{p(t,e)})),t=new Duplexify({objectMode:!0,writable:!1,read(){}})}throw new f(t,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)},ba}function requireDuplex(){if(Ea)return Ia;Ea=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=requirePrimordials();Ia=Duplex;const i=requireReadable(),o=requireWritable();n(Duplex.prototype,i.prototype),n(Duplex,i);{const e=r(o.prototype);for(let t=0;t<e.length;t++){const r=e[t];Duplex.prototype[r]||(Duplex.prototype[r]=o.prototype[r])}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);i.call(this,e),o.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let s,c;function lazyWebStreams(){return void 0===s&&(s={}),s}return e(Duplex.prototype,{writable:t(o.prototype,"writable"),writableHighWaterMark:t(o.prototype,"writableHighWaterMark"),writableObjectMode:t(o.prototype,"writableObjectMode"),writableBuffer:t(o.prototype,"writableBuffer"),writableLength:t(o.prototype,"writableLength"),writableFinished:t(o.prototype,"writableFinished"),writableCorked:t(o.prototype,"writableCorked"),writableEnded:t(o.prototype,"writableEnded"),writableNeedDrain:t(o.prototype,"writableNeedDrain"),destroyed:{get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),Duplex.fromWeb=function(e,t){return lazyWebStreams().newStreamDuplexFromReadableWritablePair(e,t)},Duplex.toWeb=function(e){return lazyWebStreams().newReadableWritablePairFromDuplex(e)},Duplex.from=function(e){return c||(c=requireDuplexify()),c(e,"body")},Ia}function requireTransform(){if(_a)return wa;_a=1;const{ObjectSetPrototypeOf:e,Symbol:t}=requirePrimordials();wa=Transform;const{ERR_METHOD_NOT_IMPLEMENTED:r}=requireErrors().codes,n=requireDuplex();e(Transform.prototype,n.prototype),e(Transform,n);const i=t("kCallback");function Transform(e){if(!(this instanceof Transform))return new Transform(e);n.call(this,e),this._readableState.sync=!1,this[i]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function final(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function prefinish(){this._final!==final&&final.call(this)}return Transform.prototype._final=final,Transform.prototype._transform=function(e,t,n){throw new r("_transform()")},Transform.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,s=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),o.ended||s===n.length||n.length<n.highWaterMark||0===n.highWaterMark||0===n.length?r():this[i]=r)}))},Transform.prototype._read=function(){if(this[i]){const e=this[i];this[i]=null,e()}},wa}function requirePassthrough(){if(Ca)return Ba;Ca=1;const{ObjectSetPrototypeOf:e}=requirePrimordials();Ba=PassThrough;const t=requireTransform();function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);t.call(this,e)}return e(PassThrough.prototype,t.prototype),e(PassThrough,t),PassThrough.prototype._transform=function(e,t,r){r(null,e)},Ba}function requirePipeline(){if(ka)return Sa;ka=1;const{ArrayIsArray:e,Promise:t,SymbolAsyncIterator:r}=requirePrimordials(),n=requireEndOfStream(),{once:i}=requireUtil(),o=requireDestroy(),s=requireDuplex(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:l,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:f},AbortError:d}=requireErrors(),{validateFunction:p,validateAbortSignal:A}=requireValidators(),{isIterable:y,isReadable:b,isReadableNodeStream:m,isNodeStream:I}=requireUtils(),w=globalThis.AbortController||requireBrowser$1().AbortController;let _,B;function destroyer(e,t,r){let i=!1;e.on("close",(()=>{i=!0}));return{destroy:t=>{i||(i=!0,o.destroyer(e,t||new f("pipe")))},cleanup:n(e,{readable:t,writable:r},(e=>{i=!e}))}}function makeAsyncIterable(e){if(y(e))return e;if(m(e))return async function*fromReadable(e){B||(B=requireReadable());yield*B.prototype[r].call(e)}(e);throw new u("val",["Readable","Iterable","AsyncIterable"],e)}async function pump(e,r,i,{end:o}){let s,u=null;const resume=e=>{if(e&&(s=e),u){const e=u;u=null,e()}},wait=()=>new t(((e,t)=>{s?t(s):u=()=>{s?t(s):e()}}));r.on("drain",resume);const l=n(r,{readable:!1},resume);try{r.writableNeedDrain&&await wait();for await(const t of e)r.write(t)||await wait();o&&r.end(),await wait(),i()}catch(e){i(s!==e?c(s,e):e)}finally{l(),r.off("drain",resume)}}function pipelineImpl(t,r,n){if(1===t.length&&e(t[0])&&(t=t[0]),t.length<2)throw new h("streams");const i=new w,o=i.signal,c=null==n?void 0:n.signal,f=[];function abort(){finishImpl(new d)}let p,B;A(c,"options.signal"),null==c||c.addEventListener("abort",abort);const C=[];let S,k=0;function finish(e){finishImpl(e,0==--k)}function finishImpl(e,t){if(!e||p&&"ERR_STREAM_PREMATURE_CLOSE"!==p.code||(p=e),p||t){for(;C.length;)C.shift()(p);null==c||c.removeEventListener("abort",abort),i.abort(),t&&(p||f.forEach((e=>e())),as.nextTick(r,p,B))}}for(let x=0;x<t.length;x++){const T=t[x],D=x<t.length-1,Q=x>0,L=D||!1!==(null==n?void 0:n.end),R=x===t.length-1;if(I(T)){if(L){const{destroy:U,cleanup:M}=destroyer(T,D,Q);C.push(U),b(T)&&R&&f.push(M)}function onError(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&finish(e)}T.on("error",onError),b(T)&&R&&f.push((()=>{T.removeListener("error",onError)}))}if(0===x)if("function"==typeof T){if(S=T({signal:o}),!y(S))throw new l("Iterable, AsyncIterable or Stream","source",S)}else S=y(T)||m(T)?T:s.from(T);else if("function"==typeof T)if(S=makeAsyncIterable(S),S=T(S,{signal:o}),D){if(!y(S,!0))throw new l("AsyncIterable",`transform[${x-1}]`,S)}else{var v;_||(_=requirePassthrough());const O=new _({objectMode:!0}),N=null===(v=S)||void 0===v?void 0:v.then;if("function"==typeof N)k++,N.call(S,(e=>{B=e,null!=e&&O.write(e),L&&O.end(),as.nextTick(finish)}),(e=>{O.destroy(e),as.nextTick(finish,e)}));else{if(!y(S,!0))throw new l("AsyncIterable or Promise","destination",S);k++,pump(S,O,finish,{end:L})}S=O;const{destroy:F,cleanup:$}=destroyer(S,!1,!0);C.push(F),R&&f.push($)}else if(I(T)){if(m(S)){k+=2;const P=pipe(S,T,finish,{end:L});b(T)&&R&&f.push(P)}else{if(!y(S))throw new u("val",["Readable","Iterable","AsyncIterable"],S);k++,pump(S,T,finish,{end:L})}S=T}else S=s.from(T)}return(null!=o&&o.aborted||null!=c&&c.aborted)&&as.nextTick(abort),S}function pipe(e,t,r,{end:i}){return e.pipe(t,{end:i}),i?e.once("end",(()=>t.end())):r(),n(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),n(t,{readable:!1,writable:!0},r)}return Sa={pipelineImpl:pipelineImpl,pipeline:function pipeline(...e){return pipelineImpl(e,i(function popCallback(e){return p(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}}function requireCompose(){if(xa)return va;xa=1;const{pipeline:e}=requirePipeline(),t=requireDuplex(),{destroyer:r}=requireDestroy(),{isNodeStream:n,isReadable:i,isWritable:o}=requireUtils(),{AbortError:s,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:u}}=requireErrors();return va=function compose(...l){if(0===l.length)throw new u("streams");if(1===l.length)return t.from(l[0]);const h=[...l];if("function"==typeof l[0]&&(l[0]=t.from(l[0])),"function"==typeof l[l.length-1]){const e=l.length-1;l[e]=t.from(l[e])}for(let e=0;e<l.length;++e)if(n(l[e])){if(e<l.length-1&&!i(l[e]))throw new c(`streams[${e}]`,h[e],"must be readable");if(e>0&&!o(l[e]))throw new c(`streams[${e}]`,h[e],"must be writable")}let f,d,p,A,y;const b=l[0],m=e(l,(function onfinished(e){const t=A;A=null,t?t(e):e?y.destroy(e):w||I||y.destroy()})),I=!!o(b),w=!!i(m);return y=new t({writableObjectMode:!(null==b||!b.writableObjectMode),readableObjectMode:!(null==m||!m.writableObjectMode),writable:I,readable:w}),I&&(y._write=function(e,t,r){b.write(e,t)?r():f=r},y._final=function(e){b.end(),d=e},b.on("drain",(function(){if(f){const e=f;f=null,e()}})),m.on("finish",(function(){if(d){const e=d;d=null,e()}}))),w&&(m.on("readable",(function(){if(p){const e=p;p=null,e()}})),m.on("end",(function(){y.push(null)})),y._read=function(){for(;;){const e=m.read();if(null===e)return void(p=y._read);if(!y.push(e))return}}),y._destroy=function(e,t){e||null===A||(e=new s),p=null,f=null,d=null,null===A?t(e):(A=t,r(m,e))},y},va}function requirePromises(){if(Da)return Ta;Da=1;const{ArrayPrototypePop:e,Promise:t}=requirePrimordials(),{isIterable:r,isNodeStream:n}=requireUtils(),{pipelineImpl:i}=requirePipeline(),{finished:o}=requireEndOfStream();return Ta={finished:o,pipeline:function pipeline(...o){return new t(((t,s)=>{let c,u;const l=o[o.length-1];if(l&&"object"==typeof l&&!n(l)&&!r(l)){const t=e(o);c=t.signal,u=t.end}i(o,((e,r)=>{e?s(e):t(r)}),{signal:c,end:u})}))}}}function requireStream(){if(Qa)return Fs.exports;Qa=1;const{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=requirePrimordials(),{promisify:{custom:i}}=requireUtil(),{streamReturningOperators:o,promiseReturningOperators:s}=function requireOperators(){if(Xs)return qs;Xs=1;const e=globalThis.AbortController||requireBrowser$1().AbortController,{codes:{ERR_INVALID_ARG_TYPE:t,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:n},AbortError:i}=requireErrors(),{validateAbortSignal:o,validateInteger:s,validateObject:c}=requireValidators(),u=requirePrimordials().Symbol("kWeak"),{finished:l}=requireEndOfStream(),{ArrayPrototypePush:h,MathFloor:f,Number:d,NumberIsNaN:p,Promise:A,PromiseReject:y,PromisePrototypeCatch:b,Symbol:m}=requirePrimordials(),I=m("kEmpty"),w=m("kEof");function map(r,n){if("function"!=typeof r)throw new t("fn",["Function","AsyncFunction"],r);null!=n&&c(n,"options"),null!=(null==n?void 0:n.signal)&&o(n.signal,"options.signal");let u=1;return null!=(null==n?void 0:n.concurrency)&&(u=f(n.concurrency)),s(u,"concurrency",1),async function*map(){var t,o;const s=new e,c=this,l=[],h=s.signal,f={signal:h},abort=()=>s.abort();let d,p;null!=n&&null!==(t=n.signal)&&void 0!==t&&t.aborted&&abort(),null==n||null===(o=n.signal)||void 0===o||o.addEventListener("abort",abort);let m=!1;function onDone(){m=!0}!async function pump(){try{for await(let t of c){var e;if(m)return;if(h.aborted)throw new i;try{t=r(t,f)}catch(e){t=y(e)}t!==I&&("function"==typeof(null===(e=t)||void 0===e?void 0:e.catch)&&t.catch(onDone),l.push(t),d&&(d(),d=null),!m&&l.length&&l.length>=u&&await new A((e=>{p=e})))}l.push(w)}catch(e){const t=y(e);b(t,onDone),l.push(t)}finally{var t;m=!0,d&&(d(),d=null),null==n||null===(t=n.signal)||void 0===t||t.removeEventListener("abort",abort)}}();try{for(;;){for(;l.length>0;){const e=await l[0];if(e===w)return;if(h.aborted)throw new i;e!==I&&(yield e),l.shift(),p&&(p(),p=null)}await new A((e=>{d=e}))}}finally{s.abort(),m=!0,p&&(p(),p=null)}}.call(this)}async function some(e,t){for await(const r of filter.call(this,e,t))return!0;return!1}function filter(e,r){if("function"!=typeof e)throw new t("fn",["Function","AsyncFunction"],e);return map.call(this,(async function filterFn(t,r){return await e(t,r)?t:I}),r)}class ReduceAwareErrMissingArgs extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function toIntegerOrInfinity(e){if(e=d(e),p(e))return 0;if(e<0)throw new n("number",">= 0",e);return e}return qs.streamReturningOperators={asIndexedPairs:function asIndexedPairs(e){return null!=e&&c(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),async function*asIndexedPairs(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new i({cause:e.signal.reason});yield[t++,n]}}.call(this)},drop:function drop(e,t){return null!=t&&c(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal"),e=toIntegerOrInfinity(e),async function*drop(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new i;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new i;e--<=0&&(yield r)}}.call(this)},filter:filter,flatMap:function flatMap(e,t){const r=map.call(this,e,t);return async function*flatMap(){for await(const e of r)yield*e}.call(this)},map:map,take:function take(e,t){return null!=t&&c(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal"),e=toIntegerOrInfinity(e),async function*take(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new i;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new i;if(!(e-- >0))return;yield r}}.call(this)}},qs.promiseReturningOperators={every:async function every(e,r){if("function"!=typeof e)throw new t("fn",["Function","AsyncFunction"],e);return!await some.call(this,(async(...t)=>!await e(...t)),r)},forEach:async function forEach(e,r){if("function"!=typeof e)throw new t("fn",["Function","AsyncFunction"],e);for await(const t of map.call(this,(async function forEachFn(t,r){return await e(t,r),I}),r));},reduce:async function reduce(r,n,s){var h;if("function"!=typeof r)throw new t("reducer",["Function","AsyncFunction"],r);null!=s&&c(s,"options"),null!=(null==s?void 0:s.signal)&&o(s.signal,"options.signal");let f=arguments.length>1;if(null!=s&&null!==(h=s.signal)&&void 0!==h&&h.aborted){const e=new i(void 0,{cause:s.signal.reason});throw this.once("error",(()=>{})),await l(this.destroy(e)),e}const d=new e,p=d.signal;if(null!=s&&s.signal){const e={once:!0,[u]:this};s.signal.addEventListener("abort",(()=>d.abort()),e)}let A=!1;try{for await(const e of this){var y;if(A=!0,null!=s&&null!==(y=s.signal)&&void 0!==y&&y.aborted)throw new i;f?n=await r(n,e,{signal:p}):(n=e,f=!0)}if(!A&&!f)throw new ReduceAwareErrMissingArgs}finally{d.abort()}return n},toArray:async function toArray(e){null!=e&&c(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new i(void 0,{cause:e.signal.reason});h(t,n)}return t},some:some,find:async function find(e,t){for await(const r of filter.call(this,e,t))return r}},qs}(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=requireErrors(),u=requireCompose(),{pipeline:l}=requirePipeline(),{destroyer:h}=requireDestroy(),f=requireEndOfStream(),d=requirePromises(),p=requireUtils(),A=Fs.exports=requireLegacy().Stream;A.isDisturbed=p.isDisturbed,A.isErrored=p.isErrored,A.isReadable=p.isReadable,A.Readable=requireReadable();for(const b of r(o)){const m=o[b];function fn(...e){if(new.target)throw c();return A.Readable.from(n(m,this,e))}e(fn,"name",{value:m.name}),e(fn,"length",{value:m.length}),e(A.Readable.prototype,b,{value:fn,enumerable:!1,configurable:!0,writable:!0})}for(const I of r(s)){const w=s[I];function fn(...e){if(new.target)throw c();return n(w,this,e)}e(fn,"name",{value:w.name}),e(fn,"length",{value:w.length}),e(A.Readable.prototype,I,{value:fn,enumerable:!1,configurable:!0,writable:!0})}A.Writable=requireWritable(),A.Duplex=requireDuplex(),A.Transform=requireTransform(),A.PassThrough=requirePassthrough(),A.pipeline=l;const{addAbortSignal:y}=requireAddAbortSignal();return A.addAbortSignal=y,A.finished=f,A.destroy=h,A.compose=u,e(A,"promises",{configurable:!0,enumerable:!0,get:()=>d}),e(l,i,{enumerable:!0,get:()=>d.pipeline}),e(f,i,{enumerable:!0,get:()=>d.finished}),A.Stream=A,A._isUint8Array=function isUint8Array(e){return e instanceof Uint8Array},A._uint8ArrayToBuffer=function _uint8ArrayToBuffer(e){return t.Buffer.from(e.buffer,e.byteOffset,e.byteLength)},Fs.exports}function requireBrowser(){return La||(La=1,function(e){const t=requireStream(),r=requirePromises(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>r}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(Ns)),Ns.exports}Ra=Os,function(t){t.runningInNodeJS=function(){return"object"==typeof as&&"object"==typeof as.versions&&"string"==typeof as.versions.node},t.runningInMainNodeJSModule=function(){return t.runningInNodeJS()&&require.main===Ra},t.commonJSAvailable=function(){return!0},t.runningInWebWorker=function(){return"undefined"==typeof window&&"object"==typeof self&&"function"==typeof self.addEventListener&&"function"==typeof self.close},t.runningInNodeChildProcess=function(){return t.runningInNodeJS()&&"function"==typeof as.send},t.runningInNullOrigin=function(){return"object"==typeof window&&"object"==typeof window.location&&"object"==typeof document&&"http:"!==document.location.protocol&&"https:"!==document.location.protocol},t.webWorkersAvailable=function(){return!("function"!=typeof Worker||t.runningInNullOrigin()||t.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},t.log=function(e,t){void 0===t&&(t=!1),"object"==typeof console&&(console.log(e),t&&"object"==typeof document&&(document.body.innerHTML+=e+"<br/>"))},t.createErrorMessage=function(e,r){if(void 0===r&&(r="Unhandled exception"),null==e)return r;if(r+=": ","object"==typeof e.content){if(t.runningInNodeJS())return r+e.content.stack;var n=JSON.stringify(e.content);return"{}"!==n?r+n:r+e.content}return"string"==typeof e.content?r+e.content:r+e},t.printExceptionAndStackTraceToConsole=function(e,r){void 0===r&&(r="Unhandled exception"),t.log(t.createErrorMessage(e,r))},t.getGlobalObject=function(){return"object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:{}},t.toString=Object.prototype.toString,t.commonJSAvailable()&&(Ra.exports=t)}(Ua||(Ua={})),function(e){if("function"==typeof Uint8Array&&0!==new Uint8Array(1).subarray(1).byteLength){var subarray=function(e,t){var clamp=function(e,t,r){return e<t?t:e>r?r:e};e|=0,t|=0,arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=clamp(e,0,this.length);var r=(t=clamp(t,0,this.length))-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)},t=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],r=void 0;if("object"==typeof window?r=window:"object"==typeof self&&(r=self),void 0!==r)for(var n=0;n<t.length;n++)r[t[n]]&&(r[t[n]].prototype.subarray=subarray)}}(),function(e){var t=function(){function AsyncCompressor(){}return AsyncCompressor.compressAsync=function(t,r,n){var i=new e.Timer,o=new e.Compressor;if(!n)throw new TypeError("compressAsync: No callback argument given");if("string"==typeof t)t=e.encodeUTF8(t);else if(null==t||!(t instanceof Uint8Array))return void n(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));var s=e.ArrayTools.splitByteArray(t,r.blockSize),c=[],compressBlocksStartingAt=function(t){if(t<s.length){var u=void 0;try{u=o.compressBlock(s[t])}catch(e){return void n(void 0,e)}c.push(u),i.getElapsedTime()<=20?compressBlocksStartingAt(t+1):(e.enqueueImmediate((function(){return compressBlocksStartingAt(t+1)})),i.restart())}else{var l=e.ArrayTools.concatUint8Arrays(c);e.enqueueImmediate((function(){var t;try{t=e.CompressionCommon.encodeCompressedBytes(l,r.outputEncoding)}catch(e){return void n(void 0,e)}e.enqueueImmediate((function(){return n(t)}))}))}};e.enqueueImmediate((function(){return compressBlocksStartingAt(0)}))},AsyncCompressor.createCompressionStream=function(){var t=new e.Compressor,r=new(requireBrowser().Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,i,o){var s;try{s=e.BufferTools.uint8ArrayToBuffer(t.compressBlock(e.BufferTools.bufferToUint8Array(n)))}catch(e){return void r.emit("error",e)}r.push(s),o()},r},AsyncCompressor}();e.AsyncCompressor=t}(Ua||(Ua={})),function(e){var t=function(){function AsyncDecompressor(){}return AsyncDecompressor.decompressAsync=function(t,r,n){if(!n)throw new TypeError("decompressAsync: No callback argument given");var i=new e.Timer;try{t=e.CompressionCommon.decodeCompressedBytes(t,r.inputEncoding)}catch(e){return void n(void 0,e)}var o=new e.Decompressor,s=e.ArrayTools.splitByteArray(t,r.blockSize),c=[],decompressBlocksStartingAt=function(t){if(t<s.length){var u=void 0;try{u=o.decompressBlock(s[t])}catch(e){return void n(void 0,e)}c.push(u),i.getElapsedTime()<=20?decompressBlocksStartingAt(t+1):(e.enqueueImmediate((function(){return decompressBlocksStartingAt(t+1)})),i.restart())}else{var l=e.ArrayTools.concatUint8Arrays(c);e.enqueueImmediate((function(){var t;try{t=e.CompressionCommon.encodeDecompressedBytes(l,r.outputEncoding)}catch(e){return void n(void 0,e)}e.enqueueImmediate((function(){return n(t)}))}))}};e.enqueueImmediate((function(){return decompressBlocksStartingAt(0)}))},AsyncDecompressor.createDecompressionStream=function(){var t=new e.Decompressor,r=new(requireBrowser().Transform)({decodeStrings:!0,highWaterMark:65536});return r._transform=function(n,i,o){var s;try{s=e.BufferTools.uint8ArrayToBuffer(t.decompressBlock(e.BufferTools.bufferToUint8Array(n)))}catch(e){return void r.emit("error",e)}r.push(s),o()},r},AsyncDecompressor}();e.AsyncDecompressor=t}(Ua||(Ua={})),function(e){var t;!function(t){t.compressAsync=function(e,r,n){if("ByteArray"!=r.inputEncoding||e instanceof Uint8Array){var i={token:Math.random().toString(),type:"compress",data:e,inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding},responseListener=function(e){var r=e.data;r&&r.token==i.token&&(t.globalWorker.removeEventListener("message",responseListener),"error"==r.type?n(void 0,new Error(r.error)):n(r.data))};t.globalWorker.addEventListener("message",responseListener),t.globalWorker.postMessage(i,[])}else n(void 0,new TypeError("compressAsync: input is not a Uint8Array"))},t.decompressAsync=function(e,r,n){var i={token:Math.random().toString(),type:"decompress",data:e,inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding},responseListener=function(e){var r=e.data;r&&r.token==i.token&&(t.globalWorker.removeEventListener("message",responseListener),"error"==r.type?n(void 0,new Error(r.error)):n(r.data))};t.globalWorker.addEventListener("message",responseListener),t.globalWorker.postMessage(i,[])},t.installWebWorkerIfNeeded=function(){"object"==typeof self&&void 0===self.document&&null!=self.addEventListener&&(self.addEventListener("message",(function(t){var r=t.data;if("compress"==r.type){var n=void 0;try{n=e.compress(r.data,{outputEncoding:r.outputEncoding})}catch(t){return void self.postMessage({token:r.token,type:"error",error:e.createErrorMessage(t)},[])}(i={token:r.token,type:"compressionResult",data:n,encoding:r.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(i,[i.data.buffer]):self.postMessage(i,[])}else if("decompress"==r.type){var i,o=void 0;try{o=e.decompress(r.data,{inputEncoding:r.inputEncoding,outputEncoding:r.outputEncoding})}catch(t){return void self.postMessage({token:r.token,type:"error",error:e.createErrorMessage(t)},[])}(i={token:r.token,type:"decompressionResult",data:o,encoding:r.outputEncoding}).data instanceof Uint8Array&&-1===navigator.appVersion.indexOf("MSIE 10")?self.postMessage(i,[i.data.buffer]):self.postMessage(i,[])}})),self.addEventListener("error",(function(t){e.log(e.createErrorMessage(t.error,"Unexpected LZUTF8 WebWorker exception"))})))},t.createGlobalWorkerIfNeeded=function(){if(t.globalWorker)return!0;if(!e.webWorkersAvailable())return!1;if(!t.scriptURI&&"object"==typeof document){var r=document.getElementById("lzutf8");null!=r&&(t.scriptURI=r.getAttribute("src")||void 0)}return!!t.scriptURI&&(t.globalWorker=new Worker(t.scriptURI),!0)},t.terminate=function(){t.globalWorker&&(t.globalWorker.terminate(),t.globalWorker=void 0)}}(t=e.WebWorker||(e.WebWorker={})),t.installWebWorkerIfNeeded()}(Ua||(Ua={})),function(e){var t=function(){function ArraySegment(e,t,r){this.container=e,this.startPosition=t,this.length=r}return ArraySegment.prototype.get=function(e){return this.container[this.startPosition+e]},ArraySegment.prototype.getInReversedOrder=function(e){return this.container[this.startPosition+this.length-1-e]},ArraySegment.prototype.set=function(e,t){this.container[this.startPosition+e]=t},ArraySegment}();e.ArraySegment=t}(Ua||(Ua={})),function(e){var t;(t=e.ArrayTools||(e.ArrayTools={})).copyElements=function(e,t,r,n,i){for(;i--;)r[n++]=e[t++]},t.zeroElements=function(e,t,r){for(;r--;)e[t++]=0},t.countNonzeroValuesInArray=function(e){for(var t=0,r=0;r<e.length;r++)e[r]&&t++;return t},t.truncateStartingElements=function(e,t){if(e.length<=t)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var r=e.length-t,n=0;n<t;n++)e[n]=e[r+n];e.length=t},t.doubleByteArrayCapacity=function(e){var t=new Uint8Array(2*e.length);return t.set(e),t},t.concatUint8Arrays=function(e){for(var t=0,r=0,n=e;r<n.length;r++)t+=(u=n[r]).length;for(var i=new Uint8Array(t),o=0,s=0,c=e;s<c.length;s++){var u=c[s];i.set(u,o),o+=u.length}return i},t.splitByteArray=function(e,t){for(var r=[],n=0;n<e.length;){var i=Math.min(t,e.length-n);r.push(e.subarray(n,n+i)),n+=i}return r}}(Ua||(Ua={})),function(e){var r;(r=e.BufferTools||(e.BufferTools={})).convertToUint8ArrayIfNeeded=function(e){return"function"==typeof t.Buffer&&t.Buffer.isBuffer(e)?r.bufferToUint8Array(e):e},r.uint8ArrayToBuffer=function(e){if(t.Buffer.prototype instanceof Uint8Array){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return Object.setPrototypeOf(r,t.Buffer.prototype),r}for(var n=e.length,i=new t.Buffer(n),o=0;o<n;o++)i[o]=e[o];return i},r.bufferToUint8Array=function(e){if(t.Buffer.prototype instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(var r=e.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=e[i];return n}}(Ua||(Ua={})),function(e){var r;(r=e.CompressionCommon||(e.CompressionCommon={})).getCroppedBuffer=function(e,t,r,n){void 0===n&&(n=0);var i=new Uint8Array(r+n);return i.set(e.subarray(t,t+r)),i},r.getCroppedAndAppendedByteArray=function(t,r,n,i){return e.ArrayTools.concatUint8Arrays([t.subarray(r,r+n),i])},r.detectCompressionSourceEncoding=function(e){if(null==e)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if("string"==typeof e)return"String";if(e instanceof Uint8Array||"function"==typeof t.Buffer&&t.Buffer.isBuffer(e))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},r.encodeCompressedBytes=function(t,r){switch(r){case"ByteArray":return t;case"Buffer":return e.BufferTools.uint8ArrayToBuffer(t);case"Base64":return e.encodeBase64(t);case"BinaryString":return e.encodeBinaryString(t);case"StorageBinaryString":return e.encodeStorageBinaryString(t);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},r.decodeCompressedBytes=function(t,r){if(null==r)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(r){case"ByteArray":case"Buffer":var n=e.BufferTools.convertToUint8ArrayIfNeeded(t);if(!(n instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return n;case"Base64":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return e.decodeBase64(t);case"BinaryString":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return e.decodeBinaryString(t);case"StorageBinaryString":if("string"!=typeof t)throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return e.decodeStorageBinaryString(t);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(r,"'"))}},r.encodeDecompressedBytes=function(r,n){switch(n){case"String":return e.decodeUTF8(r);case"ByteArray":return r;case"Buffer":if("function"!=typeof t.Buffer)throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return e.BufferTools.uint8ArrayToBuffer(r);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}}(Ua||(Ua={})),function(e){var t;!function(t){var r,n=[];t.enqueueImmediate=function(e){n.push(e),1===n.length&&r()},t.initializeScheduler=function(){var flush=function(){for(var t=0,r=n;t<r.length;t++){var i=r[t];try{i.call(void 0)}catch(t){e.printExceptionAndStackTraceToConsole(t,"enqueueImmediate exception")}}n.length=0};if(e.runningInNodeJS())r=function(){return setImmediate((function(){return flush()}))};else if("object"==typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.postMessage){var t,i="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",(function(e){e.data===i&&flush()})),t=e.runningInNullOrigin()?"*":window.location.href,r=function(){return window.postMessage(i,t)}}else if("function"==typeof MessageChannel&&"function"==typeof MessagePort){var o=new MessageChannel;o.port1.onmessage=function(){return flush()},r=function(){return o.port2.postMessage(0)}}else r=function(){return setTimeout((function(){return flush()}),0)}},t.initializeScheduler()}(t=e.EventLoop||(e.EventLoop={})),e.enqueueImmediate=function(e){return t.enqueueImmediate(e)}}(Ua||(Ua={})),function(e){var t;(t=e.ObjectTools||(e.ObjectTools={})).override=function(e,r){return t.extend(e,r)},t.extend=function(e,t){if(null==e)throw new TypeError("obj is null or undefined");if("object"!=typeof e)throw new TypeError("obj is not an object");if(null==t&&(t={}),"object"!=typeof t)throw new TypeError("newProperties is not an object");if(null!=t)for(var r in t)e[r]=t[r];return e}}(Ua||(Ua={})),function(e){e.getRandomIntegerInRange=function(e,t){return e+Math.floor(Math.random()*(t-e))},e.getRandomUTF16StringOfLength=function(t){for(var r="",n=0;n<t;n++){var i=void 0;do{i=e.getRandomIntegerInRange(0,1114112)}while(i>=55296&&i<=57343);r+=e.Encoding.CodePoint.decodeToString(i)}return r}}(Ua||(Ua={})),function(e){var t=function(){function StringBuilder(e){void 0===e&&(e=1024),this.outputBufferCapacity=e,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return StringBuilder.prototype.appendCharCode=function(e){this.outputBuffer[this.outputPosition++]=e,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},StringBuilder.prototype.appendCharCodes=function(e){for(var t=0,r=e.length;t<r;t++)this.appendCharCode(e[t])},StringBuilder.prototype.appendString=function(e){for(var t=0,r=e.length;t<r;t++)this.appendCharCode(e.charCodeAt(t))},StringBuilder.prototype.appendCodePoint=function(e){if(e<=65535)this.appendCharCode(e);else{if(!(e<=1114111))throw new Error("appendCodePoint: A code point of ".concat(e," cannot be encoded in UTF-16"));this.appendCharCode(55296+(e-65536>>>10)),this.appendCharCode(56320+(e-65536&1023))}},StringBuilder.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},StringBuilder.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},StringBuilder}();e.StringBuilder=t}(Ua||(Ua={})),function(e){var t=function(){function Timer(){this.restart()}return Timer.prototype.restart=function(){this.startTime=Timer.getTimestamp()},Timer.prototype.getElapsedTime=function(){return Timer.getTimestamp()-this.startTime},Timer.prototype.getElapsedTimeAndRestart=function(){var e=this.getElapsedTime();return this.restart(),e},Timer.prototype.logAndRestart=function(t,r){void 0===r&&(r=!0);var n=this.getElapsedTime(),i="".concat(t,": ").concat(n.toFixed(3),"ms");return e.log(i,r),this.restart(),n},Timer.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},Timer.getMicrosecondTimestamp=function(){return Math.floor(1e3*Timer.getTimestamp())},Timer.createGlobalTimestampFunction=function(){if("object"==typeof as&&"function"==typeof as.hrtime){var e=0;this.timestampFunc=function(){var t=as.hrtime(),r=1e3*t[0]+t[1]/1e6;return e+r},e=Date.now()-this.timestampFunc()}else if("object"==typeof chrome&&chrome.Interval){var t=Date.now(),r=new chrome.Interval;r.start(),this.timestampFunc=function(){return t+r.microseconds()/1e3}}else if("object"==typeof performance&&performance.now){var n=Date.now()-performance.now();this.timestampFunc=function(){return n+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return(new Date).getTime()}},Timer}();e.Timer=t}(Ua||(Ua={})),function(e){var t=function(){function Compressor(t){void 0===t&&(t=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,t&&"function"==typeof Uint32Array?this.prefixHashTable=new e.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new e.CompressorSimpleHashTable(this.PrefixHashTableSize)}return Compressor.prototype.compressBlock=function(t){if(null==t)throw new TypeError("compressBlock: undefined or null input received");return"string"==typeof t&&(t=e.encodeUTF8(t)),t=e.BufferTools.convertToUint8ArrayIfNeeded(t),this.compressUtf8Block(t)},Compressor.prototype.compressUtf8Block=function(e){if(!e||0==e.length)return new Uint8Array(0);var t=this.cropAndAddNewBytesToInputBuffer(e),r=this.inputBuffer,n=this.inputBuffer.length;this.outputBuffer=new Uint8Array(e.length),this.outputBufferPosition=0;for(var i=0,o=t;o<n;o++){var s=r[o],c=o<i;if(o>n-this.MinimumSequenceLength)c||this.outputRawByte(s);else{var u=this.getBucketIndexForPrefix(o);if(!c){var l=this.findLongestMatch(o,u);null!=l&&(this.outputPointerBytes(l.length,l.distance),i=o+l.length,c=!0)}c||this.outputRawByte(s);var h=this.inputBufferStreamOffset+o;this.prefixHashTable.addValueToBucket(u,h)}}return this.outputBuffer.subarray(0,this.outputBufferPosition)},Compressor.prototype.findLongestMatch=function(e,t){var r=this.prefixHashTable.getArraySegmentForBucketIndex(t,this.reusableArraySegmentObject);if(null==r)return null;for(var n,i=this.inputBuffer,o=0,s=0;s<r.length;s++){var c=r.getInReversedOrder(s)-this.inputBufferStreamOffset,u=e-c,l=void 0;if(l=void 0===n?this.MinimumSequenceLength-1:n<128&&u>=128?o+(o>>>1):o,u>this.MaximumMatchDistance||l>=this.MaximumSequenceLength||e+l>=i.length)break;if(i[c+l]===i[e+l])for(var h=0;;h++){if(e+h===i.length||i[c+h]!==i[e+h]){h>l&&(n=u,o=h);break}if(h===this.MaximumSequenceLength)return{distance:u,length:this.MaximumSequenceLength}}}return void 0!==n?{distance:n,length:o}:null},Compressor.prototype.getBucketIndexForPrefix=function(e){return(7880599*this.inputBuffer[e]+39601*this.inputBuffer[e+1]+199*this.inputBuffer[e+2]+this.inputBuffer[e+3])%this.PrefixHashTableSize},Compressor.prototype.outputPointerBytes=function(e,t){t<128?(this.outputRawByte(192|e),this.outputRawByte(t)):(this.outputRawByte(224|e),this.outputRawByte(t>>>8),this.outputRawByte(255&t))},Compressor.prototype.outputRawByte=function(e){this.outputBuffer[this.outputBufferPosition++]=e},Compressor.prototype.cropAndAddNewBytesToInputBuffer=function(t){if(void 0===this.inputBuffer)return this.inputBuffer=t,0;var r=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),n=this.inputBuffer.length-r;return this.inputBuffer=e.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,n,r,t),this.inputBufferStreamOffset+=n,r},Compressor}();e.Compressor=t}(Ua||(Ua={})),function(e){var t=function(){function CompressorCustomHashTable(e){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(2*e),this.storage=new Uint32Array(2*e),this.storageIndex=1}return CompressorCustomHashTable.prototype.addValueToBucket=function(t,r){t<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var n,i=this.bucketLocators[t];if(0===i)i=this.storageIndex,n=1,this.storage[this.storageIndex]=r,this.storageIndex+=this.minimumBucketCapacity;else{(n=this.bucketLocators[t+1])===this.maximumBucketCapacity-1&&(n=this.truncateBucketToNewerElements(i,n,this.maximumBucketCapacity/2));var o=i+n;0===this.storage[o]?(this.storage[o]=r,o===this.storageIndex&&(this.storageIndex+=n)):(e.ArrayTools.copyElements(this.storage,i,this.storage,this.storageIndex,n),i=this.storageIndex,this.storageIndex+=n,this.storage[this.storageIndex++]=r,this.storageIndex+=n),n++}this.bucketLocators[t]=i,this.bucketLocators[t+1]=n},CompressorCustomHashTable.prototype.truncateBucketToNewerElements=function(t,r,n){var i=t+r-n;return e.ArrayTools.copyElements(this.storage,i,this.storage,t,n),e.ArrayTools.zeroElements(this.storage,t+n,r-n),n},CompressorCustomHashTable.prototype.compact=function(){var t=this.bucketLocators,r=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var n=0;n<t.length;n+=2){var i=t[n+1];0!==i&&(this.bucketLocators[n]=this.storageIndex,this.bucketLocators[n+1]=i,this.storageIndex+=Math.max(Math.min(2*i,this.maximumBucketCapacity),this.minimumBucketCapacity))}for(this.storage=new Uint32Array(8*this.storageIndex),n=0;n<t.length;n+=2){var o=t[n];if(0!==o){var s=this.bucketLocators[n],c=this.bucketLocators[n+1];e.ArrayTools.copyElements(r,o,this.storage,s,c)}}},CompressorCustomHashTable.prototype.getArraySegmentForBucketIndex=function(t,r){t<<=1;var n=this.bucketLocators[t];return 0===n?null:(void 0===r&&(r=new e.ArraySegment(this.storage,n,this.bucketLocators[t+1])),r)},CompressorCustomHashTable.prototype.getUsedBucketCount=function(){return Math.floor(e.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},CompressorCustomHashTable.prototype.getTotalElementCount=function(){for(var e=0,t=0;t<this.bucketLocators.length;t+=2)e+=this.bucketLocators[t+1];return e},CompressorCustomHashTable}();e.CompressorCustomHashTable=t}(Ua||(Ua={})),function(e){var t=function(){function CompressorSimpleHashTable(e){this.maximumBucketCapacity=64,this.buckets=new Array(e)}return CompressorSimpleHashTable.prototype.addValueToBucket=function(t,r){var n=this.buckets[t];void 0===n?this.buckets[t]=[r]:(n.length===this.maximumBucketCapacity-1&&e.ArrayTools.truncateStartingElements(n,this.maximumBucketCapacity/2),n.push(r))},CompressorSimpleHashTable.prototype.getArraySegmentForBucketIndex=function(t,r){var n=this.buckets[t];return void 0===n?null:(void 0===r&&(r=new e.ArraySegment(n,0,n.length)),r)},CompressorSimpleHashTable.prototype.getUsedBucketCount=function(){return e.ArrayTools.countNonzeroValuesInArray(this.buckets)},CompressorSimpleHashTable.prototype.getTotalElementCount=function(){for(var e=0,t=0;t<this.buckets.length;t++)void 0!==this.buckets[t]&&(e+=this.buckets[t].length);return e},CompressorSimpleHashTable}();e.CompressorSimpleHashTable=t}(Ua||(Ua={})),function(e){var t=function(){function Decompressor(){this.MaximumMatchDistance=32767,this.outputPosition=0}return Decompressor.prototype.decompressBlockToString=function(t){return t=e.BufferTools.convertToUint8ArrayIfNeeded(t),e.decodeUTF8(this.decompressBlock(t))},Decompressor.prototype.decompressBlock=function(t){this.inputBufferRemainder&&(t=e.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,t]),this.inputBufferRemainder=void 0);for(var r=this.cropOutputBufferToWindowAndInitialize(Math.max(4*t.length,1024)),n=0,i=t.length;n<i;n++){var o=t[n];if(o>>>6==3){var s=o>>>5;if(n==i-1||n==i-2&&7==s){this.inputBufferRemainder=t.subarray(n);break}if(t[n+1]>>>7==1)this.outputByte(o);else{var c=31&o,u=void 0;6==s?(u=t[n+1],n+=1):(u=t[n+1]<<8|t[n+2],n+=2);for(var l=this.outputPosition-u,h=0;h<c;h++)this.outputByte(this.outputBuffer[l+h])}}else this.outputByte(o)}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),e.CompressionCommon.getCroppedBuffer(this.outputBuffer,r,this.outputPosition-r)},Decompressor.prototype.outputByte=function(t){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=e.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=t},Decompressor.prototype.cropOutputBufferToWindowAndInitialize=function(t){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(t),0;var r=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=e.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-r,r,t),this.outputPosition=r,this.outputBufferRemainder){for(var n=0;n<this.outputBufferRemainder.length;n++)this.outputByte(this.outputBufferRemainder[n]);this.outputBufferRemainder=void 0}return r},Decompressor.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var e=1;e<=4&&this.outputPosition-e>=0;e++){var t=this.outputBuffer[this.outputPosition-e];if(e<4&&t>>>3==30||e<3&&t>>>4==14||e<2&&t>>>5==6)return this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-e,this.outputPosition),void(this.outputPosition-=e)}},Decompressor}();e.Decompressor=t}(Ua||(Ua={})),function(e){!function(r){var n,i,o;n=r.Base64||(r.Base64={}),i=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),o=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),n.encode=function(t){return t&&0!=t.length?e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(t).toString("base64"):n.encodeWithJS(t):""},n.decode=function(r){return r?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(t.Buffer.from(r,"base64")):n.decodeWithJS(r):new Uint8Array(0)},n.encodeWithJS=function(t,r){if(void 0===r&&(r=!0),!t||0==t.length)return"";for(var n,o=i,s=new e.StringBuilder,c=0,u=t.length;c<u;c+=3)c<=u-3?(n=t[c]<<16|t[c+1]<<8|t[c+2],s.appendCharCode(o[n>>>18&63]),s.appendCharCode(o[n>>>12&63]),s.appendCharCode(o[n>>>6&63]),s.appendCharCode(o[63&n]),n=0):c===u-2?(n=t[c]<<16|t[c+1]<<8,s.appendCharCode(o[n>>>18&63]),s.appendCharCode(o[n>>>12&63]),s.appendCharCode(o[n>>>6&63]),r&&s.appendCharCode(61)):c===u-1&&(n=t[c]<<16,s.appendCharCode(o[n>>>18&63]),s.appendCharCode(o[n>>>12&63]),r&&(s.appendCharCode(61),s.appendCharCode(61)));return s.getOutputString()},n.decodeWithJS=function(e,t){if(!e||0==e.length)return new Uint8Array(0);var r=e.length%4;if(1===r)throw new Error("Invalid Base64 string: length % 4 == 1");2===r?e+="==":3===r&&(e+="="),t||(t=new Uint8Array(e.length));for(var n=0,i=e.length,s=0;s<i;s+=4){var c=o[e.charCodeAt(s)]<<18|o[e.charCodeAt(s+1)]<<12|o[e.charCodeAt(s+2)]<<6|o[e.charCodeAt(s+3)];t[n++]=c>>>16&255,t[n++]=c>>>8&255,t[n++]=255&c}return 61==e.charCodeAt(i-1)&&n--,61==e.charCodeAt(i-2)&&n--,t.subarray(0,n)}}(e.Encoding||(e.Encoding={}))}(Ua||(Ua={})),function(e){!function(t){var r;(r=t.BinaryString||(t.BinaryString={})).encode=function(t){if(null==t)throw new TypeError("BinaryString.encode: undefined or null input received");if(0===t.length)return"";for(var r=t.length,n=new e.StringBuilder,i=0,o=1,s=0;s<r;s+=2){var c=void 0;c=s==r-1?t[s]<<8:t[s]<<8|t[s+1],n.appendCharCode(i<<16-o|c>>>o),i=c&(1<<o)-1,15===o?(n.appendCharCode(i),i=0,o=1):o+=1,s>=r-2&&n.appendCharCode(i<<16-o)}return n.appendCharCode(32768|r%2),n.getOutputString()},r.decode=function(e){if("string"!=typeof e)throw new TypeError("BinaryString.decode: invalid input type");if(""==e)return new Uint8Array(0);for(var t=new Uint8Array(3*e.length),r=0,appendToOutput=function(e){t[r++]=e>>>8,t[r++]=255&e},n=0,i=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s>=32768?(32769==s&&r--,i=0):(0==i?n=s:(appendToOutput(n<<i|s>>>15-i),n=s&(1<<15-i)-1),15==i?i=0:i+=1)}return t.subarray(0,r)}}(e.Encoding||(e.Encoding={}))}(Ua||(Ua={})),function(e){!function(e){var t;(t=e.CodePoint||(e.CodePoint={})).encodeFromString=function(e,t){var r=e.charCodeAt(t);if(r<55296||r>56319)return r;var n=e.charCodeAt(t+1);if(n>=56320&&n<=57343)return n-56320+(r-55296<<10)+65536;throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(r,", followed by ").concat(n,", which is not a trailing surrogate character code."))},t.decodeToString=function(e){if(e<=65535)return String.fromCharCode(e);if(e<=1114111)return String.fromCharCode(55296+(e-65536>>>10),56320+(e-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(e," cannot be encoded in UTF-16"))}}(e.Encoding||(e.Encoding={}))}(Ua||(Ua={})),function(e){!function(e){var t,r;t=e.DecimalString||(e.DecimalString={}),r=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"],t.encode=function(e){for(var t=[],n=0;n<e.length;n++)t.push(r[e[n]]);return t.join(" ")}}(e.Encoding||(e.Encoding={}))}(Ua||(Ua={})),function(e){!function(e){var t;(t=e.StorageBinaryString||(e.StorageBinaryString={})).encode=function(t){return e.BinaryString.encode(t).replace(/\0/g,"耂")},t.decode=function(t){return e.BinaryString.decode(t.replace(/\u8002/g,"\0"))}}(e.Encoding||(e.Encoding={}))}(Ua||(Ua={})),function(e){!function(r){var n,i,o;(n=r.UTF8||(r.UTF8={})).encode=function(r){return r&&0!=r.length?e.runningInNodeJS()?e.BufferTools.bufferToUint8Array(t.Buffer.from(r,"utf8")):n.createNativeTextEncoderAndDecoderIfAvailable()?i.encode(r):n.encodeWithJS(r):new Uint8Array(0)},n.decode=function(t){return t&&0!=t.length?e.runningInNodeJS()?e.BufferTools.uint8ArrayToBuffer(t).toString("utf8"):n.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(t):n.decodeWithJS(t):""},n.encodeWithJS=function(e,t){if(!e||0==e.length)return new Uint8Array(0);t||(t=new Uint8Array(4*e.length));for(var n=0,i=0;i<e.length;i++){var o=r.CodePoint.encodeFromString(e,i);if(o<=127)t[n++]=o;else if(o<=2047)t[n++]=192|o>>>6,t[n++]=128|63&o;else if(o<=65535)t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|63&o;else{if(!(o<=1114111))throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)");t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o,i++}}return t.subarray(0,n)},n.decodeWithJS=function(t,r,n){if(void 0===r&&(r=0),!t||0==t.length)return"";void 0===n&&(n=t.length);for(var i,o,s=new e.StringBuilder,c=r,u=n;c<u;){if((o=t[c])>>>7==0)i=o,c+=1;else if(o>>>5==6){if(c+1>=n)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+c);i=(31&o)<<6|63&t[c+1],c+=2}else if(o>>>4==14){if(c+2>=n)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+c);i=(15&o)<<12|(63&t[c+1])<<6|63&t[c+2],c+=3}else{if(o>>>3!=30)throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+c);if(c+3>=n)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+c);i=(7&o)<<18|(63&t[c+1])<<12|(63&t[c+2])<<6|63&t[c+3],c+=4}s.appendCodePoint(i)}return s.getOutputString()},n.createNativeTextEncoderAndDecoderIfAvailable=function(){return!!i||"function"==typeof TextEncoder&&(i=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0)}}(e.Encoding||(e.Encoding={}))}(Ua||(Ua={})),function(e){e.compress=function compress(t,r){if(void 0===r&&(r={}),null==t)throw new TypeError("compress: undefined or null input received");var n=e.CompressionCommon.detectCompressionSourceEncoding(t);r=e.ObjectTools.override({inputEncoding:n,outputEncoding:"ByteArray"},r);var i=(new e.Compressor).compressBlock(t);return e.CompressionCommon.encodeCompressedBytes(i,r.outputEncoding)},e.decompress=function decompress(t,r){if(void 0===r&&(r={}),null==t)throw new TypeError("decompress: undefined or null input received");r=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},r);var n=e.CompressionCommon.decodeCompressedBytes(t,r.inputEncoding),i=(new e.Decompressor).decompressBlock(n);return e.CompressionCommon.encodeDecompressedBytes(i,r.outputEncoding)},e.compressAsync=function compressAsync(t,r,n){var i;null==n&&(n=function(){});try{i=e.CompressionCommon.detectCompressionSourceEncoding(t)}catch(e){return void n(void 0,e)}r=e.ObjectTools.override({inputEncoding:i,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},r),e.enqueueImmediate((function(){r.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.compressAsync(t,r,n):e.AsyncCompressor.compressAsync(t,r,n)}))},e.decompressAsync=function decompressAsync(t,r,n){if(null==n&&(n=function(){}),null!=t){r=e.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},r);var i=e.BufferTools.convertToUint8ArrayIfNeeded(t);e.EventLoop.enqueueImmediate((function(){r.useWebWorker&&e.WebWorker.createGlobalWorkerIfNeeded()?e.WebWorker.decompressAsync(i,r,n):e.AsyncDecompressor.decompressAsync(t,r,n)}))}else n(void 0,new TypeError("decompressAsync: undefined or null input received"))},e.createCompressionStream=function createCompressionStream(){return e.AsyncCompressor.createCompressionStream()},e.createDecompressionStream=function createDecompressionStream(){return e.AsyncDecompressor.createDecompressionStream()},e.encodeUTF8=function encodeUTF8(t){return e.Encoding.UTF8.encode(t)},e.decodeUTF8=function decodeUTF8(t){return e.Encoding.UTF8.decode(t)},e.encodeBase64=function encodeBase64(t){return e.Encoding.Base64.encode(t)},e.decodeBase64=function decodeBase64(t){return e.Encoding.Base64.decode(t)},e.encodeBinaryString=function encodeBinaryString(t){return e.Encoding.BinaryString.encode(t)},e.decodeBinaryString=function decodeBinaryString(t){return e.Encoding.BinaryString.decode(t)},e.encodeStorageBinaryString=function encodeStorageBinaryString(t){return e.Encoding.StorageBinaryString.encode(t)},e.decodeStorageBinaryString=function decodeStorageBinaryString(t){return e.Encoding.StorageBinaryString.decode(t)}}(Ua||(Ua={}));var Oa=Os.exports,Na={exports:{}};!function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function getBaseValue(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var r=i._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(r){return getBaseValue(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;n<o;n++){var s=t.charCodeAt(n);r[2*n]=s>>>8,r[2*n+1]=s%256}return r},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var r=new Array(t.length/2),n=0,o=r.length;n<o;n++)r[n]=256*t[2*n]+t[2*n+1];var s=[];return r.forEach((function(t){s.push(e(t))})),i.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return getBaseValue(r,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,i,o,s={},c={},u="",l="",h="",f=2,d=3,p=2,A=[],y=0,b=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=d++,c[u]=!0),l=h+u,Object.prototype.hasOwnProperty.call(s,l))h=l;else{if(Object.prototype.hasOwnProperty.call(c,h)){if(h.charCodeAt(0)<256){for(n=0;n<p;n++)y<<=1,b==t-1?(b=0,A.push(r(y)),y=0):b++;for(i=h.charCodeAt(0),n=0;n<8;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1}else{for(i=1,n=0;n<p;n++)y=y<<1|i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i=0;for(i=h.charCodeAt(0),n=0;n<16;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1}0==--f&&(f=Math.pow(2,p),p++),delete c[h]}else for(i=s[h],n=0;n<p;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1;0==--f&&(f=Math.pow(2,p),p++),s[l]=d++,h=String(u)}if(""!==h){if(Object.prototype.hasOwnProperty.call(c,h)){if(h.charCodeAt(0)<256){for(n=0;n<p;n++)y<<=1,b==t-1?(b=0,A.push(r(y)),y=0):b++;for(i=h.charCodeAt(0),n=0;n<8;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1}else{for(i=1,n=0;n<p;n++)y=y<<1|i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i=0;for(i=h.charCodeAt(0),n=0;n<16;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1}0==--f&&(f=Math.pow(2,p),p++),delete c[h]}else for(i=s[h],n=0;n<p;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1;0==--f&&(f=Math.pow(2,p),p++)}for(i=2,n=0;n<p;n++)y=y<<1|1&i,b==t-1?(b=0,A.push(r(y)),y=0):b++,i>>=1;for(;;){if(y<<=1,b==t-1){A.push(r(y));break}b++}return A.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var i,o,s,c,u,l,h,f=[],d=4,p=4,A=3,y="",b=[],m={val:n(0),position:r,index:1};for(i=0;i<3;i+=1)f[i]=i;for(s=0,u=Math.pow(2,2),l=1;l!=u;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),s|=(c>0?1:0)*l,l<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),l=1;l!=u;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),s|=(c>0?1:0)*l,l<<=1;h=e(s);break;case 1:for(s=0,u=Math.pow(2,16),l=1;l!=u;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),s|=(c>0?1:0)*l,l<<=1;h=e(s);break;case 2:return""}for(f[3]=h,o=h,b.push(h);;){if(m.index>t)return"";for(s=0,u=Math.pow(2,A),l=1;l!=u;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),s|=(c>0?1:0)*l,l<<=1;switch(h=s){case 0:for(s=0,u=Math.pow(2,8),l=1;l!=u;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),s|=(c>0?1:0)*l,l<<=1;f[p++]=e(s),h=p-1,d--;break;case 1:for(s=0,u=Math.pow(2,16),l=1;l!=u;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),s|=(c>0?1:0)*l,l<<=1;f[p++]=e(s),h=p-1,d--;break;case 2:return b.join("")}if(0==d&&(d=Math.pow(2,A),A++),f[h])y=f[h];else{if(h!==p)return null;y=o+o.charAt(0)}b.push(y),f[p++]=o+y.charAt(0),o=y,0==--d&&(d=Math.pow(2,A),A++)}}};return i}();null!=e&&(e.exports=t)}(Na);var Fa=Na.exports;const{compress:$a,decompress:Pa}=Oa,{compressToUint8Array:Ya,decompressFromUint8Array:Ka}=Fa;const ja=/!([^!\n ]{1,8})!/;function pack(e,r){if(!e)throw new Error("Expeceted Props");const{date:n,page:i,theme:o,type:s}=e;if("string"!=typeof e.text||!e.text.length)throw new Error("Expected text");const c=e.text.replace(/\r/,""),u=[t.Buffer.from(c,"utf8"),$a(t.Buffer.from(c,"utf8")),Ya(c)],l=[...u].sort(((e,t)=>e.length>t.length))[0],h=u.indexOf(l);let f=t.Buffer.from(l),d=0;r&&(d=1,f=void 0);const p={b:s||0,t:f,z:h,x:d,l:o||0,d:n||Date.now(),s:i||0};return _o(p)}function unpack(e,t){const r=eo(e),n=[e=>e.toString("utf8"),Pa,Ka];let i;switch(r.x){case 0:i=r.t;break;case 1:if(!t)throw new Error("ContentEncrypted");i=void r.t;break;default:throw new Error("UnknownEncryption")}return i=n[r.z](i),{type:r.b,text:i,date:r.d,compression:r.z,encryption:r.x,theme:r.l,page:r.s}}function extractTitle(e){if("string"!=typeof e&&!e.length)return;let t="",r=e.match(/^\s*(.+)\s*\n==+/m);return r||(r=e.match(/^#+(.+)$/m)),r&&(t=r[1],this&&(this.rawOffset=r.index+r[0].length)),t.replace(new RegExp(ja,"g"),"").trim()}function extractIcon(e){if("string"!=typeof e&&!e.length)return;const t=e.match(ja);return t?t[1].trim():void 0}function extractExcerpt(e,t=40){if("string"!=typeof e&&!e.length)return;const r={};return extractTitle.bind(r)(e),e.substr(r.rawOffset+1,Math.min(e.length,t)).replace(/[\n#`*_[\]]/g,"").trim()}class Kernel extends Ds.SimpleKernel{constructor(e){super(e),this.repo.allowDetached=!0,this.store.register(function Notebook(e="rants"){return{name:e,initialValue:{},filter({block:e}){const t=unpack(e.body),{type:r}=t;return 0!==r?"UnknownBlock":e.body.length>1024&&"RantTooBig"},reducer({state:e,block:t,CHAIN:r}){const n=unpack(t.body);return e[btok(r)]={...n,id:r,author:t.key,rev:t.sig,size:t.body.length},{...e}}}}()),this._drafts=e.sublevel("drafts",{keyEncoding:"utf8",valueEncoding:"buffer"});const t=Q.exports.write();this._current=t[0],this._setCurrent=t[1];const[r,n]=Q.exports.write(""),[i,o]=Q.exports.write(0),[s,c]=Q.exports.write(0),[u,l]=Q.exports.write(Date.now());this._draft=Q.exports.memo(Q.exports.combine({id:this._current,text:r,theme:i,encryption:s,date:u}));const[h,f]=Q.exports.write([]);this._nDrafts=Q.exports.memo(h),this._w={setText:n,setTheme:o,setEncryption:c,setDate:l,setDrafts:f},this._conf={}}$drafts(){return this._nDrafts}async boot(){await super.boot(),await this.drafts()}$rant(){const e=Q.exports.combine(this._current,this._draft,(e=>this.store.on("rants",e)));return Q.exports.mute(Q.exports.mute(e,(([e,r,n])=>t.Buffer.isBuffer(e)?n[btok(e)]:r)),this._mapRant.bind(this))}async drafts(){const e=this._drafts.iterator(),t=[];for await(const[r,n]of e){const e=unpack(n);t.push(this._mapRant({id:r,...e}))}return this._w.setDrafts(t),t}$rants(){return Q.exports.mute((e=>this.store.on("rants",e)),(e=>Object.values(e).map((e=>this._mapRant(e)))))}async saveDraft(){if(this.isEditing)return this._saveDraft()}async _saveDraft(e=!1){if(e)return this._saveLater();if(this._sTimeout&&clearTimeout(this._sTimeout),delete this._sTimeout,!this.isEditing)throw new Error("NoDraftEdited");if(!Q.exports.get(this._draft).text?.length)return;this._w.setDate(Date.now());const t=Q.exports.get(this._draft),r=pack(t);await this._drafts.put(t.id,r),await this.drafts()}_saveLater(){this._sTimeout&&clearTimeout(this._sTimeout),this._sTimeout=setTimeout((()=>{delete this._sTimeout,this._saveDraft().then((()=>console.info("Draft Autosaved"))).catch((e=>console.error("AutoSaveFailed:",e)))}),3e3)}async checkout(e,t=!1){if(t&&isDraftID(e))throw new Error("DraftsCannotBeForked");const r=Q.exports.get(this._current);if(!t&&isEqualID(e,r))return[r,r];if(isDraftID(r)&&await this._saveDraft(),null===e)e="draft:"+await this._inc("draft"),this._setDraft();else if(isDraftID(e)){const t=await this._drafts.get(e);if(!t)throw new Error("DraftNotFound");this._setDraft(unpack(t))}else{const r=Q.exports.get((e=>this.store.on("rants",e)))[btok(e)];if(!r)throw new Error("UnknownRant");t&&(e="draft:"+await this._inc("draft"),this._setDraft(r))}return this._setCurrent(e),[e,r]}get $current(){return this._current}_mapRant(e){if(!e)throw new Error("NoRant");const t=isEqualID(Q.exports.get(this._current),e.id),r=!e.rev;let n=e.size;r&&(n=e.text?pack(e).length:0);const i=r?"draft":"signed";return{...e,state:i,selected:t,size:n,title:extractTitle(e.text),excerpt:extractExcerpt(e.text),icon:extractIcon(e.text),decrypted:!0}}get isEditing(){return isDraftID(Q.exports.get(this._current))}async setText(e){if(!this.isEditing)throw new Error("EditMode not active");this._w.setText(e),this._saveDraft(!0)}async setTheme(e){if(!this.isEditing)throw new Error("EditMode not active");this._w.setTheme(e),await this._saveDraft()}async commit(){if(!this.isEditing)throw new Error("EditMode not active");this._checkReady();let e=new Ds.Feed;const r=Q.exports.get(this._current);r&&t.Buffer.isBuffer(r)&&(e=await this.repo.resolveFeed(r));const n=pack({type:0,...Q.exports.get(this._draft),date:Date.now(),page:await this._inc("page")});e.append(n,this._secret);const i=e.last.sig;if(!(await this.dispatch(e,!0)).length)throw new Error("commit() failed: rejected by store");return await this.checkout(i),await this.deleteRant(r),await this.drafts(),i}async pickle(e){if(!e&&this.isEditing)throw new Error("Provide Id or set current to published rant");e||(e=Q.exports.get(this._current));const t=Q.exports.get((e=>this.store.on("rants",e)));if(!e)return;const r=t[btok(e)],n=await this.repo.readBlock(r?.rev)||await this.repo.readBlock(e),i=Ds.Feed.from(n).pickle(),o=r.title;return o?`${encodeURIComponent(o.replace(/ +/g,"_"))}-${i}`:i}async _inc(e){const t=await this.repo.readReg(`inc|${e}`),r=(t?JSON.parse(t):-1)+1;return await this.repo.writeReg(`inc|${e}`,JSON.stringify(r)),r}_setDraft(e={}){this._w.setText(e.text||""),this._w.setTheme(e.theme||0),this._w.setEncryption(e.encryption||0),this._w.setDate(e.date||Date.now())}async import(e){const t=Ds.Feed.from(e);await this.dispatch(t,!0);const r=t.first.sig;return this._setCurrent(r),r}async deleteRant(e){isDraftID(e)?(await this._drafts.del(e),await this.drafts()):Rs.dump(this.repo)}config(e,t){if("string"!=typeof e)throw new Error("Expected key to be string");if(!this._conf[e]){const[r,n]=Q.exports.write(t),setter=async t=>{n(t),await this.repo.writeReg(`cnf|${e}`,JSON.stringify(t))};this.repo.readReg(`cnf|${e}`).then((e=>{if(void 0===e&&void 0!==t)return n(t),setter(t);n(JSON.parse(e))})),this._conf[e]=[r,setter]}return this._conf[e]}}function btok(e){return e.toString("hex")}function isDraftID(e){return"string"==typeof e&&e.startsWith("draft:")}function isEqualID(e,r){return isDraftID(e)&&e===r||t.Buffer.isBuffer(e)&&t.Buffer.isBuffer(r)&&e.equals(r)}var Ha={},Wa={},qa={supports:function supports(...e){const t=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(t,{snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:Object.assign({},t.encodings),events:Object.assign({},t.events),additionalMethods:Object.assign({},t.additionalMethods)})}},Ga={},Va=class ModuleError extends Error{constructor(e,t){super(e||""),"object"==typeof t&&null!==t&&(t.code&&(this.code=String(t.code)),t.expected&&(this.expected=!0),t.transient&&(this.transient=!0),t.cause&&(this.cause=t.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},za={};let Ja=null;var textEndec$1=function(){return null===Ja&&(Ja={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),Ja},Xa={},Za={};const ec=Va,tc=new Set(["buffer","view","utf8"]);Za.Encoding=class Encoding$2{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!tc.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ec(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ec(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ec(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};const{Buffer:rc}=t||{},{Encoding:nc}=Za,ic=textEndec$1;class BufferFormat$2 extends nc{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new ViewFormat$2({encode:this.encode,decode:e=>this.decode(rc.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class ViewFormat$2 extends nc{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new BufferFormat$2({encode:e=>{const t=this.encode(e);return rc.from(t.buffer,t.byteOffset,t.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}Xa.BufferFormat=BufferFormat$2,Xa.ViewFormat=ViewFormat$2,Xa.UTF8Format=class UTF8Format$2 extends nc{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new BufferFormat$2({encode:e=>rc.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:e,textDecoder:t}=ic();return new ViewFormat$2({encode:t=>e.encode(this.encode(t)),decode:e=>this.decode(t.decode(e)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};const{Buffer:oc}=t||{Buffer:{isBuffer:()=>!1}},{textEncoder:sc,textDecoder:ac}=textEndec$1(),{BufferFormat:cc,ViewFormat:uc,UTF8Format:lc}=Xa,identity=e=>e;za.utf8=new lc({encode:function(e){return oc.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?ac.decode(e):String(e)},decode:identity,name:"utf8",createViewTranscoder(){return new uc({encode:function(e){return ArrayBuffer.isView(e)?e:sc.encode(e)},decode:function(e){return ac.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new cc({encode:function(e){return oc.isBuffer(e)?e:ArrayBuffer.isView(e)?oc.from(e.buffer,e.byteOffset,e.byteLength):oc.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}}),za.json=new lc({encode:JSON.stringify,decode:JSON.parse,name:"json"}),za.buffer=new cc({encode:function(e){return oc.isBuffer(e)?e:ArrayBuffer.isView(e)?oc.from(e.buffer,e.byteOffset,e.byteLength):oc.from(String(e),"utf8")},decode:identity,name:"buffer",createViewTranscoder(){return new uc({encode:function(e){return ArrayBuffer.isView(e)?e:oc.from(String(e),"utf8")},decode:function(e){return oc.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}}),za.view=new uc({encode:function(e){return ArrayBuffer.isView(e)?e:sc.encode(e)},decode:identity,name:"view",createBufferTranscoder(){return new cc({encode:function(e){return oc.isBuffer(e)?e:ArrayBuffer.isView(e)?oc.from(e.buffer,e.byteOffset,e.byteLength):oc.from(String(e),"utf8")},decode:identity,name:`${this.name}+buffer`})}}),za.hex=new cc({encode:function(e){return oc.isBuffer(e)?e:oc.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"}),za.base64=new cc({encode:function(e){return oc.isBuffer(e)?e:oc.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"});const hc=Va,fc=za,{Encoding:dc}=Za,{BufferFormat:pc,ViewFormat:gc,UTF8Format:Ac}=Xa,yc=Symbol("formats"),bc=Symbol("encodings"),mc=new Set(["buffer","view","utf8"]);Ga.Transcoder=class Transcoder$1{constructor(e){if(!Array.isArray(e))throw new TypeError("The first argument 'formats' must be an array");if(!e.every((e=>mc.has(e))))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[bc]=new Map,this[yc]=new Set(e);for(const e in fc)try{this.encoding(e)}catch(e){if("LEVEL_ENCODING_NOT_SUPPORTED"!==e.code)throw e}}encodings(){return Array.from(new Set(this[bc].values()))}encoding(e){let t=this[bc].get(e);if(void 0===t){if("string"==typeof e&&""!==e){if(t=Ec[e],!t)throw new hc(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof e||null===e)throw new TypeError("First argument 'encoding' must be a string or object");t=function from(e){if(e instanceof dc)return e;const t="type"in e&&"string"==typeof e.type?e.type:void 0,r=e.name||t||"anonymous-"+wc++;switch(function detectFormat(e){return"format"in e&&void 0!==e.format?e.format:"buffer"in e&&"boolean"==typeof e.buffer?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}(e)){case"view":return new gc({...e,name:r});case"utf8":return new Ac({...e,name:r});case"buffer":return new pc({...e,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(e)}const{name:r,format:n}=t;if(!this[yc].has(n))if(this[yc].has("view"))t=t.createViewTranscoder();else if(this[yc].has("buffer"))t=t.createBufferTranscoder();else{if(!this[yc].has("utf8"))throw new hc(`Encoding '${r}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});t=t.createUTF8Transcoder()}for(const n of[e,r,t.name,t.commonName])this[bc].set(n,t)}return t}};const Ic={binary:fc.buffer,"utf-8":fc.utf8},Ec={...fc,...Ic};let wc=0;var _c={},Bc="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e);_c.fromCallback=function(e,t){if(void 0===e){var r=new Promise((function(t,r){e=function(e,n){e?r(e):t(n)}}));e[void 0!==t?t:"promise"]=r}else if("function"!=typeof e)throw new TypeError("Callback must be a function");return e},_c.fromPromise=function(e,t){if(void 0===t)return e;e.then((function(e){Bc((()=>t(null,e)))})).catch((function(e){Bc((()=>t(e)))}))};var Cc={},Sc={getCallback:function(e,t){return"function"==typeof e?e:t},getOptions:function(e,t){return"object"==typeof e&&null!==e?e:void 0!==t?t:{}}};const{fromCallback:kc}=_c,vc=Va,{getOptions:xc,getCallback:Tc}=Sc,Dc=Symbol("promise"),Qc=Symbol("callback"),Lc=Symbol("working"),Rc=Symbol("handleOne"),Uc=Symbol("handleMany"),Mc=Symbol("autoClose"),Oc=Symbol("finishWork"),Nc=Symbol("returnMany"),Fc=Symbol("closing"),$c=Symbol("handleClose"),Pc=Symbol("closed"),Yc=Symbol("closeCallbacks"),Kc=Symbol("keyEncoding"),jc=Symbol("valueEncoding"),Hc=Symbol("abortOnClose"),Wc=Symbol("legacy"),qc=Symbol("keys"),Gc=Symbol("values"),Vc=Symbol("limit"),zc=Symbol("count"),Jc=Object.freeze({}),noop$1=()=>{};let Xc=!1;class CommonIterator{constructor(e,t,r){if("object"!=typeof e||null===e){throw new TypeError(`The first argument must be an abstract-level database, received ${null===e?"null":typeof e}`)}if("object"!=typeof t||null===t)throw new TypeError("The second argument must be an options object");this[Pc]=!1,this[Yc]=[],this[Lc]=!1,this[Fc]=!1,this[Mc]=!1,this[Qc]=null,this[Rc]=this[Rc].bind(this),this[Uc]=this[Uc].bind(this),this[$c]=this[$c].bind(this),this[Kc]=t[Kc],this[jc]=t[jc],this[Wc]=r,this[Vc]=Number.isInteger(t.limit)&&t.limit>=0?t.limit:1/0,this[zc]=0,this[Hc]=!!t.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[zc]}get limit(){return this[Vc]}next(e){let t;if(void 0===e)t=new Promise(((t,r)=>{e=(e,n,i)=>{e?r(e):this[Wc]?void 0===n&&void 0===i?t():t([n,i]):t(n)}}));else if("function"!=typeof e)throw new TypeError("Callback must be a function");return this[Fc]?this.nextTick(e,new vc("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Lc]?this.nextTick(e,new vc("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Lc]=!0,this[Qc]=e,this[zc]>=this[Vc]?this.nextTick(this[Rc],null):this._next(this[Rc])),t}_next(e){this.nextTick(e)}nextv(e,t,r){return r=Tc(t,r),r=kc(r,Dc),t=xc(t,Jc),Number.isInteger(e)?(this[Fc]?this.nextTick(r,new vc("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Lc]?this.nextTick(r,new vc("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[Vc]<1/0&&(e=Math.min(e,this[Vc]-this[zc])),this[Lc]=!0,this[Qc]=r,e<=0?this.nextTick(this[Uc],null,[]):this._nextv(e,t,this[Uc])),r[Dc]):(this.nextTick(r,new TypeError("The first argument 'size' must be an integer")),r[Dc])}_nextv(e,t,r){const n=[],onnext=(t,i,o)=>t?r(t):(this[Wc]?void 0===i&&void 0===o:void 0===i)?r(null,n):(n.push(this[Wc]?[i,o]:i),void(n.length===e?r(null,n):this._next(onnext)));this._next(onnext)}all(e,t){return t=Tc(e,t),t=kc(t,Dc),e=xc(e,Jc),this[Fc]?this.nextTick(t,new vc("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Lc]?this.nextTick(t,new vc("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Lc]=!0,this[Qc]=t,this[Mc]=!0,this[zc]>=this[Vc]?this.nextTick(this[Uc],null,[]):this._all(e,this[Uc])),t[Dc]}_all(e,t){let r=this[zc];const n=[],nextv=()=>{const e=this[Vc]<1/0?Math.min(1e3,this[Vc]-r):1e3;e<=0?this.nextTick(t,null,n):this._nextv(e,Jc,onnextv)},onnextv=(e,i)=>{e?t(e):0===i.length?t(null,n):(n.push.apply(n,i),r+=i.length,nextv())};nextv()}[Oc](){const e=this[Qc];return this[Hc]&&null===e?noop$1:(this[Lc]=!1,this[Qc]=null,this[Fc]&&this._close(this[$c]),e)}[Nc](e,t,r){this[Mc]?this.close(e.bind(null,t,r)):e(t,r)}seek(e,t){if(t=xc(t,Jc),this[Fc]);else{if(this[Lc])throw new vc("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const r=this.db.keyEncoding(t.keyEncoding||this[Kc]),n=r.format;t.keyEncoding!==n&&(t={...t,keyEncoding:n});const i=this.db.prefixKey(r.encode(e),n);this._seek(i,t)}}}_seek(e,t){throw new vc("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){if(e=kc(e,Dc),this[Pc])this.nextTick(e);else if(this[Fc])this[Yc].push(e);else if(this[Fc]=!0,this[Yc].push(e),this[Lc]){if(this[Hc]){this[Oc]()(new vc("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))}}else this._close(this[$c]);return e[Dc]}_close(e){this.nextTick(e)}[$c](){this[Pc]=!0,this.db.detachResource(this);const e=this[Yc];this[Yc]=[];for(const t of e)t()}async*[Symbol.asyncIterator](){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this[Pc]||await this.close()}}}class AbstractIterator$3 extends CommonIterator{constructor(e,t){super(e,t,!0),this[qc]=!1!==t.keys,this[Gc]=!1!==t.values}[Rc](e,t,r){const n=this[Oc]();if(e)return n(e);try{t=this[qc]&&void 0!==t?this[Kc].decode(t):void 0,r=this[Gc]&&void 0!==r?this[jc].decode(r):void 0}catch(e){return n(new IteratorDecodeError("entry",e))}void 0===t&&void 0===r||this[zc]++,n(null,t,r)}[Uc](e,t){const r=this[Oc]();if(e)return this[Nc](r,e);try{for(const e of t){const t=e[0],r=e[1];e[0]=this[qc]&&void 0!==t?this[Kc].decode(t):void 0,e[1]=this[Gc]&&void 0!==r?this[jc].decode(r):void 0}}catch(e){return this[Nc](r,new IteratorDecodeError("entries",e))}this[zc]+=t.length,this[Nc](r,null,t)}end(e){return Xc||"undefined"==typeof console||(Xc=!0,console.warn(new vc("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}}class IteratorDecodeError extends vc{constructor(e,t){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:t})}}for(const e of["_ended property","_nexting property","_end method"])Object.defineProperty(AbstractIterator$3.prototype,e.split(" ")[0],{get(){throw new vc(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new vc(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})}});AbstractIterator$3.keyEncoding=Kc,AbstractIterator$3.valueEncoding=jc,Cc.AbstractIterator=AbstractIterator$3,Cc.AbstractKeyIterator=class AbstractKeyIterator$2 extends CommonIterator{constructor(e,t){super(e,t,!1)}[Rc](e,t){const r=this[Oc]();if(e)return r(e);try{t=void 0!==t?this[Kc].decode(t):void 0}catch(e){return r(new IteratorDecodeError("key",e))}void 0!==t&&this[zc]++,r(null,t)}[Uc](e,t){const r=this[Oc]();if(e)return this[Nc](r,e);try{for(let e=0;e<t.length;e++){const r=t[e];t[e]=void 0!==r?this[Kc].decode(r):void 0}}catch(e){return this[Nc](r,new IteratorDecodeError("keys",e))}this[zc]+=t.length,this[Nc](r,null,t)}},Cc.AbstractValueIterator=class AbstractValueIterator$2 extends CommonIterator{constructor(e,t){super(e,t,!1)}[Rc](e,t){const r=this[Oc]();if(e)return r(e);try{t=void 0!==t?this[jc].decode(t):void 0}catch(e){return r(new IteratorDecodeError("value",e))}void 0!==t&&this[zc]++,r(null,t)}[Uc](e,t){const r=this[Oc]();if(e)return this[Nc](r,e);try{for(let e=0;e<t.length;e++){const r=t[e];t[e]=void 0!==r?this[jc].decode(r):void 0}}catch(e){return this[Nc](r,new IteratorDecodeError("values",e))}this[zc]+=t.length,this[Nc](r,null,t)}};var Zc={};const{AbstractKeyIterator:eu,AbstractValueIterator:tu}=Cc,ru=Symbol("iterator"),nu=Symbol("callback"),iu=Symbol("handleOne"),ou=Symbol("handleMany");class DefaultKeyIterator$1 extends eu{constructor(e,t){super(e,t),this[ru]=e.iterator({...t,keys:!0,values:!1}),this[iu]=this[iu].bind(this),this[ou]=this[ou].bind(this)}}class DefaultValueIterator$1 extends tu{constructor(e,t){super(e,t),this[ru]=e.iterator({...t,keys:!1,values:!0}),this[iu]=this[iu].bind(this),this[ou]=this[ou].bind(this)}}for(const e of[DefaultKeyIterator$1,DefaultValueIterator$1]){const t=e===DefaultKeyIterator$1,r=t?e=>e[0]:e=>e[1];e.prototype._next=function(e){this[nu]=e,this[ru].next(this[iu])},e.prototype[iu]=function(e,r,n){const i=this[nu];e?i(e):i(null,t?r:n)},e.prototype._nextv=function(e,t,r){this[nu]=r,this[ru].nextv(e,t,this[ou])},e.prototype._all=function(e,t){this[nu]=t,this[ru].all(e,this[ou])},e.prototype[ou]=function(e,t){const n=this[nu];e?n(e):n(null,t.map(r))},e.prototype._seek=function(e,t){this[ru].seek(e,t)},e.prototype._close=function(e){this[ru].close(e)}}Zc.DefaultKeyIterator=DefaultKeyIterator$1,Zc.DefaultValueIterator=DefaultValueIterator$1;var su={};const{AbstractIterator:au,AbstractKeyIterator:cu,AbstractValueIterator:uu}=Cc,lu=Va,hu=Symbol("nut"),fu=Symbol("undefer"),du=Symbol("factory");class DeferredIterator$1 extends au{constructor(e,t){super(e,t),this[hu]=null,this[du]=()=>e.iterator(t),this.db.defer((()=>this[fu]()))}}class DeferredKeyIterator$1 extends cu{constructor(e,t){super(e,t),this[hu]=null,this[du]=()=>e.keys(t),this.db.defer((()=>this[fu]()))}}class DeferredValueIterator$1 extends uu{constructor(e,t){super(e,t),this[hu]=null,this[du]=()=>e.values(t),this.db.defer((()=>this[fu]()))}}for(const e of[DeferredIterator$1,DeferredKeyIterator$1,DeferredValueIterator$1])e.prototype[fu]=function(){"open"===this.db.status&&(this[hu]=this[du]())},e.prototype._next=function(e){null!==this[hu]?this[hu].next(e):"opening"===this.db.status?this.db.defer((()=>this._next(e))):this.nextTick(e,new lu("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._nextv=function(e,t,r){null!==this[hu]?this[hu].nextv(e,t,r):"opening"===this.db.status?this.db.defer((()=>this._nextv(e,t,r))):this.nextTick(r,new lu("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._all=function(e,t){null!==this[hu]?this[hu].all(t):"opening"===this.db.status?this.db.defer((()=>this._all(e,t))):this.nextTick(t,new lu("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._seek=function(e,t){null!==this[hu]?this[hu]._seek(e,t):"opening"===this.db.status&&this.db.defer((()=>this._seek(e,t)))},e.prototype._close=function(e){null!==this[hu]?this[hu].close(e):"opening"===this.db.status?this.db.defer((()=>this._close(e))):this.nextTick(e)};su.DeferredIterator=DeferredIterator$1,su.DeferredKeyIterator=DeferredKeyIterator$1,su.DeferredValueIterator=DeferredValueIterator$1;var pu={},gu={};const{fromCallback:Au}=_c,yu=Va,{getCallback:bu,getOptions:mu}=Sc,Iu=Symbol("promise"),Eu=Symbol("status"),wu=Symbol("operations"),_u=Symbol("finishClose"),Bu=Symbol("closeCallbacks");gu.AbstractChainedBatch=class AbstractChainedBatch$1{constructor(e){if("object"!=typeof e||null===e){throw new TypeError(`The first argument must be an abstract-level database, received ${null===e?"null":typeof e}`)}this[wu]=[],this[Bu]=[],this[Eu]="open",this[_u]=this[_u].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[wu].length}put(e,t,r){if("open"!==this[Eu])throw new yu("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const n=this.db._checkKey(e)||this.db._checkValue(t);if(n)throw n;const i=r&&null!=r.sublevel?r.sublevel:this.db,o=r,s=i.keyEncoding(r&&r.keyEncoding),c=i.valueEncoding(r&&r.valueEncoding),u=s.format;r={...r,keyEncoding:u,valueEncoding:c.format},i!==this.db&&(r.sublevel=null);const l=i.prefixKey(s.encode(e),u),h=c.encode(t);return this._put(l,h,r),this[wu].push({...o,type:"put",key:e,value:t}),this}_put(e,t,r){}del(e,t){if("open"!==this[Eu])throw new yu("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const r=this.db._checkKey(e);if(r)throw r;const n=t&&null!=t.sublevel?t.sublevel:this.db,i=t,o=n.keyEncoding(t&&t.keyEncoding),s=o.format;return t={...t,keyEncoding:s},n!==this.db&&(t.sublevel=null),this._del(n.prefixKey(o.encode(e),s),t),this[wu].push({...i,type:"del",key:e}),this}_del(e,t){}clear(){if("open"!==this[Eu])throw new yu("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[wu]=[],this}_clear(){}write(e,t){return t=bu(e,t),t=Au(t,Iu),e=mu(e),"open"!==this[Eu]?this.nextTick(t,new yu("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(t):(this[Eu]="writing",this._write(e,(e=>{this[Eu]="closing",this[Bu].push((()=>t(e))),e||this.db.emit("batch",this[wu]),this._close(this[_u])}))),t[Iu]}_write(e,t){}close(e){return e=Au(e,Iu),"closing"===this[Eu]?this[Bu].push(e):"closed"===this[Eu]?this.nextTick(e):(this[Bu].push(e),"writing"!==this[Eu]&&(this[Eu]="closing",this._close(this[_u]))),e[Iu]}_close(e){this.nextTick(e)}[_u](){this[Eu]="closed",this.db.detachResource(this);const e=this[Bu];this[Bu]=[];for(const t of e)t()}};const{AbstractChainedBatch:Cu}=gu,Su=Va,ku=Symbol("encoded");pu.DefaultChainedBatch=class DefaultChainedBatch$1 extends Cu{constructor(e){super(e),this[ku]=[]}_put(e,t,r){this[ku].push({...r,type:"put",key:e,value:t})}_del(e,t){this[ku].push({...t,type:"del",key:e})}_clear(){this[ku]=[]}_write(e,t){"opening"===this.db.status?this.db.defer((()=>this._write(e,t))):"open"===this.db.status?0===this[ku].length?this.nextTick(t):this.db._batch(this[ku],e,t):this.nextTick(t,new Su("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};const vu=Va,xu=Object.prototype.hasOwnProperty,Tu=new Set(["lt","lte","gt","gte"]);
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let Du;var Qu,Lu,Ru="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:e):e=>(Du||(Du=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)));var Uu,Mu,Ou,Nu={};const{supports:Fu}=qa,{Transcoder:$u}=Ga,{EventEmitter:Pu}=ia,{fromCallback:Yu}=_c,Ku=Va,{AbstractIterator:ju}=Cc,{DefaultKeyIterator:Hu,DefaultValueIterator:Wu}=Zc,{DeferredIterator:qu,DeferredKeyIterator:Gu,DeferredValueIterator:Vu}=su,{DefaultChainedBatch:zu}=pu,{getCallback:Ju,getOptions:Xu}=Sc,rangeOptions=function(e,t){const r={};for(const n in e)if(xu.call(e,n)&&"keyEncoding"!==n&&"valueEncoding"!==n){if("start"===n||"end"===n)throw new vu(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===n)throw new vu("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});Tu.has(n)?r[n]=t.encode(e[n]):r[n]=e[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r},Zu=Symbol("promise"),el=Symbol("landed"),tl=Symbol("resources"),rl=Symbol("closeResources"),nl=Symbol("operations"),il=Symbol("undefer"),ol=Symbol("deferOpen"),sl=Symbol("options"),al=Symbol("status"),cl=Symbol("defaultOptions"),ul=Symbol("transcoder"),ll=Symbol("keyEncoding"),hl=Symbol("valueEncoding"),noop=()=>{};class AbstractLevel$1 extends Pu{constructor(e,t){if(super(),"object"!=typeof e||null===e)throw new TypeError("The first argument 'manifest' must be an object");t=Xu(t);const{keyEncoding:r,valueEncoding:n,passive:i,...o}=t;this[tl]=new Set,this[nl]=[],this[ol]=!0,this[sl]=o,this[al]="opening",this.supports=Fu(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==e.snapshots,permanence:!1!==e.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[ul]=new $u(formats(this)),this[ll]=this[ul].encoding(r||"utf8"),this[hl]=this[ul].encoding(n||"utf8");for(const e of this[ul].encodings())this.supports.encodings[e.commonName]||(this.supports.encodings[e.commonName]=!0);this[cl]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[ll].commonName,valueEncoding:this[hl].commonName}),key:Object.freeze({keyEncoding:this[ll].commonName})},this.nextTick((()=>{this[ol]&&this.open({passive:!1},noop)}))}get status(){return this[al]}keyEncoding(e){return this[ul].encoding(null!=e?e:this[ll])}valueEncoding(e){return this[ul].encoding(null!=e?e:this[hl])}open(e,t){t=Ju(e,t),t=Yu(t,Zu),(e={...this[sl],...Xu(e)}).createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists;const maybeOpened=e=>{"closing"===this[al]||"opening"===this[al]?this.once(el,e?()=>maybeOpened(e):maybeOpened):"open"!==this[al]?t(new Ku("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:e})):t()};return e.passive?"opening"===this[al]?this.once(el,maybeOpened):this.nextTick(maybeOpened):"closed"===this[al]||this[ol]?(this[ol]=!1,this[al]="opening",this.emit("opening"),this._open(e,(e=>{if(e)return this[al]="closed",this[rl]((()=>{this.emit(el),maybeOpened(e)})),void this[il]();this[al]="open",this[il](),this.emit(el),"open"===this[al]&&this.emit("open"),"open"===this[al]&&this.emit("ready"),maybeOpened()}))):"open"===this[al]?this.nextTick(maybeOpened):this.once(el,(()=>this.open(e,t))),t[Zu]}_open(e,t){this.nextTick(t)}close(e){e=Yu(e,Zu);const maybeClosed=t=>{"opening"===this[al]||"closing"===this[al]?this.once(el,t?maybeClosed(t):maybeClosed):"closed"!==this[al]?e(new Ku("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:t})):e()};if("open"===this[al]){this[al]="closing",this.emit("closing");const cancel=e=>{this[al]="open",this[il](),this.emit(el),maybeClosed(e)};this[rl]((()=>{this._close((e=>{if(e)return cancel(e);this[al]="closed",this[il](),this.emit(el),"closed"===this[al]&&this.emit("closed"),maybeClosed()}))}))}else"closed"===this[al]?this.nextTick(maybeClosed):this.once(el,(()=>this.close(e)));return e[Zu]}[rl](e){if(0===this[tl].size)return this.nextTick(e);let t=this[tl].size,r=!0;const next=()=>{0==--t&&(r?this.nextTick(e):e())};for(const e of this[tl])e.close(next);r=!1,this[tl].clear()}_close(e){this.nextTick(e)}get(e,t,r){if(r=Ju(t,r),r=Yu(r,Zu),t=Xu(t,this[cl].entry),"opening"===this[al])return this.defer((()=>this.get(e,t,r))),r[Zu];if(maybeError(this,r))return r[Zu];const n=this._checkKey(e);if(n)return this.nextTick(r,n),r[Zu];const i=this.keyEncoding(t.keyEncoding),o=this.valueEncoding(t.valueEncoding),s=i.format,c=o.format;return t.keyEncoding===s&&t.valueEncoding===c||(t=Object.assign({},t,{keyEncoding:s,valueEncoding:c})),this._get(this.prefixKey(i.encode(e),s),t,((e,t)=>{if(e)return("LEVEL_NOT_FOUND"===e.code||e.notFound||/NotFound/i.test(e))&&(e.code||(e.code="LEVEL_NOT_FOUND"),e.notFound||(e.notFound=!0),e.status||(e.status=404)),r(e);try{t=o.decode(t)}catch(e){return r(new Ku("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:e}))}r(null,t)})),r[Zu]}_get(e,t,r){this.nextTick(r,new Error("NotFound"))}getMany(e,t,r){if(r=Ju(t,r),r=Yu(r,Zu),t=Xu(t,this[cl].entry),"opening"===this[al])return this.defer((()=>this.getMany(e,t,r))),r[Zu];if(maybeError(this,r))return r[Zu];if(!Array.isArray(e))return this.nextTick(r,new TypeError("The first argument 'keys' must be an array")),r[Zu];if(0===e.length)return this.nextTick(r,null,[]),r[Zu];const n=this.keyEncoding(t.keyEncoding),i=this.valueEncoding(t.valueEncoding),o=n.format,s=i.format;t.keyEncoding===o&&t.valueEncoding===s||(t=Object.assign({},t,{keyEncoding:o,valueEncoding:s}));const c=new Array(e.length);for(let t=0;t<e.length;t++){const i=e[t],s=this._checkKey(i);if(s)return this.nextTick(r,s),r[Zu];c[t]=this.prefixKey(n.encode(i),o)}return this._getMany(c,t,((e,t)=>{if(e)return r(e);try{for(let e=0;e<t.length;e++)void 0!==t[e]&&(t[e]=i.decode(t[e]))}catch(e){return r(new Ku(`Could not decode one or more of ${t.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:e}))}r(null,t)})),r[Zu]}_getMany(e,t,r){this.nextTick(r,null,new Array(e.length).fill(void 0))}put(e,t,r,n){if(n=Ju(r,n),n=Yu(n,Zu),r=Xu(r,this[cl].entry),"opening"===this[al])return this.defer((()=>this.put(e,t,r,n))),n[Zu];if(maybeError(this,n))return n[Zu];const i=this._checkKey(e)||this._checkValue(t);if(i)return this.nextTick(n,i),n[Zu];const o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),c=o.format,u=s.format;r.keyEncoding===c&&r.valueEncoding===u||(r=Object.assign({},r,{keyEncoding:c,valueEncoding:u}));const l=this.prefixKey(o.encode(e),c),h=s.encode(t);return this._put(l,h,r,(r=>{if(r)return n(r);this.emit("put",e,t),n()})),n[Zu]}_put(e,t,r,n){this.nextTick(n)}del(e,t,r){if(r=Ju(t,r),r=Yu(r,Zu),t=Xu(t,this[cl].key),"opening"===this[al])return this.defer((()=>this.del(e,t,r))),r[Zu];if(maybeError(this,r))return r[Zu];const n=this._checkKey(e);if(n)return this.nextTick(r,n),r[Zu];const i=this.keyEncoding(t.keyEncoding),o=i.format;return t.keyEncoding!==o&&(t=Object.assign({},t,{keyEncoding:o})),this._del(this.prefixKey(i.encode(e),o),t,(t=>{if(t)return r(t);this.emit("del",e),r()})),r[Zu]}_del(e,t,r){this.nextTick(r)}batch(e,t,r){if(!arguments.length){if("opening"===this[al])return new zu(this);if("open"!==this[al])throw new Ku("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(r="function"==typeof e?e:Ju(t,r),r=Yu(r,Zu),t=Xu(t,this[cl].empty),"opening"===this[al])return this.defer((()=>this.batch(e,t,r))),r[Zu];if(maybeError(this,r))return r[Zu];if(!Array.isArray(e))return this.nextTick(r,new TypeError("The first argument 'operations' must be an array")),r[Zu];if(0===e.length)return this.nextTick(r),r[Zu];const n=new Array(e.length),{keyEncoding:i,valueEncoding:o,...s}=t;for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this.nextTick(r,new TypeError("A batch operation must be an object")),r[Zu];const s=Object.assign({},e[t]);if("put"!==s.type&&"del"!==s.type)return this.nextTick(r,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),r[Zu];const c=this._checkKey(s.key);if(c)return this.nextTick(r,c),r[Zu];const u=null!=s.sublevel?s.sublevel:this,l=u.keyEncoding(s.keyEncoding||i),h=l.format;if(s.key=u.prefixKey(l.encode(s.key),h),s.keyEncoding=h,"put"===s.type){const e=this._checkValue(s.value);if(e)return this.nextTick(r,e),r[Zu];const t=u.valueEncoding(s.valueEncoding||o);s.value=t.encode(s.value),s.valueEncoding=t.format}u!==this&&(s.sublevel=null),n[t]=s}return this._batch(n,s,(t=>{if(t)return r(t);this.emit("batch",e),r()})),r[Zu]}_batch(e,t,r){this.nextTick(r)}sublevel(e,t){return this._sublevel(e,fl.defaults(t))}_sublevel(e,t){return new fl(this,e,t)}prefixKey(e,t){return e}clear(e,t){if(t=Ju(e,t),t=Yu(t,Zu),e=Xu(e,this[cl].empty),"opening"===this[al])return this.defer((()=>this.clear(e,t))),t[Zu];if(maybeError(this,t))return t[Zu];const r=e,n=this.keyEncoding(e.keyEncoding);return(e=rangeOptions(e,n)).keyEncoding=n.format,0===e.limit?this.nextTick(t):this._clear(e,(e=>{if(e)return t(e);this.emit("clear",r),t()})),t[Zu]}_clear(e,t){this.nextTick(t)}iterator(e){const t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=rangeOptions(e,t)).keys=!1!==e.keys,e.values=!1!==e.values,e[ju.keyEncoding]=t,e[ju.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[al])return new qu(this,e);if("open"!==this[al])throw new Ku("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new ju(this,e)}keys(e){const t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=rangeOptions(e,t))[ju.keyEncoding]=t,e[ju.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[al])return new Gu(this,e);if("open"!==this[al])throw new Ku("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new Hu(this,e)}values(e){const t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=rangeOptions(e,t))[ju.keyEncoding]=t,e[ju.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[al])return new Vu(this,e);if("open"!==this[al])throw new Ku("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new Wu(this,e)}defer(e){if("function"!=typeof e)throw new TypeError("The first argument must be a function");this[nl].push(e)}[il](){if(0===this[nl].length)return;const e=this[nl];this[nl]=[];for(const t of e)t()}attachResource(e){if("object"!=typeof e||null===e||"function"!=typeof e.close)throw new TypeError("The first argument must be a resource object");this[tl].add(e)}detachResource(e){this[tl].delete(e)}_chainedBatch(){return new zu(this)}_checkKey(e){if(null==e)return new Ku("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(null==e)return new Ku("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}AbstractLevel$1.prototype.nextTick=function requireNextTickBrowser(){if(Lu)return Qu;Lu=1;const e=Ru;return Qu=function(t,...r){0===r.length?e(t):e((()=>t(...r)))}}();const{AbstractSublevel:fl}=function requireAbstractSublevel(){if(Ou)return Mu;Ou=1;const e=Va,{Buffer:r}=t||{},{AbstractSublevelIterator:n,AbstractSublevelKeyIterator:i,AbstractSublevelValueIterator:o}=function requireAbstractSublevelIterator(){if(Uu)return Nu;Uu=1;const{AbstractIterator:e,AbstractKeyIterator:t,AbstractValueIterator:r}=Cc,n=Symbol("unfix"),i=Symbol("iterator"),o=Symbol("handleOne"),s=Symbol("handleMany"),c=Symbol("callback");class AbstractSublevelIterator extends e{constructor(e,t,r,u){super(e,t),this[i]=r,this[n]=u,this[o]=this[o].bind(this),this[s]=this[s].bind(this),this[c]=null}[o](e,t,r){const i=this[c];if(e)return i(e);void 0!==t&&(t=this[n](t)),i(e,t,r)}[s](e,t){const r=this[c];if(e)return r(e);for(const e of t){const t=e[0];void 0!==t&&(e[0]=this[n](t))}r(e,t)}}class AbstractSublevelKeyIterator extends t{constructor(e,t,r,u){super(e,t),this[i]=r,this[n]=u,this[o]=this[o].bind(this),this[s]=this[s].bind(this),this[c]=null}[o](e,t){const r=this[c];if(e)return r(e);void 0!==t&&(t=this[n](t)),r(e,t)}[s](e,t){const r=this[c];if(e)return r(e);for(let e=0;e<t.length;e++){const r=t[e];void 0!==r&&(t[e]=this[n](r))}r(e,t)}}class AbstractSublevelValueIterator extends r{constructor(e,t,r){super(e,t),this[i]=r}}for(const e of[AbstractSublevelIterator,AbstractSublevelKeyIterator])e.prototype._next=function(e){this[c]=e,this[i].next(this[o])},e.prototype._nextv=function(e,t,r){this[c]=r,this[i].nextv(e,t,this[s])},e.prototype._all=function(e,t){this[c]=t,this[i].all(e,this[s])};for(const e of[AbstractSublevelValueIterator])e.prototype._next=function(e){this[i].next(e)},e.prototype._nextv=function(e,t,r){this[i].nextv(e,t,r)},e.prototype._all=function(e,t){this[i].all(e,t)};for(const e of[AbstractSublevelIterator,AbstractSublevelKeyIterator,AbstractSublevelValueIterator])e.prototype._seek=function(e,t){this[i].seek(e,t)},e.prototype._close=function(e){this[i].close(e)};return Nu.AbstractSublevelIterator=AbstractSublevelIterator,Nu.AbstractSublevelKeyIterator=AbstractSublevelKeyIterator,Nu.AbstractSublevelValueIterator=AbstractSublevelValueIterator,Nu}(),s=Symbol("prefix"),c=Symbol("upperBound"),u=Symbol("prefixRange"),l=Symbol("parent"),h=Symbol("unfix"),f=new TextEncoder,d={separator:"!"};Mu=function({AbstractLevel:t}){class AbstractSublevel extends t{static defaults(t){if("string"==typeof t)throw new e("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(t&&t.open)throw new e("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==t?d:t.separator?t:{...t,separator:"!"}}constructor(t,r,n){const{separator:i,manifest:o,...u}=AbstractSublevel.defaults(n);r=trim(r,i);const d=i.charCodeAt(0)+1,p=t[l]||t;if(!f.encode(r).every((e=>e>d&&e<127)))throw new e(`Prefix must use bytes > ${d} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(mergeManifests(p,o),u);const A=(t.prefix||"")+i+r+i,y=A.slice(0,-1)+String.fromCharCode(d);this[l]=p,this[s]=new MultiFormat(A),this[c]=new MultiFormat(y),this[h]=new Unfixer,this.nextTick=p.nextTick}prefixKey(e,t){if("utf8"===t)return this[s].utf8+e;if(0===e.byteLength)return this[s][t];if("view"===t){const t=this[s].view,r=new Uint8Array(t.byteLength+e.byteLength);return r.set(t,0),r.set(e,t.byteLength),r}{const t=this[s].buffer;return r.concat([t,e],t.byteLength+e.byteLength)}}[u](e,t){void 0!==e.gte?e.gte=this.prefixKey(e.gte,t):void 0!==e.gt?e.gt=this.prefixKey(e.gt,t):e.gte=this[s][t],void 0!==e.lte?e.lte=this.prefixKey(e.lte,t):void 0!==e.lt?e.lt=this.prefixKey(e.lt,t):e.lte=this[c][t]}get prefix(){return this[s].utf8}get db(){return this[l]}_open(e,t){this[l].open({passive:!0},t)}_put(e,t,r,n){this[l].put(e,t,r,n)}_get(e,t,r){this[l].get(e,t,r)}_getMany(e,t,r){this[l].getMany(e,t,r)}_del(e,t,r){this[l].del(e,t,r)}_batch(e,t,r){this[l].batch(e,t,r)}_clear(e,t){this[u](e,e.keyEncoding),this[l].clear(e,t)}_iterator(e){this[u](e,e.keyEncoding);const t=this[l].iterator(e),r=this[h].get(this[s].utf8.length,e.keyEncoding);return new n(this,e,t,r)}_keys(e){this[u](e,e.keyEncoding);const t=this[l].keys(e),r=this[h].get(this[s].utf8.length,e.keyEncoding);return new i(this,e,t,r)}_values(e){this[u](e,e.keyEncoding);const t=this[l].values(e);return new o(this,e,t)}}return{AbstractSublevel:AbstractSublevel}};const mergeManifests=function(e,t){return{...e.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...t,encodings:{utf8:supportsEncoding(e,"utf8"),buffer:supportsEncoding(e,"buffer"),view:supportsEncoding(e,"view")}}},supportsEncoding=function(e,t){return!!e.supports.encodings[t]&&e.keyEncoding(t).name===t};class MultiFormat{constructor(e){this.utf8=e,this.view=f.encode(e),this.buffer=r?r.from(this.view.buffer,0,this.view.byteLength):{}}}class Unfixer{constructor(){this.cache=new Map}get(e,t){let r=this.cache.get(t);return void 0===r&&(r="view"===t?function(e,t){return t.subarray(e)}.bind(null,e):function(e,t){return t.slice(e)}.bind(null,e),this.cache.set(t,r)),r}}const trim=function(e,t){let r=0,n=e.length;for(;r<n&&e[r]===t;)r++;for(;n>r&&e[n-1]===t;)n--;return e.slice(r,n)};return Mu}()({AbstractLevel:AbstractLevel$1});Wa.AbstractLevel=AbstractLevel$1,Wa.AbstractSublevel=fl;const maybeError=function(e,t){return"open"!==e[al]&&(e.nextTick(t,new Ku("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},formats=function(e){return Object.keys(e.supports.encodings).filter((t=>!!e.supports.encodings[t]))};Ha.AbstractLevel=Wa.AbstractLevel,Ha.AbstractSublevel=Wa.AbstractSublevel,Ha.AbstractIterator=Cc.AbstractIterator,Ha.AbstractKeyIterator=Cc.AbstractKeyIterator,Ha.AbstractValueIterator=Cc.AbstractValueIterator,Ha.AbstractChainedBatch=gu.AbstractChainedBatch;
/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var dl=function runParallelLimit(e,t,r){if("number"!=typeof t)throw new Error("second argument must be a Number");let n,i,o,s,c,u,l=!0;Array.isArray(e)?(n=[],o=i=e.length):(s=Object.keys(e),n={},o=i=s.length);function done(e){function end(){r&&r(e,n),r=null}l?pl(end):end()}function each(t,r,l){if(n[t]=l,r&&(c=!0),0==--o||r)done(r);else if(!c&&u<i){let t;s?(t=s[u],u+=1,e[t]((function(e,r){each(t,e,r)}))):(t=u,u+=1,e[t]((function(e,r){each(t,e,r)})))}}u=t,o?s?s.some((function(r,n){return e[r]((function(e,t){each(r,e,t)})),n===t-1})):e.some((function(e,r){return e((function(e,t){each(r,e,t)})),r===t-1})):done(null);l=!1};const pl=Ru;var gl={},Al=function createKeyRange(e){const t=void 0!==e.gte?e.gte:void 0!==e.gt?e.gt:void 0,r=void 0!==e.lte?e.lte:void 0!==e.lt?e.lt:void 0,n=void 0===e.gte,i=void 0===e.lte;return void 0!==t&&void 0!==r?IDBKeyRange.bound(t,r,n,i):void 0!==t?IDBKeyRange.lowerBound(t,n):void 0!==r?IDBKeyRange.upperBound(r,i):null};const yl=new TextEncoder;var deserialize$2=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):yl.encode(e)};const{AbstractIterator:bl}=Ha,ml=Al,Il=deserialize$2,El=Symbol("cache"),wl=Symbol("finished"),_l=Symbol("options"),Bl=Symbol("currentOptions"),Cl=Symbol("position"),Sl=Symbol("location"),kl=Symbol("first"),vl={};function maybeCommit(e){"function"==typeof e.commit&&e.commit()}gl.Iterator=class Iterator$1 extends bl{constructor(e,t,r){super(e,r),this[El]=[],this[wl]=0===this.limit,this[_l]=r,this[Bl]={...r},this[Cl]=void 0,this[Sl]=t,this[kl]=!0}_nextv(e,t,r){if(this[kl]=!1,this[wl])return this.nextTick(r,null,[]);if(this[El].length>0)return e=Math.min(e,this[El].length),this.nextTick(r,null,this[El].splice(0,e));let n;void 0!==this[Cl]&&(this[_l].reverse?(this[Bl].lt=this[Cl],this[Bl].lte=void 0):(this[Bl].gt=this[Cl],this[Bl].gte=void 0));try{n=ml(this[Bl])}catch(e){return this[wl]=!0,this.nextTick(r,null,[])}const i=this.db.db.transaction([this[Sl]],"readonly"),o=i.objectStore(this[Sl]),s=[];if(this[_l].reverse){o[!this[_l].values&&o.openKeyCursor?"openKeyCursor":"openCursor"](n,"prev").onsuccess=t=>{const r=t.target.result;if(r){const{key:t,value:n}=r;this[Cl]=t,s.push([this[_l].keys&&void 0!==t?Il(t):void 0,this[_l].values&&void 0!==n?Il(n):void 0]),s.length<e?r.continue():maybeCommit(i)}else this[wl]=!0}}else{let t,r;const complete=()=>{if(void 0===t||void 0===r)return;const n=Math.max(t.length,r.length);0===n||e===1/0?this[wl]=!0:this[Cl]=t[n-1],s.length=n;for(let e=0;e<n;e++){const n=t[e],i=r[e];s[e]=[this[_l].keys&&void 0!==n?Il(n):void 0,this[_l].values&&void 0!==i?Il(i):void 0]}maybeCommit(i)};this[_l].keys||e<1/0?o.getAllKeys(n,e<1/0?e:void 0).onsuccess=e=>{t=e.target.result,complete()}:(t=[],this.nextTick(complete)),this[_l].values?o.getAll(n,e<1/0?e:void 0).onsuccess=e=>{r=e.target.result,complete()}:(r=[],this.nextTick(complete))}i.onabort=()=>{r(i.error||new Error("aborted by user")),r=null},i.oncomplete=()=>{r(null,s),r=null}}_next(e){if(this[El].length>0){const[t,r]=this[El].shift();this.nextTick(e,null,t,r)}else if(this[wl])this.nextTick(e);else{let t=Math.min(100,this.limit-this.count);this[kl]&&(this[kl]=!1,t=1),this._nextv(t,vl,((t,r)=>{if(t)return e(t);this[El]=r,this._next(e)}))}}_all(e,t){this[kl]=!1;const r=this[El].splice(0,this[El].length),n=this.limit-this.count-r.length;if(n<=0)return this.nextTick(t,null,r);this._nextv(n,vl,((e,n)=>{if(e)return t(e);r.length>0&&(n=r.concat(n)),t(null,n)}))}_seek(e,t){let r;this[kl]=!0,this[El]=[],this[wl]=!1,this[Cl]=void 0,this[Bl]={...this[_l]};try{r=ml(this[_l])}catch(e){return void(this[wl]=!0)}null===r||r.includes(e)?this[_l].reverse?this[Bl].lte=e:this[Bl].gte=e:this[wl]=!0}};const{AbstractLevel:xl}=Ha,Tl=Va,Dl=dl,{fromCallback:Ql}=_c,{Iterator:Ll}=gl,Rl=deserialize$2,Ul=function clear(e,t,r,n,i){if(0===n.limit)return e.nextTick(i);const o=e.db.transaction([t],"readwrite"),s=o.objectStore(t);let c=0;o.oncomplete=function(){i()},o.onabort=function(){i(o.error||new Error("aborted by user"))};const u=s.openKeyCursor?"openKeyCursor":"openCursor",l=n.reverse?"prev":"next";s[u](r,l).onsuccess=function(e){const t=e.target.result;t&&(s.delete(t.key).onsuccess=function(){(n.limit<=0||++c<n.limit)&&t.continue()})}},Ml=Al,Ol=Symbol("idb"),Nl=Symbol("namePrefix"),Fl=Symbol("location"),$l=Symbol("version"),Pl=Symbol("store"),Yl=Symbol("onComplete"),Kl=Symbol("promise");class BrowserLevel extends xl{constructor(e,t,r){if("function"==typeof t||"function"==typeof r)throw new Tl("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:n,version:i,...o}=t||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},o),"string"!=typeof e)throw new Error("constructor requires a location string argument");this[Fl]=e,this[Nl]=null==n?"level-js-":n,this[$l]=parseInt(i||1,10),this[Ol]=null}get location(){return this[Fl]}get namePrefix(){return this[Nl]}get version(){return this[$l]}get db(){return this[Ol]}get type(){return"browser-level"}_open(e,t){const r=indexedDB.open(this[Nl]+this[Fl],this[$l]);r.onerror=function(){t(r.error||new Error("unknown error"))},r.onsuccess=()=>{this[Ol]=r.result,t()},r.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this[Fl])||t.createObjectStore(this[Fl])}}[Pl](e){return this[Ol].transaction([this[Fl]],e).objectStore(this[Fl])}[Yl](e,t){const r=e.transaction;r.onabort=function(){t(r.error||new Error("aborted by user"))},r.oncomplete=function(){t(null,e.result)}}_get(e,t,r){const n=this[Pl]("readonly");let i;try{i=n.get(e)}catch(e){return this.nextTick(r,e)}this[Yl](i,(function(e,t){return e?r(e):void 0===t?r(new Tl("Entry not found",{code:"LEVEL_NOT_FOUND"})):void r(null,Rl(t))}))}_getMany(e,t,r){const n=this[Pl]("readonly"),i=e.map((e=>t=>{let r;try{r=n.get(e)}catch(e){return t(e)}r.onsuccess=()=>{const e=r.result;t(null,void 0===e?e:Rl(e))},r.onerror=e=>{e.stopPropagation(),t(r.error)}}));Dl(i,16,r)}_del(e,t,r){const n=this[Pl]("readwrite");let i;try{i=n.delete(e)}catch(e){return this.nextTick(r,e)}this[Yl](i,r)}_put(e,t,r,n){const i=this[Pl]("readwrite");let o;try{o=i.put(t,e)}catch(e){return this.nextTick(n,e)}this[Yl](o,n)}_iterator(e){return new Ll(this,this[Fl],e)}_batch(e,t,r){const n=this[Pl]("readwrite"),i=n.transaction;let o,s=0;i.onabort=function(){r(o||i.error||new Error("aborted by user"))},i.oncomplete=function(){r()},function loop(){const t=e[s++],r=t.key;let c;try{c="del"===t.type?n.delete(r):n.put(t.value,r)}catch(e){return o=e,void i.abort()}s<e.length?c.onsuccess=loop:"function"==typeof i.commit&&i.commit()}()}_clear(e,t){let r,n;try{r=Ml(e)}catch(e){return this.nextTick(t)}if(e.limit>=0)return Ul(this,this[Fl],r,e,t);try{const e=this[Pl]("readwrite");n=r?e.delete(r):e.clear()}catch(e){return this.nextTick(t,e)}this[Yl](n,t)}_close(e){this[Ol].close(),this.nextTick(e)}}BrowserLevel.destroy=function(e,t,r){"function"==typeof t&&(r=t,t="level-js-"),r=Ql(r,Kl);const n=indexedDB.deleteDatabase(t+e);return n.onsuccess=function(){r()},n.onerror=function(e){r(e)},r[Kl]};var jl=BrowserLevel;const Hl=["dark","light","decent","morpheus","ghostwriter"],[Wl,ql]=Q.exports.write(!1),[Gl,Vl]=Q.exports.write(),zl={p:"pitch",r:"show",e:"edit",d:"home",l:"saved",n:"discover",s:"settings"},Jl=Q.exports.mute(Gl,(e=>zl[e?.path]||"pitch")),Xl=Q.exports.mute(Q.exports.combine(Wl,Jl),(([e,t])=>!~["pitch","show","edit"].indexOf(t)||"pitch"!==t&&e)),Zl=function unpackFeed(e,t){return unpack(Ds.Feed.from(e).first.body,t)}("PIC0.K0.GFZu8O6IJ1_4DVdAZHQr32fJx8afn6MUbyyXz987iLAB0.3Dq-Z9Oa8L6SiTU6LWCssrPRyPN_RPXC40XzrwQf2dHdWTWGyUpwzvFoMYzZ3_DTtXlvgl1EI+1Z+pGPCJcFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOw3gAHoWIAoXTFA44jIENoZWF0U2hlZXQKCiMjIE1hY3JvcwoKfCBleHByZXNzaW9uIHwgbmFtZXwgc3RhdHVzfAp8LcQBxgbIBy0tOnwKfGAh8J+TtyAhYHwgQmlnIEVtb2ppIFBpY3R1cmVzfCBkb25lxCZ7a2V5fWB8IEF1dGhvciBQdWJsaWMta2V5fCB0b2RvxSN0OmVwb2NoXHxmb3JtYXTEL0NvdW50ZG93bssnZzp1NjIycmQ4bXdwfWAgfCBFbWJlZCBHZW9oYXNofCBwbGFubmVkIMQtfn54b3I6cHdcfHJlZGFjdGVkfn7EM0lucGxhY2UgZW5jcnlwdOYA88s65AEZQmFzaWNzCiMjIyBUeXBvZ3JhcGh5CnzqASZ8cmVzdWx05gEexQQKfGAqKmJvbGQqKsRmICAgyA_EG19pdGFsaWNzX2B8IMkMxBl+flN0cmlrZSBUaHJvdWdo5gCk0hZ8CnwgQmFja3RpY2tzLcViYGNvZGVg5gCyIyBIZWFkaW5ncwpgYGBtYXJr5AE6CskXIDHkANfIDTLMMiAzxA7KDzTFD8oQNcYQyhE2xGPGdUxpc3TlAScjIyBVbm9yZGVyZWTtAIItIHN3aW1txDh3ZWFyCi0gcGFzc3BvcnTEG3VuZ2xhc3Nl5QC2xVMjIyBP00cxLiBNb25rZXkKMskKMy4gQmFuYW5hxT3EOlRhYmxlcwrNOnwgYWxpZ24gcmlnaHQgyA5sZWbKDWNlbnRlcuQCNegC3sQBOnw6yw7NDeUC_uQB4yAgyVjFUsYBxRttaWRkbGXFD8ksxAEwIHwgQ2HIK8YsygHNLEFCIHwgQUxQSEEgQkVUQcgseMks6AD4TGlua3MgJmFtcDsgSW1hZ_ABBFvEISB0ZXh0XShodHRwczovL2hvc3QudGxkKQohW2FsdCBpxDjXJC_FHS5wbmcpxXRfVE9ETzogYmxvY2sgcmVtb3RlxkBzIGZyb20gdW50cnVzdGVkIGHlA_RzLl_mAjBCxDJxdW90Ze0AoD4gVGhlIHRyZWUgd2FzIHRhbGxlciB0aGFuIGFueXRo5AI+c2hlCj4gaGFkIGV2ZXIgc2VlbiBiZWZvcmUuCj4KPiAtVGhleSBzYWlkIGl0xShixCN0aGVyZSBhIHdoaWxlLuoCukNvZGXmAI9zCuQBTcQZxAggIGNvbnN0IHggPSA0MssTb2xlLmxvZyh4KcgwoXoBoXgAoWwAoWTLQngxnEIYkAChcwo"),eh=new Kernel(new jl("rant.lvl",{valueEncoding:"buffer",keyEncoding:"buffer"}));async function shareDefault(){await async function navigatorShare(){const e=await currentPickle();if(!e)return;const{title:t,excerpt:r}=Q.exports.get(eh.$rant()),n={title:`1k | ${t||"Rant"}`,text:r,url:e};return await navigator.share(n)}().catch((e=>(console.warn("navigator.share() failed, trying clipboard",e),async function currentToClipboard(){const e=await currentPickle();e&&await navigator.clipboard.writeText(e)}().then((()=>window.alert("Copied URL to clipboard"))))))}async function currentPickle(){const e=Q.exports.get(eh.$current);if(isDraftID(e))return!1;const t=await eh.pickle(e),r=new URL(window.location);return r.hash="r/"+t,r.toString()}function stitch(e,t,r){if("string"==typeof t&&(t=nEl(t)),!t.isTonicComponent)throw new Error("Expected Tonic Component");e=Q.exports.gate(e),r&&(e=Q.exports.nfo(e,r));const n=e((e=>{t.reRender((t=>({...t,n:e})))}));t.disconnected=()=>n()}function nEl(e){const t=e;if("string"==typeof e&&(e=document.getElementById(e)),!e)throw new Error("ElementNotFound:"+t);return e}function nValue(e,t,r){const n=nEl(e),i=t((e=>{"checkbox"===n.type?n.checked=e:n.value=e})),handler=()=>{"function"==typeof r&&("checkbox"===n.type?r(n.checked):r(n.value))};return"function"==typeof r&&(n.addEventListener("keyup",handler),n.addEventListener("change",handler)),()=>{i(),"function"==typeof r&&(n.removeEventListener("keyup",handler),n.removeEventListener("change",handler))}}function nClass(e,t,r){const n=nEl(e);return r((e=>n.classList.toggle(t,e)))}function nClick(e,t){return(e=nEl(e)).addEventListener("click",t),()=>e.removeEventListener("click",t)}function nText(e,t){return e=nEl(e),t((t=>{e.innerText=t}))}function nAttr(e,t,r){return e=nEl(e),r((r=>{e.dataset[t]=r}))}function nDisabled(e,t){return e=nEl(e),t((t=>{e.disabled=!!t}))}function nHide(e,t){return e=nEl(e),t((t=>{e.style.display=t?"none":null}))}function nShow(e,t){return nHide(e,Q.exports.mute(t,(e=>!e)))}function apply(){const e=window.location.hash;if(""===e)return Vl({path:"p",id:null,q:new URLSearchParams});const t=new URL(e.replace(/^#\/?/,"x:")),[r,n]=t.pathname.split("/"),i=new URLSearchParams(t.search),o={};let s=!0;for(const[e,t]of i.entries())o[e]=t,s=void 0;Vl({path:r.toLowerCase(),id:n,q:s&&o})}function navigate(e){window.history.pushState(null,null,`#${e}`.replace(/^#\/+/,"#/")),apply()}window.k=eh,Tonic.add(class MainMenu extends Tonic{click(e){const t=Tonic.match(e.target,"button[data-route]");if(!t)return;const r=t.dataset.route;Q.exports.get(Gl).path!==r&&navigate(r)}render(){return this.html`
      <nav class="row">
        <button data-route="d" data-toltip="Drafts"><ico>📝</ico></button>
        <button data-route="l" data-toltip="Saved"><ico>📑</ico></button>
        <button data-route="n" data-toltip="Discover"><ico>🧭</ico></button>
        <button data-route="s" data-toltip="Settings"><ico>⚙️</ico></button>
      </nav>
    `}}),Tonic.add(class RenderCtrls extends Tonic{async click(e){Tonic.match(e.target,"#btn-toggle")&&("pitch"===this.props.state&&navigate("d"),ql(!Q.exports.get(Xl))),Tonic.match(e.target,".btn-export")&&shareDefault()}render(){const{state:e,rant:t}=this.props;if(!e)return;if("pitch"===e)return this.html`
        <ctrls class="row space-between xcenter">
          <button id="btn-toggle" class="btn-round">1k</button>
        </ctrls>
      `;const r=new Date(t.date).toLocaleString(),n="draft"===e?this.html`
        <sup><code>DRAFT</code></sup>
        <small>saved: ${r}</small>
      `:this.html`
        <small>Author: ${t.author.slice(0,4).toString("hex")}</small>
        <small>Date: <span id="author-id">${r}</span></small>
      `;return this.html`
      <ctrls class="row space-between xcenter">
        <!-- left -->
        <div class="row xcenter">
          <button id="btn-toggle" class="btn-round">1k</button>
          <div class="col">${n}</div>
        </div>
        <!-- right -->
        ${"draft"===e?this.html`
            <!-- <b role="button">Publish</b> -->
          `:this.html`
          <!--<button class="btn-round"><ico>📤</ico></button>-->
          <b role="button" class="outline secondary btn-export">share</b>
          `}
      </ctrls>
    `}}),Tonic.add(class MessagePreview extends Tonic{async click(e){if(!e.target.matches("button.create"))return;console.log("Button clicked");const[t]=await eh.checkout(null);ql(!0),navigate(`e/${t}`)}preprocess(e=""){return e=(e=e.replace(new RegExp(ja,"g"),'<span class="imgmoji">$1</span>')).replace(/\{\{DATE\}\}/gi,new Date(this.props.date)),D.sanitize(marked(e))}render(){const{text:e,state:t,id:r}=this.props?.n||{};if(""===e&&"draft"!==t)return this.html`<code>Empty Casette</code>`;if("pitch"===t||"draft"===t&&!r)return nEl("render-ctrls").reRender({state:"pitch"}),"";nEl("render-ctrls").reRender({state:t,rant:this.props.n});return this.html([this.preprocess(e||Zl.text)])}}),Tonic.add(class RantList extends Tonic{async click(e){const r=Tonic.match(e.target,"rant");if(!r)return;let n;if("new"===r.dataset.id)return async function createNew(){await eh.checkout(null),navigate(`e/${Q.exports.get(eh.$rant()).id}`),ql(!0)}();if(n=isDraftID(r.dataset.id)?r.dataset.id:t.Buffer.from(r.dataset.id,"base64"),Tonic.match(e.target,".trash"))return console.info("deleteRant",n),void await eh.deleteRant(n);await eh.checkout(n);const i=Q.exports.get(eh.$rant());if("draft"===i.state)navigate(`e/${i.id}`),ql(!0);else if("signed"===i.state){navigate(`r/${await eh.pickle(n)}`)}}render(){const{n:e}=this.props,t="true"===this.dataset.create;let r="";return t&&(r=this.html`
        <rant data-id="new" class="row xcenter">
          <icon>🥚</icon>
          <h4>New Rant</h4>
        </rant>
      `),Array.isArray(e)||t?this.html`
      ${r}
      ${(e||[]).map((e=>{let t=e.id;return isDraftID(e.id)||(t=t.toString("base64")),this.html`
          <rant class="row xcenter space-between"
            data-id="${t}"
            data-state="${e.state}">
            <div class="row xcenter">
              <icon>${e.icon}</icon>
              <div class="col xstart">
                <h6>${e.title}</h6>
                <small>${new Date(e.date).toLocaleString()}</small>
                <div class="sampl">${e.excerpt}...</div>
              </div>
            </div>
            <b role="button" class="btn-round trash"></b>
          </rant>
        `}))}
    `:this.html`<p class="text-center"><code>No rants</code></p>`}}),window.addEventListener("popstate",apply),apply(),await async function main(){await eh.boot().then(console.info("Kernel booted")),nAttr("main","view",Jl),nClass("main","mode-edit",Xl),nClass("main","mode-show",Q.exports.mute(Xl,(e=>!e))),stitch(eh.$rant(),"markdown-render");const e=Q.exports.memo(Q.exports.gate(Q.exports.mute(eh.$rant(),(e=>e.state)))),t=Q.exports.memo(Q.exports.mute(eh.$rant(),(e=>e.theme)));nAttr("view-render","state",e),nAttr("view-render","theme",Q.exports.mute(t,(e=>Hl[e]))),nClick("r-btn-resume",(()=>ql(!0))),nAttr("view-editor","state",e),nValue("markdown-area",Q.exports.mute(eh.$rant(),(e=>e?.text)),(e=>eh.setText(e))),nDisabled("markdown-area",Q.exports.mute(e,(e=>"draft"!==e)));const r=Q.exports.memo(Q.exports.gate(Q.exports.mute(eh.$rant(),(e=>e.size))));nValue("edit-capacity-meter",Q.exports.mute(r,(e=>Math.ceil(e/1024*100)))),nText("edit-capacity-bytes",Q.exports.mute(r,(e=>`${e}`.padStart(4,"0")))),nClick("edit-back",(()=>{navigate("draft"===Q.exports.get(e)?"d":"l")})),nClick("edit-preview",(()=>ql(!Q.exports.get(Xl)))),nClick("edit-publish",(async()=>{const e=await eh.commit();navigate(`r/${await eh.pickle(e)}`),ql(!1),console.log("Comitted",e.toString("hex"),Q.exports.get(eh.$rant()))})),nClick("edit-fork",(async()=>{const e=Q.exports.get(eh.$current),[t,r]=await eh.checkout(e,!0);console.log("Forked into",t,r),navigate(`e/${t}`)})),nClick("edit-share",shareDefault),nClick("edit-options",(()=>{nEl("edit-opts-dlg").open=!0})),nClick("edit-opts-ok",(()=>{nEl("edit-opts-dlg").open=!1})),nValue("edit-opt-theme",t,(async e=>eh.setTheme(parseInt(e))));const n=eh.config("dark-mode",!0);nValue("opt-dark-mode",...n),nAttr(document.body,"theme",Q.exports.mute(n[0],(e=>e?"dark":"light")));const i=eh.config("mirror",!1);nValue("opt-mirror",...i),nAttr("main","mirror",i[0]),nText("nfo-build",Q.exports.init(`production-2.1.0-${"a23948da9527f3dbdafe6687c81ec4de9f473277".substr(0,8)}`)),nText("nfo-version",Q.exports.init("2.1.0".replace(/^(\d+).+/,"$1"))),nText("opt-pk",Q.exports.init(eh.pk.toString("base64"))),nClick("opt-btn-reload",(async()=>{await eh.store.reload(),window.location.reload()})),nClick("opt-btn-purge",(async function purge(){window.confirm("You are about to burn your passport and everything with it...\nyou sure about this?")&&(await eh.db.clear(),window.location.reload())})),stitch(eh.$drafts(),"saved-drafts"),eh.$current((e=>{if(!isDraftID(e))return;nEl("btn-resume-draft").href=`#e/${e}`})),nHide("btn-resume-draft",Q.exports.mute(eh.$current,(e=>!isDraftID(e)))),stitch(eh.$rants(),"saved-rants"),Q.exports.mute(Q.exports.gate(Gl),(async({path:e,id:t,q:r})=>{switch(zl[e]){case"show":return await eh.import(t),"onroute imported() // => true|false TODO";case"edit":if("new"===t){const[e]=await eh.checkout(null);return ql(!0),navigate(`e/${e}`),"onroute created new"}return await eh.checkout(t).catch((e=>{console.error("404?",t,e),navigate("/")})),`onroute checkout(${t})`;default:return`onroute noop(${zl[e]}, ${(t||"").substr(0,24)})`}}))(console.info),window.addEventListener("beforeunload",(async()=>{console.info("Saving Draft beforeunload"),await eh.saveDraft(),console.info("Draft Saved!")}))}();export{nAttr,nClass,nClick,nDisabled,nEl,nHide,nShow,nText,nValue,navigate,stitch};
</script>
  <style>
  </style>
</head>
<body data-theme="dark">
  <noscript>
    Not a fan of running other people's scripts?<br/>
    <br/>
    This app edits and displays Markdown<br/>
    It contains only Free and Open software.<br/>
    Have a look yourself:<br/>
    <br/>
    https://github.com/telamon/rant/<br/>
    <br/>
    Enjoy!<br/>
  </noscript>

  <main id="main" data-mirror="true">
    <!----- DRAFTS ------------->
    <home class="west">
      <main-menu></main-menu>
      <div class="container pad">
        <div class="row space-between xstart">
          <h3>Drafts</h3>
          <a id="btn-resume-draft" role="button" href="#/e" class="outline secondary">
            Resume Editing
          </a>
        </div>
        <p>These are your drafts, publish them in order
        to share</p>
        <rant-list id="saved-drafts" data-create="true"></rant-list>
      </div>
    </home>

    <!----- SAVED RANTS ------------->
    <saved class="west">
      <main-menu></main-menu>
      <div class="container pad">
        <div class="row space-between xstart">
          <h3>Saved</h3>
          <b id="btn-import" role="button" class="outline secondary">
            Import
          </b>
        </div>
        <rant-list id="saved-rants"></rant-list>
      </div>
    </saved>

    <!----- SETTINGS ------------->
    <settings class="west">
      <main-menu></main-menu>
      <div class="pad">
        <h3>Settings</h3>
        <p>
          <label for="opt-dark-mode">
            <input type="checkbox" role="switch" name="opt-dark-mode" id="opt-dark-mode" />
            Dark mode
          </label>
          <label for="opt-mirror">
            <input type="checkbox" role="switch" name="opt-mirror" id="opt-mirror" />
            Swap east &amp; west on big displays
          </label>
        </p>
        <div>
          Public Key
          <pre><code id="opt-pk"></code></pre>
        </div>
        <button id="opt-btn-reload">Rebuild Cache</button>
        <button id="opt-btn-purge">Purge Everything</button>
        <br/>
        <hr/>
        <sup><code>About</code></sup>
        <logo>
          <Icon id="dl-logo-red" />
        </logo>
        <h1 class="text-center">
           1kilo Rant v<samp id="nfo-version"></samp>
        </h1>
        <p>
          Where ever we're going, we'll get there eventually.
          Meanwhile, come say hi!
        <ul>
          <li><a href="https://discord.gg/8RMRUPZ9RS">Discord</a></li>
          <li><a href="https://github.com/telamon/rant/issues">Questions &amp; Support</a></li>
          <li><a href="https://github.com/telamon/rant">Source code</a></li>
          <li>Built with: <a href="https://github.com/telamon/picostack">picostack</a></li>
        </ul>

        <h5>Legalities</h5>
        <table>
          <tdata>
            <tr><td>build</td><td id="nfo-build"></td></tr>
            <tr><td>Cookies</td><td>none, zilch, zero</td></tr>
            <tr><td>GDPR</td><td>All blocks are automatically erased when timers hit <code>00:00</code></td></tr>
            <tr><td>User</td><td>We have absolutley no control over p2p interactions, apply common sense, be polite</td></tr>
            <tr><td>License</td><td>GNU AGPL version 3</td></tr>
            <tr><td>Motto</td><td>No servers, no supernodes, liberate humans and machines alike</td></tr>
          </tdata>
        </table>
        <p>
          <sub>Bottom line</sub><br/>
          <samp>
            This software is presented to you as is,
            Decent Labs AB takes no responsibility for how this software is used or distributed.
            <br/>
            Refer to the contents of the aforementioned license for more details.
          </samp>
        </p>
      </div>
    </settings>

    <!----- DISCOVER/Swarm! ------------->
    <discover class="west">
      <main-menu></main-menu>
      <div class="pad">
        <h3>Discover</h3>
        <pre><code>
Modem56 was left unplugged.
Check back later...

 HYPR ~¤~ swarm
    ___|_              _
   /____/|___,,   ;___|R|
  |_o_=_|/
        </code></pre>
      </div>
    </discover>

    <!----- EDITOR ------------->
    <editor id="view-editor" class="west col space-between">
      <main-menu></main-menu>
      <div class="text-center no-draft">
        <code>Rant is <strong>signed</strong>, <ico>🔓</ico>-fork to edit</code>
        <hr/>
      </div>
      <textarea id="markdown-area" placeholder="# Title"></textarea>
      <div class="row xend">
        <samp><span id="edit-capacity-bytes"></span>/1024</samp>
        <progress id="edit-capacity-meter" max=100></progress>
      </div>
      <!-- Rant Menu -->
      <nav class="row bottom">
        <button id="edit-back" data-tooltip="Back"><ico>🔙</ico></button>
        <button id="edit-preview" data-tooltip="Preview"><ico>👁️</ico></button>
        <!-- draft ctrls -->
        <button id="edit-options" data-tooltip="Options"><ico>🎨</ico></button>
        <button id="edit-publish" data-tooltip="Publish"><ico>🔏</ico></button>
        <!-- signed ctrls -->
        <button id="edit-fork" data-tooltip="Fork"><ico>🔓</ico></button>
        <button id="edit-share" data-tooltip="Share"><ico>📤</ico></button>
        <dialog id="edit-opts-dlg">
          <article>
            <header>Rant Options</header>
            <label for="edit-opt-theme">
              Theme
              <select name="edit-opt-theme" id="edit-opt-theme">
                <option value="0">Dark</option>
                <option value="1">Light</option>
                <option value="2">Decent</option>
                <option value="3">Morpheus (intro)</option>
                <option value="4">Ghostwriter (intro)</option>
              </select>
            </label>
            <label for="edit-opt-encryption">
              Encryption
              <select name="edit-opt-encryption" id="edit-opt-encryption">
                <option value="0">none</option>
                <option value="1">Keypad</option>
                <option value="2">Passphrase</option>
                <option value="3">Box</option>
              </select>
            </label>
            <!--
            <label for="edit-opt-location">
              Attach Location
              <input name="edit-opt-location" id="edit-opt-location" />
            </label> -->
            <footer><button id="edit-opts-ok">ok</button></footer>
          </article>
        </dialog>
      </nav>
    </editor>

    <!----- RENDERER ------------->
    <render class="east col space-between" id="view-render">
      <render-ctrls id="render-ctrls"></render-ctrls>
      <message-preview id="markdown-render" class="container grow4"></message-preview>
      <button id="r-btn-resume" class="btn-round"><ico>✏️</ico></button>
      <div id="r-ghost-pad">&nbsp;</div>
      <footer class="text-center">
        <sub>1k Rant ©<!--<sub>left</sub>--> Decent Labs 2022 ¤ Powered by <a href="https://github.com/telamon/picostack">picostack</a> ¤</sub>
      </footer>
    </render>

    <!----- Pitch ------------->
    <pitch class="east pad">
      <render-ctrls state="pitch"></render-ctrls>
      <div class="container">
      <h2 class="text-center"><span class="imgmoji">1K</span>  Unstoppable Notes</h2>
      <p>This app creates notes that are like digital graffiti. </p>
      <p>The likelihood that your words will get stuck
      on the internet <strong>forever</strong> are high.</p>
      <a role="button" href="#e/new" class="block">Create new rant</a>
      <h3>Resistant against censorship</h3>
      <p>We've carefully taken steps to design something that does not depend on platforms or third parties, no trackers, no backends - it's perfectly <em>Cloudfree</em>.</p>
      <blockquote>
        <p>Every time the message is shared it is replicated in it's full form.</p>
      </blockquote>
      <p>To stop the transmission you'd have to censor every device and platform the message passed through. </p>
      <h5><em>- What about the app?</em></h5>
      <p>This app is a single self-contained <code>html</code> file that can be hosted anywhere.
      Feel free to download it and record your thoughts from the comfort of your off-grid resort.</p>
      <pre><code class="language-bash">curl https://pure.xorcery.co -o rant.html
      </code></pre>
      <p><span class="imgmoji">🏕️</span></p>
      <h3>limitation: <code>ONE KILO BYTE</code></h3>
      <p>It's about 1000 characters or 1 WoT,  but don't worry it's enough to vent some frustration.
      We provide compression and macros to generate maximum amount of fun.</p>
      <h5><em>- But why???</em></h5>
      <p>Cause it's fun. period.</p>
      <p>From a technical perspective; you can easily dump 1K into:</p>
      <ul>
        <li>URLs</li>
        <li>QRCodes</li>
        <li>DNS records</li>
        <li>RFID tags</li>
      </ul>
      <p><em>The swarm is coming..</em></p>
      <h3>Bonus</h3>
      <p>Wanna be cryptic?
      Got ya covered!</p>
      <blockquote>
        <p>Select some words and long-tap
        to <strong>redact</strong> them using inline encryption.<br/>
        <em>- not yet implemented, sorry :(</em></p>
      </blockquote>
      <p>Say something with a flair?
      Check out the <strong>themes</strong></p>
      <p>Happy Ranting! ✨</p>
      </div>
    </pitch>
  </main>
</body>
</html>

